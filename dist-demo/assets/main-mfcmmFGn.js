var mt=Object.defineProperty;var xe=n=>{throw TypeError(n)};var gt=(n,e,t)=>e in n?mt(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var u=(n,e,t)=>gt(n,typeof e!="symbol"?e+"":e,t),Le=(n,e,t)=>e.has(n)||xe("Cannot "+t);var _=(n,e,t)=>(Le(n,e,"read from private field"),t?t.call(n):e.get(n)),ke=(n,e,t)=>e.has(n)?xe("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(n):e.set(n,t),Me=(n,e,t,i)=>(Le(n,e,"write to private field"),i?i.call(n,t):e.set(n,t),t);import{E as A,I as ft,m as oe,T as vt,a as Ct,g as wt,o as Ve,i as Se,f as yt,b as bt,c as Ht,C as xt,N as ee,n as Lt,d as kt,e as Mt,p as Q,h as Ue,M as Vt,S as St,w as Et,H as Tt,j as At,U as Zt,k as It,F as Bt,l as zt,q as $t,r as Dt,s as Nt,t as Pt,u as Rt,L as qt,v as Ot,x as _t,y as Ft,z as Ut,P as jt,A as Kt}from"./tiptap-DY39qvpR.js";import{t as S}from"./ui-CnBRltuW.js";import{t as y,i as Ee}from"./i18n-RuslFlbv.js";import{a as Wt,c as N,g as je,b as Jt,d as Gt}from"./highlight-RKK9TBid.js";import{ad as fe,b as P,P as R,ae as re,d as B,A as Xt,N as Yt,_ as ve,af as Qt,j as ei,R as ti,h as ii}from"./prosemirror-CATLC7B1.js";import{M as ni,c as oi,t as ri,T as si,g as ai,a as li}from"./markdown-DgXgfdHp.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const r of o)if(r.type==="childList")for(const s of r.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&i(s)}).observe(document,{childList:!0,subtree:!0});function t(o){const r={};return o.integrity&&(r.integrity=o.integrity),o.referrerPolicy&&(r.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?r.credentials="include":o.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function i(o){if(o.ep)return;o.ep=!0;const r=t(o);fetch(o.href,r)}})();class L extends HTMLElement{constructor(){super();u(this,"template","");u(this,"editor");u(this,"options");u(this,"alwaysEnabledButtons",["fullscreen","printer"])}registerClickListener(){this.addEventListener("click",()=>{const t=this.editor?.chain();this.onClick(t),t?.run()})}connectedCallback(){this.innerHTML=this.template}onClick(t){}onCreate(t,i){this.editor=t.editor,this.options=i,this.alwaysEnabledButtons=Array.from(new Set(this.alwaysEnabledButtons.concat(i.alwaysEnabledToolbarKeys||[])))}onTransaction(t){const i=this.querySelector("div");i&&(this.onActive(t.editor)?i.classList.add("active"):i.classList.remove("active"))}onActive(t){return!1}onEditableChange(t){let i=this.tagName.slice(4).toLocaleLowerCase();i==="custom"&&(i=this.getAttribute("id")||""),!this.alwaysEnabledButtons.includes(i)&&(t?(this.style.pointerEvents="",this.style.opacity=""):(this.style.pointerEvents="none",this.style.opacity="0.5"))}}class ci extends L{constructor(){super(),this.template=`
        <div>
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M5.82843 6.99955L8.36396 9.53509L6.94975 10.9493L2 5.99955L6.94975 1.0498L8.36396 2.46402L5.82843 4.99955H13C17.4183 4.99955 21 8.58127 21 12.9996C21 17.4178 17.4183 20.9996 13 20.9996H4V18.9996H13C16.3137 18.9996 19 16.3133 19 12.9996C19 9.68584 16.3137 6.99955 13 6.99955H5.82843Z"></path></svg>
        </div>
        `,this.registerClickListener()}onClick(e){e.undo()}}class di extends L{constructor(){super(),this.template=`
         <div>
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M18.1716 6.99955H11C7.68629 6.99955 5 9.68584 5 12.9996C5 16.3133 7.68629 18.9996 11 18.9996H20V20.9996H11C6.58172 20.9996 3 17.4178 3 12.9996C3 8.58127 6.58172 4.99955 11 4.99955H18.1716L15.636 2.46402L17.0503 1.0498L22 5.99955L17.0503 10.9493L15.636 9.53509L18.1716 6.99955Z"></path></svg>
         </div>
        `,this.registerClickListener()}onClick(e){e.redo()}}class F extends L{constructor(){super(...arguments);u(this,"tippyInstance");u(this,"tippyEl");u(this,"textEl");u(this,"menuData",[]);u(this,"menuTextWidth","fit-content");u(this,"defaultMenuIndex",0);u(this,"refreshMenuText",!0);u(this,"width","fit-content");u(this,"dropDivWith","fit-content");u(this,"dropDivHeight","fit-content");u(this,"showItemsTip",!1)}renderTemplate(){this.template=`
         <div>
         <div style="display: flex;align-items: center;padding: 0 4px;" id="tippy">
             <span style="display:flex;text-align:center;overflow: hidden;" id="text">
                ${this.onMenuTextRender(this.defaultMenuIndex)}
             </span>
             <div style="display: flex;justify-content: center;align-items: center;">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
                    <path fill="none" d="M0 0h24v24H0z"></path><path d="M12 14L8 10H16L12 14Z"></path>
                </svg>
             </div>
         </div>
         </div>
        `}connectedCallback(){this.renderTemplate(),super.connectedCallback(),this.textEl=this.querySelector("#text"),this.tippyInstance=S(this.querySelector("#tippy"),{content:this.createMenuElement(),appendTo:this.closest(".aie-container"),placement:"bottom",trigger:"click",interactive:!0,arrow:!1})}createMenuElement(){const t=document.createElement("div");t.style.height=this.dropDivHeight,t.style.width=this.dropDivWith,t.classList.add("aie-dropdown-container");for(let i=0;i<this.menuData.length;i++){const o=document.createElement("div");if(o.classList.add("aie-dropdown-item"),o.innerHTML=`
            <div class="red-dot-container" id="item${i}">
                <div class="${i==this.defaultMenuIndex?"red-dot":""}"></div>
            </div>
            <div class="text">${this.onDropdownItemRender(i)}</div>
            `,o.addEventListener("click",r=>{const s=this.menuData[i];s.onClick?s.onClick(r,this.editor.aiEditor)&&this.tippyInstance.hide():(this.onDropdownItemClick(i),this.tippyInstance.hide())}),this.showItemsTip&&(this.editor?.options).toolbarTipEnable!==!1){const r=this.menuData[i];S(o,{appendTo:()=>this.closest(".aie-container"),content:r.tip||r.title,theme:"aietip",arrow:!0,placement:"right"})}t.appendChild(o)}return this.tippyEl=t,t}onTransaction(t){const i=this.tippyEl?.querySelector(".red-dot");i&&i.classList.remove("red-dot");let o=this.defaultMenuIndex;for(let r=0;r<this.menuData.length;r++)if(this.onDropdownActive(t.editor,r)){o=r;break}if(this.tippyEl?.querySelector(`#item${o}`).children[0].classList.add("red-dot"),this.refreshMenuText&&this.textEl){const r=this.onMenuTextRender(o);typeof r=="string"?this.textEl.innerHTML=r:(this.textEl.removeChild(this.textEl.firstChild),this.textEl.appendChild(r))}}}const ui=["paragraph","h1","h2","h3","h4","h5","h6"];class hi extends F{constructor(){super(),this.menuData=ui.map(e=>y(e)),this.dropDivHeight="265px",this.dropDivWith="fit-content"}onDropdownActive(e,t){return t==0?e.isActive("paragraph"):e.isActive("heading",{level:t})}onDropdownItemClick(e){e==0?this.editor.chain().setParagraph().focus().run():this.editor.chain().setHeading({level:e}).focus().run()}onDropdownItemRender(e){return e==0?this.menuData[e]:`<h${e}>${this.menuData[e]}</h${e}>`}onMenuTextRender(e){return this.menuData[e].replace(" ","")}}const pi=[{name:"SimSun",value:"SimSun"},{name:"FangSong",value:"FangSong"},{name:"SimHei",value:"SimHei"},{name:"KaiTi",value:"KaiTi"},{name:"Microsoft YaHei",value:"Microsoft YaHei"},{name:"FangSong GB2312",value:"FangSong_GB2312"},{name:"Arial",value:"Arial"}];class mi extends F{constructor(){super(),this.width="72px",this.menuTextWidth="60px",this.dropDivWith="150px"}onCreate(e,t){super.onCreate(e,t),this.menuData=t.fontFamily?.values||pi,this.menuData=[{name:y("default-font-family"),value:""}].concat(this.menuData)}onDropdownActive(e,t){return e.isActive("textStyle",{fontFamily:this.menuData[t].value})}onDropdownItemClick(e){const t=this.menuData[e].value;t?this.editor.chain().setFontFamily(t).run():this.editor.chain().unsetFontFamily().run()}onDropdownItemRender(e){return this.menuData[e].name}onMenuTextRender(e){return this.menuData[e].name}}const gi=[{name:"9",value:9},{name:"10",value:10},{name:"11",value:11},{name:"12",value:12},{name:"14",value:14},{name:"18",value:18},{name:"20",value:20},{name:"22",value:22},{name:"24",value:24},{name:"26",value:26},{name:"28",value:28},{name:"30",value:30},{name:"36",value:36},{name:"42",value:42},{name:"48",value:48},{name:"56",value:56},{name:"72",value:72}];class fi extends F{constructor(){super();u(this,"defaultValue",14)}onCreate(t,i){super.onCreate(t,i),this.menuData=i.fontSize?.values||gi,this.defaultValue=i.fontSize?.defaultValue||this.defaultValue;for(let o=0;o<this.menuData.length;o++)if(this.menuData[o].value==this.defaultValue){this.defaultMenuIndex=o,this.menuData[o].name=`${this.defaultValue}ï¼ˆ${y("default")}ï¼‰`;break}}onDropdownActive(t,i){return t.isActive("textStyle",{fontSize:`${this.menuData[i].value}px`})}onDropdownItemClick(t){const i=this.menuData[t].value;i==this.defaultValue?this.editor?.chain().focus().unsetFontSize().run():this.editor?.chain().focus().setFontSize(`${i}px`).run()}onDropdownItemRender(t){return this.menuData[t].name}onMenuTextRender(t){const i=this.menuData[t];return i.value==this.defaultValue?y("default-font-size"):i.name}}let vi=class extends L{constructor(){super(),this.template=`
        <div>
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8 11H12.5C13.8807 11 15 9.88071 15 8.5C15 7.11929 13.8807 6 12.5 6H8V11ZM18 15.5C18 17.9853 15.9853 20 13.5 20H6V4H12.5C14.9853 4 17 6.01472 17 8.5C17 9.70431 16.5269 10.7981 15.7564 11.6058C17.0979 12.3847 18 13.837 18 15.5ZM8 13V18H13.5C14.8807 18 16 16.8807 16 15.5C16 14.1193 14.8807 13 13.5 13H8Z"></path></svg>
        </div>
        `,this.registerClickListener()}onClick(e){e.toggleBold()}onActive(e){return e.isActive("bold")}},Ci=class extends L{constructor(){super(),this.template=`
        <div>
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M15 20H7V18H9.92661L12.0425 6H9V4H17V6H14.0734L11.9575 18H15V20Z"></path></svg>
        </div>
        `,this.registerClickListener()}onClick(e){e.toggleItalic()}onActive(e){return e.isActive("italic")}},wi=class extends L{constructor(){super(),this.template=`
        <div>
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8 3V12C8 14.2091 9.79086 16 12 16C14.2091 16 16 14.2091 16 12V3H18V12C18 15.3137 15.3137 18 12 18C8.68629 18 6 15.3137 6 12V3H8ZM4 20H20V22H4V20Z"></path></svg>
        </div>
        `,this.registerClickListener()}onClick(e){e.toggleUnderline()}onActive(e){return e.isActive("underline")}},yi=class extends L{constructor(){super(),this.template=`
        <div>
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17.1538 14C17.3846 14.5161 17.5 15.0893 17.5 15.7196C17.5 17.0625 16.9762 18.1116 15.9286 18.867C14.8809 19.6223 13.4335 20 11.5862 20C9.94674 20 8.32335 19.6185 6.71592 18.8555V16.6009C8.23538 17.4783 9.7908 17.917 11.3822 17.917C13.9333 17.917 15.2128 17.1846 15.2208 15.7196C15.2208 15.0939 15.0049 14.5598 14.5731 14.1173C14.5339 14.0772 14.4939 14.0381 14.4531 14H3V12H21V14H17.1538ZM13.076 11H7.62908C7.4566 10.8433 7.29616 10.6692 7.14776 10.4778C6.71592 9.92084 6.5 9.24559 6.5 8.45207C6.5 7.21602 6.96583 6.165 7.89749 5.299C8.82916 4.43299 10.2706 4 12.2219 4C13.6934 4 15.1009 4.32808 16.4444 4.98426V7.13591C15.2448 6.44921 13.9293 6.10587 12.4978 6.10587C10.0187 6.10587 8.77917 6.88793 8.77917 8.45207C8.77917 8.87172 8.99709 9.23796 9.43293 9.55079C9.86878 9.86362 10.4066 10.1135 11.0463 10.3004C11.6665 10.4816 12.3431 10.7148 13.076 11H13.076Z"></path></svg>
        </div>
        `,this.registerClickListener()}onClick(e){e.toggleStrike()}onActive(e){return e.isActive("strike")}};class bi extends L{constructor(){super(),this.template=`
        <div>
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M5.59567 4L10.5 9.92831L15.4043 4H18L11.7978 11.4971L18 18.9943V19H15.4091L10.5 13.0659L5.59092 19H3V18.9943L9.20216 11.4971L3 4H5.59567ZM21.8 16C21.8 15.5582 21.4418 15.2 21 15.2C20.5582 15.2 20.2 15.5582 20.2 16C20.2 16.0762 20.2107 16.15 20.2306 16.2198L19.0765 16.5496C19.0267 16.375 19 16.1906 19 16C19 14.8954 19.8954 14 21 14C22.1046 14 23 14.8954 23 16C23 16.5727 22.7593 17.0892 22.3735 17.4538L20.7441 19H23V20H19V19L21.5507 16.5803C21.7042 16.4345 21.8 16.2284 21.8 16Z"></path></svg>
         </div>
        `,this.registerClickListener()}onClick(e){e.toggleSubscript()}onActive(e){return e.isActive("subscript")}}class Hi extends L{constructor(){super(),this.template=`
        <div>
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M5.59567 5L10.5 10.9283L15.4043 5H18L11.7978 12.4971L18 19.9943V20H15.4091L10.5 14.0659L5.59092 20H3V19.9943L9.20216 12.4971L3 5H5.59567ZM21.5507 6.5803C21.7042 6.43453 21.8 6.22845 21.8 6C21.8 5.55817 21.4418 5.2 21 5.2C20.5582 5.2 20.2 5.55817 20.2 6C20.2 6.07624 20.2107 6.14999 20.2306 6.21983L19.0765 6.54958C19.0267 6.37497 19 6.1906 19 6C19 4.89543 19.8954 4 21 4C22.1046 4 23 4.89543 23 6C23 6.57273 22.7593 7.08923 22.3735 7.45384L20.7441 9H23V10H19V9L21.5507 6.5803V6.5803Z"></path></svg>
         </div>
        `,this.registerClickListener()}onClick(e){e.toggleSuperscript()}onActive(e){return e.isActive("superscript")}}const Ke=["ffffff","000000","e9d989","2972f4","609eec","de3c36","a1d533","7334c5","27b5d9","ff8926","f2f2f2","7f7f7f","ddd9c3","c6d9f0","dbe5f1","f2dcdb","ebf1dd","e5e0ec","dbeef3","fdeada","d8d8d8","595959","c4bd97","8db3e2","b8cce4","e5b9b7","d7e3bc","ccc1d9","b7dde8","fbd5b5","bfbfbf","3f3f3f","938953","548dd4","95b3d7","d99694","c3d69b","b2a2c7","92cddc","fac08f","a5a5a5","262626","494429","17365d","366092","953734","76923c","5f497a","31859b","e36c09","6e6e6e","0c0c0c","1d1b10","0f243e","244061","632423","4f6128","3f3151","205867","974806"],We=["c00000","ff0000","ffc000","ffff00","92d050","00b050","00b0f0","0070c0","002060","7030a0"];class Je extends L{constructor(){super();u(this,"historyColorsKey","historyColors");u(this,"historyColors",[]);u(this,"iconSvg");u(this,"menuColorEL");u(this,"onColorItemClick");u(this,"onDefaultColorClick")}connectedCallback(){this.template=`
            <div class="colors-menu">
                <div class="currentColor">
                    <div class="colors-menu-icon">${this.iconSvg}</div>
                    <div class="colors-menu-status" id="menuColorEL"></div>
                </div>
                <div id="dropdown">
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0z"></path><path d="M12 14L8 10H16L12 14Z"></path></svg>
                </div>
            </div>
            `,super.connectedCallback();const t=localStorage.getItem(this.historyColorsKey);t&&(this.historyColors=JSON.parse(t)),this.querySelector(".currentColor").addEventListener("click",()=>{this.onColorItemClick(this.historyColors.length>0?this.historyColors[0]:"#ccc")}),this.menuColorEL=this.querySelector("#menuColorEL"),this.historyColors&&this.historyColors.length>0&&(this.menuColorEL.style.background=this.historyColors[0]),S(this.querySelector("#dropdown"),{content:this.createMenuElement(),placement:"bottom",trigger:"click",interactive:!0,arrow:!1})}createMenuElement(){const t=document.createElement("div");return t.style.height="278px",t.style.width="250px",t.classList.add("aie-dropdown-container"),t.innerHTML=`
        <div class="color-panel">
            <div class="color-panel-default-button" id="defaultColor">${y("default")}</div>
            <div style="display: flex;flex-wrap: wrap;padding-top: 5px">
                ${Ke.map((i,o)=>`<div class="color-item" data-color="#${i}" style="width: 18px;height:18px;margin:1px;padding:1px;border:1px solid #${o==0?"efefef":i};background: #${i}"></div>`).join(" ")}
            </div>
            <div class="color-panel-title">${y("standardColors")}</div>
            <div style="display: flex;flex-wrap: wrap;">
                ${We.map(i=>`<div class="color-item" data-color="#${i}" style="width: 18px;height:18px;margin:1px;padding:1px;border:1px solid #${i};background: #${i}"></div>`).join(" ")}
            </div>
            <div class="color-panel-title">${y("historyColors")}</div>
            <div style="display: flex;flex-wrap: wrap;" id="history-colors">
               ${this.historyColors.map(i=>`<div class="history-color-item" data-color="${i}" style="width: 22px;height: 23px;margin: 1px;background: ${i}"></div>`).join(" ")}
            </div>
        </div>
        `,t.querySelector("#defaultColor").addEventListener("click",()=>{this.onDefaultColorClick()}),t.querySelectorAll(".color-item").forEach(i=>{i.addEventListener("click",()=>{this.invokeColorItemClick(t,i)}),i.addEventListener("mouseover",()=>{i.style.border="solid 1px #999"}),i.addEventListener("mouseout",()=>{let o=i.getAttribute("data-color");o==="#ffffff"&&(o="#efefef"),i.style.border=`solid 1px ${o}`})}),t.querySelector("#history-colors").addEventListener("click",i=>{const o=i.target.closest(".history-color-item");o&&this.invokeColorItemClick(t,o)}),t}invokeColorItemClick(t,i){const o=i.getAttribute("data-color");this.historyColors=this.historyColors.filter(r=>r!==o),this.historyColors.unshift(o),this.historyColors.length>7&&(this.historyColors=this.historyColors.slice(0,7)),t.querySelector("#history-colors").innerHTML=`
                ${this.historyColors.map(r=>`<div class="history-color-item" data-color="${r}" style="width: 22px;height: 23px;margin: 1px;background: ${r}"></div>`).join(" ")}
                `,localStorage.setItem(this.historyColorsKey,JSON.stringify(this.historyColors)),this.menuColorEL.style.background=o,this.onColorItemClick(o)}}class xi extends Je{constructor(){super(),this.historyColorsKey="highlightHistoryColors",this.iconSvg='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M15.2427 4.51138L8.50547 11.2486L7.79836 13.3699L6.7574 14.4109L9.58583 17.2393L10.6268 16.1983L12.7481 15.4912L19.4853 8.75402L15.2427 4.51138ZM21.6066 8.04692C21.9972 8.43744 21.9972 9.0706 21.6066 9.46113L13.8285 17.2393L11.7071 17.9464L10.2929 19.3606C9.90241 19.7511 9.26925 19.7511 8.87872 19.3606L4.63608 15.118C4.24556 14.7275 4.24556 14.0943 4.63608 13.7038L6.0503 12.2896L6.7574 10.1682L14.5356 2.39006C14.9261 1.99954 15.5593 1.99954 15.9498 2.39006L21.6066 8.04692ZM15.2427 7.33981L16.6569 8.75402L11.7071 13.7038L10.2929 12.2896L15.2427 7.33981ZM4.28253 16.8858L7.11096 19.7142L5.69674 21.1284L1.4541 19.7142L4.28253 16.8858Z"></path></svg>',this.onDefaultColorClick=()=>{this.editor?.chain().focus().unsetHighlight().run()},this.onColorItemClick=e=>{this.editor?.chain().focus().setHighlight({color:e}).run()}}onActive(e){return e.isActive("highlight")}}class Li extends Je{constructor(){super(),this.historyColorsKey="fontHistoryColors",this.iconSvg='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M5.55446 22H3.40039L11.0004 3H13.0004L20.6004 22H18.4463L16.0463 16H7.95446L5.55446 22ZM8.75446 14H15.2463L12.0004 5.88517L8.75446 14Z"></path></svg>',this.onDefaultColorClick=()=>{this.editor?.chain().focus().unsetColor().run()},this.onColorItemClick=e=>{this.editor?.chain().focus().setColor(e).run()}}onActive(e){return e.isActive("textStyle")}}class ki extends L{constructor(){super(),this.template='<div no-hover style="width: 1px;display: flex"><div class="aie-menu-divider" /></div>'}}class Mi extends L{constructor(){super(),this.template=`
        <div>
             <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8 4H21V6H8V4ZM3 3.5H6V6.5H3V3.5ZM3 10.5H6V13.5H3V10.5ZM3 17.5H6V20.5H3V17.5ZM8 11H21V13H8V11ZM8 18H21V20H8V18Z"></path></svg>
        </div>
        `,this.registerClickListener()}onClick(e){e.toggleBulletList()}onActive(e){return e.isActive("bulletList")}}class Vi extends L{constructor(){super(),this.template=`
        <div>
               <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8 4H21V6H8V4ZM5 3V6H6V7H3V6H4V4H3V3H5ZM3 14V11.5H5V11H3V10H6V12.5H4V13H6V14H3ZM5 19.5H3V18.5H5V18H3V17H6V21H3V20H5V19.5ZM8 11H21V13H8V11ZM8 18H21V20H8V18Z"></path></svg>
        </div>
        `,this.registerClickListener()}onClick(e){e.toggleOrderedList()}onActive(e){return e.isActive("orderedList")}}class Si extends L{constructor(){super(),this.template=`
        <div>
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 4H21V6H3V4ZM3 19H21V21H3V19ZM11 14H21V16H11V14ZM11 9H21V11H11V9ZM3 12.5L7 9V16L3 12.5Z"></path></svg>
         </div>
        `,this.registerClickListener()}onClick(e){this.editor?.isActive("bulletList")||this.editor?.isActive("orderedList")?e.liftListItem(this.editor?.schema.nodes.listItem):e.outdent()}}class Ei extends L{constructor(){super(),this.template=`
        <div>
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 4H21V6H3V4ZM3 19H21V21H3V19ZM11 14H21V16H11V14ZM11 9H21V11H11V9ZM7 12.5L3 16V9L7 12.5Z"></path></svg>
        </div>
        `,this.registerClickListener()}onClick(e){this.editor?.isActive("bulletList")||this.editor?.isActive("orderedList")?e.sinkListItem(this.editor?.schema.nodes.listItem):e.indent()}}const Ti=[{icon:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 4H21V6H3V4ZM3 19H17V21H3V19ZM3 14H21V16H3V14ZM3 9H17V11H3V9Z"></path></svg>',title:"align-left",value:"left"},{icon:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 4H21V6H3V4ZM5 19H19V21H5V19ZM3 14H21V16H3V14ZM5 9H19V11H5V9Z"></path></svg>',title:"align-center",value:"center"},{icon:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 4H21V6H3V4ZM7 19H21V21H7V19ZM3 14H21V16H3V14ZM7 9H21V11H7V9Z"></path></svg>',title:"align-right",value:"right"},{icon:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 4H21V6H3V4ZM3 19H21V21H3V19ZM3 14H21V16H3V14ZM3 9H21V11H3V9Z"></path></svg>',title:"align-justify",value:"justify"}];class Ai extends F{constructor(){super(),this.menuData=Ti.map(e=>({...e,title:y(e.title)})),this.showItemsTip=!0}onDropdownActive(e,t){return e.isActive({textAlign:this.menuData[t].value})}onDropdownItemClick(e){this.editor.chain().focus().setTextAlign(this.menuData[e].value).run()}onDropdownItemRender(e){return this.menuData[e].icon}onMenuTextRender(e){return this.menuData[e].icon}}class te{constructor(){u(this,"tippyInstance");u(this,"content");u(this,"cancelText");u(this,"confirmText");u(this,"onConfirmClickFunc");u(this,"onCancelClickFunc");u(this,"onShowFunc")}setContent(e){this.content=e}onConfirmClick(e){this.onConfirmClickFunc=e}onCancelClick(e){this.onCancelClickFunc=e}onShow(e){this.onShowFunc=e}setTrigger(e,t="bottom",i="click"){this.tippyInstance=S(e,{content:this.createContentElement(),appendTo:e.closest(".aie-container"),placement:t,trigger:i,interactive:!0,arrow:!1,onShow:o=>{this.onShowFunc&&this.onShowFunc(o)}})}show(){this.tippyInstance?.show()}hide(){this.tippyInstance?.hide()}createContentElement(){const e=`
            <div class="aie-popover">
              <div class="aie-popover-header">
               <svg class="aie-popover-header-close" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12.0007 10.5865L16.9504 5.63672L18.3646 7.05093L13.4149 12.0007L18.3646 16.9504L16.9504 18.3646L12.0007 13.4149L7.05093 18.3646L5.63672 16.9504L10.5865 12.0007L5.63672 7.05093L7.05093 5.63672L12.0007 10.5865Z"></path></svg>
              </div>
              <div class="aie-popover-content">${this.content}</div>
              <div class="aie-popover-footer">
              <button class="aie-popover-footer-cancel" type="button">${this.cancelText?this.cancelText:y("cancel")}</button>
              <button class="aie-popover-footer-confirm" type="button">${this.confirmText?this.confirmText:y("confirm")}</button>
              </div>
            </div>
        `,t=document.createElement("div");return t.innerHTML=e,t.querySelector(".aie-popover-header-close").addEventListener("click",()=>{this.tippyInstance.hide()}),t.querySelector(".aie-popover-footer-confirm").addEventListener("click",()=>{this.onConfirmClickFunc&&this.onConfirmClickFunc(this.tippyInstance),this.tippyInstance.hide()}),t.querySelector(".aie-popover-footer-cancel").addEventListener("click",()=>{this.onCancelClickFunc&&this.onCancelClickFunc(this.tippyInstance),this.tippyInstance.hide()}),t}}class Zi extends L{constructor(){super(),this.template=`
        <div>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17.6572 14.8282L16.2429 13.414L17.6572 11.9998C19.2193 10.4377 19.2193 7.90506 17.6572 6.34296C16.0951 4.78086 13.5624 4.78086 12.0003 6.34296L10.5861 7.75717L9.17188 6.34296L10.5861 4.92875C12.9292 2.5856 16.7282 2.5856 19.0714 4.92875C21.4145 7.27189 21.4145 11.0709 19.0714 13.414L17.6572 14.8282ZM14.8287 17.6567L13.4145 19.0709C11.0714 21.414 7.27238 21.414 4.92923 19.0709C2.58609 16.7277 2.58609 12.9287 4.92923 10.5856L6.34345 9.17139L7.75766 10.5856L6.34345 11.9998C4.78135 13.5619 4.78135 16.0946 6.34345 17.6567C7.90555 19.2188 10.4382 19.2188 12.0003 17.6567L13.4145 16.2425L14.8287 17.6567ZM14.8287 7.75717L16.2429 9.17139L9.17188 16.2425L7.75766 14.8282L14.8287 7.75717Z"></path></svg>
        </div>
        `}connectedCallback(){super.connectedCallback();const e=new te;e.setContent(`
            <div style="width: 250px">${y("link-address")}</div>
             <div style="width: 250px">
             <input type="text" id="href" style="width: 250px">
            </div>
            
            <div style="margin-top: 10px">${y("link-open-type")}</div>
            <div>
            <select id="target" style="width: 250px">
               <option value="">${y("default")}</option>
               <option value="_blank">${y("link-open-blank")}</option>
            </select>
            </div>
        `),e.onConfirmClick(t=>{const i=t.popper.querySelector("#href").value;if(i.trim()===""){this.editor?.chain().focus().extendMarkRange("link").unsetLink().run();return}let o=t.popper.querySelector("#target").value;o.trim()===""&&(o=null),this.editor?.chain().focus().extendMarkRange("link").setLink({href:i,target:o,rel:null}).run()}),e.onShow(t=>{const i=this.editor?.getAttributes("link");i&&i.href?t.popper.querySelector("#href").value=i.href:t.popper.querySelector("#href").value="",i&&i.target?t.popper.querySelector("#target").value=i.target:t.popper.querySelector("#target").value=""}),e.setTrigger(this.querySelector("div"),"bottom")}onActive(e){return e.isActive("link")}}const de=n=>{const e=document.createElement("div");return e.innerHTML=n,e.firstElementChild},Ii=(n,e)=>{const t=new RegExp(`<${e}[^>]*>(.*?)</${e}>`,"gi");return n.replace(t,(i,o)=>o)},Bi=(n,e)=>{for(let t of e)n=Ii(n,t);return n},zi=(n,e,t)=>{function i(d){const p=document.createDocumentFragment();for(;d.firstChild;){const m=d.removeChild(d.firstChild),g=o(m);g&&p.appendChild(g)}return p}function o(d){if(d.nodeType===Node.ELEMENT_NODE){const p=d;if(e.includes(p.tagName.toLowerCase())){if(!(p.textContent?.trim()||""))return p;for(;p.attributes.length>0;)p.removeAttribute(p.attributes[0].name);return p.appendChild(i(p)),p}else return i(p)}else if(d.nodeType===Node.TEXT_NODE&&d.textContent&&d.textContent.trim().length>0)return d;return null}function r(d){const p=d.querySelectorAll("br");for(let m=0;m<p.length-1;m++){const g=p[m],w=p[m+1];if(g.nextSibling===w){let f=g.previousSibling;const C=[];for(;f&&f.nodeName!=="P";)C.unshift(f),f=f.previousSibling;const x=document.createElement("p");C.forEach(h=>x.appendChild(h)),g.replaceWith(x),w.remove(),m++}}}n=n.replace(/(\n)/gm," ");const a=new DOMParser().parseFromString(n,"text/html"),l=o(a.body),c=document.createElement("div");return l&&(c.appendChild(l),r(c)),c.innerHTML},$i=n=>{const e=n.documentElement.getAttributeNames();if(e&&e.length>0)for(let o of e){const r=n.documentElement.getAttribute(o);if(r?.includes("microsoft")||r?.includes("excel"))return!0}let t=n.getElementsByTagName("meta");for(let o of t){let r=o.getAttribute("name"),s=o.getAttribute("content");if(r&&r.toLowerCase()==="generator"&&(s?.includes("Microsoft")||s?.includes("LibreOffice")||s?.includes("OpenOffice")))return!0}const i=n.body.innerHTML?.trim();return!!(i?.startsWith("<table")&&i?.endsWith("</table>"))},Di=n=>{const e=document.createElement("div");return e.innerHTML=n,e.querySelectorAll("p").forEach(i=>{(!i.textContent||i.textContent.trim()==="")&&(i.querySelector("img")||i.remove())}),e.innerHTML},Ni=n=>["table","thead","tbody","tr","th","td","ul","ol","li","pre","blockquote","figure","iframe","video","audio","svg","math","embed"].includes(n.tagName.toLowerCase()),Pi=n=>{const t=new DOMParser().parseFromString(n,"text/html"),i=document.createDocumentFragment(),o=t.body.children;for(let s of o){if(Ni(s)){i.appendChild(s.cloneNode(!0));continue}s.hasAttribute("data-pm-slice")?s.childNodes.forEach(a=>{i.appendChild(a.cloneNode(!0))}):i.appendChild(s.cloneNode(!0))}const r=document.createElement("div");return r.appendChild(i),r.innerHTML},G=n=>{if(!n)return"";const t=new DOMParser().parseFromString(n,"text/html"),i=t.querySelectorAll("ul");i&&i.length>0&&i.forEach(a=>{if(a.getAttribute("class")?.includes("task-list")){a.getAttributeNames().forEach(d=>{a.removeAttribute(d)}),a.setAttribute("data-type","taskList");const l=a.firstElementChild;if(l?.tagName==="P"){const d=document.createDocumentFragment();l.childNodes.forEach(p=>{d.append(p.cloneNode(!0))}),l.replaceWith(d)}a.querySelectorAll("li").forEach(d=>{d.getAttributeNames().forEach(m=>{d.removeAttribute(m)});const p=d.querySelector("input[type='checkbox']");p&&(d.setAttribute("data-type","taskItem"),d.setAttribute("data-checked",p.hasAttribute("checked")?"true":"false"))})}});const o=t.querySelectorAll("li");o&&o.length>0&&o.forEach(a=>{a.innerHTML||(a.innerHTML="<p></p>")});const r=t.querySelectorAll("table");r.length>0&&r.forEach(a=>{Ce(a)});let s="";return t.body.childNodes.forEach(a=>{if(a.nodeType===Node.TEXT_NODE)s+=a.textContent;else if(a.nodeType===Node.ELEMENT_NODE){const l=a;l.querySelector("img")&&l.tagName!=="A"&&l.tagName!=="TABLE"?s+=l.innerHTML:s+=l.outerHTML}}),Ri(s)},Ri=n=>{if(!n)return"";const t=new DOMParser().parseFromString(n,"text/html");return t.querySelectorAll("p").forEach(o=>{const r=Array.from(o.childNodes),s=o.parentNode;if(!s||!r.some(d=>d.nodeType===Node.ELEMENT_NODE&&d.tagName==="IMG"))return;const l=document.createDocumentFragment();let c=t.createElement("p");r.forEach(d=>{if(d.nodeType===Node.TEXT_NODE){const p=d.textContent;p&&p.trim()?c?.appendChild(d.cloneNode()):p?.length&&(c?.lastChild||c?.appendChild(t.createTextNode(" ")))}else d.nodeType===Node.ELEMENT_NODE&&d.tagName==="IMG"&&(c&&c.childNodes.length>0&&l.appendChild(c),c=t.createElement("p"),l.appendChild(d.cloneNode(!0)))}),c&&c.childNodes.length>0&&l.appendChild(c),s.replaceChild(l,o)}),t.body.innerHTML},qi=n=>{if(!n)return"";const t=new DOMParser().parseFromString(n.trim(),"text/html");let i="";return t.body.childNodes.forEach(o=>{if(o.nodeType===Node.TEXT_NODE)i+=o.textContent;else if(o.nodeType===Node.ELEMENT_NODE){const r=o;r===t.body.firstChild&&r.tagName==="P"?i+=r.innerHTML:i+=r.outerHTML}}),i},Oi=n=>{const t=new DOMParser().parseFromString(n,"text/html");return t.querySelectorAll("table").forEach(o=>{Ce(o)}),t.body.innerHTML},Ce=n=>{if(n.nodeType===Node.ELEMENT_NODE){const e=n;if(["TABLE","THEAD","TBODY","TFOOT","TR","COLGROUP","COL"].includes(e.tagName)&&Array.from(e.childNodes).forEach(o=>{o.nodeType===Node.TEXT_NODE?/^[\s\n\r]*$/.test(o.textContent||"")&&e.removeChild(o):Ce(o)}),(e.tagName==="TD"||e.tagName==="TH")&&!e.hasChildNodes()){const i=document.createElement("p");e.appendChild(i)}}};class _i extends L{constructor(){super(),this.template=`
        <div>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M2 4C2 3.44772 2.44772 3 3 3H21C21.5523 3 22 3.44772 22 4V20C22 20.5523 21.5523 21 21 21H3C2.44772 21 2 20.5523 2 20V4ZM4 19H20V9H4V19ZM11 13H6V17H11V13Z"></path></svg>
        </div>
        `}connectedCallback(){super.connectedCallback();const e=new te;e.setContent(`
            <div style="padding: 10px 10px 0 0;width: 850px;max-width: calc(100% - 10px);">
                <textarea id="source-code" style="width: 100%; height: 260px;"></textarea>
            </div>
        `),e.onConfirmClick(t=>{const i=t.popper.querySelector("#source-code");this.editor?.commands.setContent(G(i.value))}),e.onShow(t=>{t.popper.querySelector("#source-code").value=this.editor?.getHTML()||""}),e.setTrigger(this.querySelector("div"),"bottom")}}class Fi extends L{constructor(){super(),this.template=`
        <div>
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 3H20C20.5523 3 21 3.44772 21 4V20C21 20.5523 20.5523 21 20 21H4C3.44772 21 3 20.5523 3 20V4C3 3.44772 3.44772 3 4 3ZM5 5V19H19V5H5ZM11.0026 16L6.75999 11.7574L8.17421 10.3431L11.0026 13.1716L16.6595 7.51472L18.0737 8.92893L11.0026 16Z"></path></svg>
        </div>
        `,this.registerClickListener()}onClick(e){e.toggleTaskList()}onActive(e){return e.isActive("taskList")}}const Ui=["1.0","1.25","1.5","2.0","2.5","3.0"];class ji extends F{constructor(){super(),this.refreshMenuText=!1,this.dropDivWith="70px",this.width="36px",this.menuTextWidth="20px"}onCreate(e,t){super.onCreate(e,t),this.menuData=t.lineHeight?.values||Ui}onDropdownActive(e,t){let i=null;return e.isActive("paragraph")?i=e.getAttributes("paragraph").lineHeight:e.isActive("heading")&&(i=e.getAttributes("heading").lineHeight),!!(i&&i===`${(Number(this.menuData[t])*100).toFixed(0)}%`)}onDropdownItemClick(e){const t=`${(Number(this.menuData[e])*100).toFixed(0)}%`;this.editor.chain().setLineHeight(t).run()}onDropdownItemRender(e){return this.menuData[e]}onMenuTextRender(e){return`
              <div style="width:18px;height: 18px;">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M11 4H21V6H11V4ZM6 7V11H4V7H1L5 3L9 7H6ZM6 17H9L5 21L1 17H4V13H6V17ZM11 18H21V20H11V18ZM9 11H21V13H9V11Z"></path></svg>
              </div>
         `}}class Ki extends L{constructor(){super(),this.template=`
        <div>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4.58341 17.3211C3.55316 16.2275 3 15 3 13.0104C3 9.51092 5.45651 6.37372 9.03059 4.82324L9.92328 6.20085C6.58804 8.00545 5.93618 10.3461 5.67564 11.8221C6.21263 11.5444 6.91558 11.4467 7.60471 11.5106C9.40908 11.6778 10.8312 13.1591 10.8312 15C10.8312 16.933 9.26416 18.5 7.33116 18.5C6.2581 18.5 5.23196 18.0096 4.58341 17.3211ZM14.5834 17.3211C13.5532 16.2275 13 15 13 13.0104C13 9.51092 15.4565 6.37372 19.0306 4.82324L19.9233 6.20085C16.588 8.00545 15.9362 10.3461 15.6756 11.8221C16.2126 11.5444 16.9156 11.4467 17.6047 11.5106C19.4091 11.6778 20.8312 13.1591 20.8312 15C20.8312 16.933 19.2642 18.5 17.3312 18.5C16.2581 18.5 15.232 18.0096 14.5834 17.3211Z"></path></svg>
        </div>
        `,this.registerClickListener()}onClick(e){e.toggleBlockquote()}onActive(e){return e.isActive("blockquote")}}class Wi extends L{constructor(){super();u(this,"fileInput");this.template=`
        <div>
        <input type="file" accept="image/*" multiple  style="display: none">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M2.9918 21C2.44405 21 2 20.5551 2 20.0066V3.9934C2 3.44476 2.45531 3 2.9918 3H21.0082C21.556 3 22 3.44495 22 3.9934V20.0066C22 20.5552 21.5447 21 21.0082 21H2.9918ZM20 15V5H4V19L14 9L20 15ZM20 17.8284L14 11.8284L6.82843 19H20V17.8284ZM8 11C6.89543 11 6 10.1046 6 9C6 7.89543 6.89543 7 8 7C9.10457 7 10 7.89543 10 9C10 10.1046 9.10457 11 8 11Z"></path></svg>
        </div>
        `,this.registerClickListener()}registerClickListener(){this.addEventListener("click",()=>{this.options?.image?.customMenuInvoke?this.options.image.customMenuInvoke(this.editor.aiEditor):this.fileInput?.click()})}connectedCallback(){super.connectedCallback(),this.options?.image?.customMenuInvoke?this.querySelector("input").remove():(this.fileInput=this.querySelector("input"),this.fileInput.addEventListener("change",()=>{const t=this.fileInput?.files;if(t&&t.length>0)for(let i of t)this.editor?.commands.uploadImage(i);this.fileInput.value=""}))}}class Ji extends L{constructor(){super();u(this,"fileInput");this.template=`
        <div>
        <input type="file" accept="video/*" style="display: none">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0z"></path><path d="M2 3.9934C2 3.44476 2.45531 3 2.9918 3H21.0082C21.556 3 22 3.44495 22 3.9934V20.0066C22 20.5552 21.5447 21 21.0082 21H2.9918C2.44405 21 2 20.5551 2 20.0066V3.9934ZM4 5V19H20V5H4ZM10.6219 8.41459L15.5008 11.6672C15.6846 11.7897 15.7343 12.0381 15.6117 12.2219C15.5824 12.2658 15.5447 12.3035 15.5008 12.3328L10.6219 15.5854C10.4381 15.708 10.1897 15.6583 10.0672 15.4745C10.0234 15.4088 10 15.3316 10 15.2526V8.74741C10 8.52649 10.1791 8.34741 10.4 8.34741C10.479 8.34741 10.5562 8.37078 10.6219 8.41459Z"></path></svg>
        </div>
        `,this.registerClickListener()}connectedCallback(){super.connectedCallback(),this.options?.video?.customMenuInvoke?this.querySelector("input").remove():(this.fileInput=this.querySelector("input"),this.fileInput.addEventListener("change",()=>{const t=this.fileInput?.files;if(t&&t.length>0)for(let i of t)this.editor?.commands.uploadVideo(i);this.fileInput.value=""}))}onClick(t){this.options?.video?.customMenuInvoke?this.options.video.customMenuInvoke(this.editor.aiEditor):this.fileInput?.click()}}let Gi=class extends L{constructor(){super(),this.template=`
        <div>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M23 11.9998L15.9289 19.0708L14.5147 17.6566L20.1716 11.9998L14.5147 6.34292L15.9289 4.92871L23 11.9998ZM3.82843 11.9998L9.48528 17.6566L8.07107 19.0708L1 11.9998L8.07107 4.92871L9.48528 6.34292L3.82843 11.9998Z"></path></svg>
        </div>
        `,this.registerClickListener()}onClick(e){e.toggleCode()}onActive(e){return e.isActive("code")}};class Xi extends L{constructor(){super(),this.template=`
        <div>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M3.41436 5.99995L5.70726 3.70706L4.29304 2.29285L0.585938 5.99995L4.29304 9.70706L5.70726 8.29285L3.41436 5.99995ZM9.58594 5.99995L7.29304 3.70706L8.70726 2.29285L12.4144 5.99995L8.70726 9.70706L7.29304 8.29285L9.58594 5.99995ZM14.0002 2.99995H21.0002C21.5524 2.99995 22.0002 3.44767 22.0002 3.99995V20C22.0002 20.5522 21.5524 21 21.0002 21H3.00015C2.44787 21 2.00015 20.5522 2.00015 20V12H4.00015V19H20.0002V4.99995H14.0002V2.99995Z"></path></svg>
        </div>
        `,this.registerClickListener()}onClick(e){e.toggleCodeBlock()}onActive(e){return e.isActive("codeBlock")}}class Yi extends L{constructor(){super(),this.template=`
        <div>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13.9999 18.9967H20.9999V20.9967H11.9999L8.00229 20.9992L1.51457 14.5115C1.12405 14.1209 1.12405 13.4878 1.51457 13.0972L12.1212 2.49065C12.5117 2.10012 13.1449 2.10012 13.5354 2.49065L21.3136 10.2688C21.7041 10.6593 21.7041 11.2925 21.3136 11.683L13.9999 18.9967ZM15.6567 14.5115L19.1922 10.9759L12.8283 4.61197L9.29275 8.1475L15.6567 14.5115Z"></path></svg>
        </div>
        `,this.registerClickListener()}onClick(e){e.unsetAllMarks()}}class Qi extends L{constructor(){super(),this.template=`
        <div>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M2 11H4V13H2V11ZM6 11H18V13H6V11ZM20 11H22V13H20V11Z"></path></svg>
        </div>
        `,this.registerClickListener()}onClick(e){e.setHorizontalRule()}}class en extends L{constructor(){super();u(this,"instance");this.template=`
        <div>
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M14 10H10V14H14V10ZM16 10V14H19V10H16ZM14 19V16H10V19H14ZM16 19H19V16H16V19ZM14 5H10V8H14V5ZM16 5V8H19V5H16ZM8 10H5V14H8V10ZM8 19V16H5V19H8ZM8 5H5V8H8V5ZM4 3H20C20.5523 3 21 3.44772 21 4V20C21 20.5523 20.5523 21 20 21H4C3.44772 21 3 20.5523 3 20V4C3 3.44772 3.44772 3 4 3Z"></path></svg>
        </div>
        `}connectedCallback(){super.connectedCallback(),this.instance=S(this.querySelector("svg"),{content:this.createMenuElement(),appendTo:this.closest(".aie-container"),placement:"bottom",trigger:"click",interactive:!0,arrow:!1})}createMenuElement(){const t=document.createElement("div");t.classList.add("aie-dropdown-container"),t.innerHTML=`
        <div style="margin: 5px">
            <div style="padding: 5px 0;font-size: 14px;display: flex"><span>${y("insertTable")}</span><span style="margin-left: auto" id="columnRows"></span></div>
            <div style="display: flex;flex-wrap: wrap;width: 240px;height: 200px" id="table-cells">
            ${[...Array(8).keys()].map((o,r)=>[...Array(10).keys()].map((s,a)=>`<div data-i="${r}" data-j="${a}" class="table-cell" style="width: 20px;height: 20px;margin:1px;"></div>`).join("")).join("")}
            </div>
        </div>
        `;const i=t.querySelector("#table-cells");return i.addEventListener("click",o=>{const r=o.target.closest(".table-cell");if(r){let s=r.getAttribute("data-i"),a=r.getAttribute("data-j");this.editor?.commands.insertTable({rows:Number(s)+1,cols:Number(a)+1,withHeaderRow:!0}),this.instance?.hide()}}),i.addEventListener("mouseover",o=>{const r=o.target.closest(".table-cell");if(r){let s=Number(r.getAttribute("data-i")),a=Number(r.getAttribute("data-j"));const l=i.querySelectorAll("div"),c=t.querySelector("#columnRows");c.textContent=`${s+1} ${y("row")} x ${a+1} ${y("column")}`,l.forEach(d=>{let p=Number(d.getAttribute("data-i")),m=Number(d.getAttribute("data-j"));p<=s&&m<=a?d.classList.add("active"):d.classList.remove("active")})}}),i.addEventListener("mouseleave",()=>{i.querySelectorAll("div").forEach(s=>{s.classList.remove("active")});const r=t.querySelector("#columnRows");r.textContent=""}),t}}class tn extends L{constructor(){super(),this.template=`
        <div>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M15 18H16.5C17.8807 18 19 16.8807 19 15.5C19 14.1193 17.8807 13 16.5 13H3V11H16.5C18.9853 11 21 13.0147 21 15.5C21 17.9853 18.9853 20 16.5 20H15V22L11 19L15 16V18ZM3 4H21V6H3V4ZM9 18V20H3V18H9Z"></path></svg>
        </div>
        `,this.registerClickListener()}onClick(e){e.setHardBreak()}}class nn extends L{constructor(){super();u(this,"fileInput");this.template=`
        <div>
        <input type="file" style="display: none">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M14.8287 7.7574L9.1718 13.4143C8.78127 13.8048 8.78127 14.4379 9.1718 14.8285C9.56232 15.219 10.1955 15.219 10.586 14.8285L16.2429 9.17161C17.4144 8.00004 17.4144 6.10055 16.2429 4.92897C15.0713 3.7574 13.1718 3.7574 12.0002 4.92897L6.34337 10.5858C4.39075 12.5384 4.39075 15.7043 6.34337 17.6569C8.29599 19.6095 11.4618 19.6095 13.4144 17.6569L19.0713 12L20.4855 13.4143L14.8287 19.0711C12.095 21.8048 7.66283 21.8048 4.92916 19.0711C2.19549 16.3374 2.19549 11.9053 4.92916 9.17161L10.586 3.51476C12.5386 1.56214 15.7045 1.56214 17.6571 3.51476C19.6097 5.46738 19.6097 8.63321 17.6571 10.5858L12.0002 16.2427C10.8287 17.4143 8.92916 17.4143 7.75759 16.2427C6.58601 15.0711 6.58601 13.1716 7.75759 12L13.4144 6.34319L14.8287 7.7574Z"></path></svg>
        </div>
        `,this.registerClickListener()}connectedCallback(){super.connectedCallback(),this.options?.attachment?.customMenuInvoke?this.querySelector("input").remove():(this.fileInput=this.querySelector("input"),this.fileInput.addEventListener("change",()=>{const t=this.fileInput?.files;if(t&&t.length>0)for(let i of t)this.editor?.commands.uploadAttachment(i);this.fileInput.value=""}))}onClick(t){this.options?.attachment?.customMenuInvoke?this.options.attachment.customMenuInvoke(this.editor.aiEditor):this.fileInput?.click()}}class on extends L{constructor(){super();u(this,"fullscreenSvg",'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8 3V5H4V9H2V3H8ZM2 21V15H4V19H8V21H2ZM22 21H16V19H20V15H22V21ZM22 9H20V5H16V3H22V9Z"></path></svg>');u(this,"fullscreenExitSvg",'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M18 7H22V9H16V3H18V7ZM8 9H2V7H6V3H8V9ZM18 17V21H16V15H22V17H18ZM8 15V21H6V17H2V15H8Z"></path></svg>');u(this,"isFullscreen",!1);this.template=`
        <div>
        ${this.fullscreenSvg}
        </div>
        `,this.registerClickListener()}onClick(t){const i=this.closest(".aie-container");this.isFullscreen?(i.style.height="100%",i.style.width="",i.style.background="",i.style.position="",i.style.top="",i.style.left="",i.style.zIndex=""):(i.style.height="calc(100vh - 2px)",i.style.width="calc(100% - 2px)",i.style.position="fixed",i.style.top="0",i.style.left="0",i.style.zIndex="9999"),this.isFullscreen=!this.isFullscreen,this.querySelector("div").innerHTML=this.isFullscreen?this.fullscreenExitSvg:this.fullscreenSvg,this.options?.onFullscreen&&this.options.onFullscreen(this.isFullscreen)}}class rn extends L{constructor(){super(),this.template=`
        <div>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 2C17.5523 2 18 2.44772 18 3V7H21C21.5523 7 22 7.44772 22 8V18C22 18.5523 21.5523 19 21 19H18V21C18 21.5523 17.5523 22 17 22H7C6.44772 22 6 21.5523 6 21V19H3C2.44772 19 2 18.5523 2 18V8C2 7.44772 2.44772 7 3 7H6V3C6 2.44772 6.44772 2 7 2H17ZM16 17H8V20H16V17ZM20 9H4V17H6V16C6 15.4477 6.44772 15 7 15H17C17.5523 15 18 15.4477 18 16V17H20V9ZM8 10V12H5V10H8ZM16 4H8V7H16V4Z"></path></svg>
        </div>
        `,this.registerClickListener()}onClick(e){let t=this.closest(".aie-container").querySelector(".aie-content").innerHTML;t=`<div class="aie-container" style="border: none;padding: 0;margin: 0"><div class="aie-content" style="border: none;height: auto;overflow: visible">${t}</div></div>`;const o=Array.from(document.querySelectorAll("style, link")).map(l=>l.outerHTML).join("")+t,r=document.createElement("iframe");r.id="aie-print-iframe",r.setAttribute("style","position: absolute; width: 0; height: 0; top: -10px; left: -10px;"),document.body.appendChild(r);const s=r.contentWindow,a=r.contentDocument||r.contentWindow&&r.contentWindow.document;a&&(a.open(),a.write(o),a.close()),s&&(r.onload=function(){try{setTimeout(()=>{s.focus();try{s.document.execCommand("print",!1)||s.print()}catch{s.print()}s.close()},10)}catch{}setTimeout(function(){document.body.removeChild(r)},100)})}}const Te=["ğŸ˜€","ğŸ˜ƒ","ğŸ˜„","ğŸ˜","ğŸ˜†","ğŸ˜…","ğŸ¤£","ğŸ˜‚","ğŸ™‚","ğŸ™ƒ","ğŸ˜‰","ğŸ˜Š","ğŸ˜‡","ğŸ¥°","ğŸ˜","ğŸ¤©","ğŸ˜˜","ğŸ˜—","ğŸ˜š","ğŸ˜™","ğŸ¥²","ğŸ˜‹","ğŸ˜›","ğŸ˜œ","ğŸ¤ª","ğŸ˜","ğŸ¤‘","ğŸ¤—","ğŸ¤­","ğŸ¤«","ğŸ¤”","ğŸ¤","ğŸ¤¨","ğŸ˜","ğŸ˜‘","ğŸ˜¶","ğŸ˜¶â€ğŸŒ«","ğŸ˜","ğŸ˜’","ğŸ™„","ğŸ˜¬","ğŸ˜®â€ğŸ’¨","ğŸ¤¥","ğŸ˜Œ","ğŸ˜”","ğŸ˜ª","ğŸ¤¤","ğŸ˜´","ğŸ˜·","ğŸ¤’","ğŸ¤•","ğŸ¤¢","ğŸ¤®","ğŸ¤§","ğŸ¥µ","ğŸ¥¶","ğŸ¥´","ğŸ˜µ","ğŸ˜µâ€ğŸ’«","ğŸ¤¯","ğŸ¤ ","ğŸ¥³","ğŸ¥¸","ğŸ˜","ğŸ¤“","ğŸ§","ğŸ˜•","ğŸ˜Ÿ","ğŸ™","ğŸ˜®","ğŸ˜²","ğŸ˜³","ğŸ¥º","ğŸ˜¦","ğŸ˜§","ğŸ˜¨","ğŸ˜°","ğŸ˜¥","ğŸ˜¢","ğŸ˜­","ğŸ˜±","ğŸ˜–","ğŸ˜£","ğŸ˜","ğŸ˜“","ğŸ˜©","ğŸ˜«","ğŸ¥±","ğŸ˜¤","ğŸ˜¡","ğŸ˜ ","ğŸ¤¬","ğŸ˜ˆ","ğŸ‘¿","ğŸ’€","â˜ ï¸","ğŸ’©","ğŸ¤¡","ğŸ‘¹","ğŸ‘º","ğŸ‘»","ğŸ‘½","ğŸ‘¾","ğŸ¤–","ğŸ˜º","ğŸ˜¸","ğŸ˜¹","ğŸ˜»","ğŸ˜¼","ğŸ˜½","ğŸ™€","ğŸ˜¿","ğŸ˜¾","ğŸ‘","ğŸ‘","ğŸ™","ğŸ™ˆ","ğŸ™‰","ğŸ™Š","ğŸ’Œ","ğŸ’˜","ğŸ’","ğŸ’–","ğŸ’—","ğŸ’“","ğŸ’","ğŸ’•","ğŸ’Ÿ","â£ï¸","ğŸ’”","ğŸ’‹","ğŸ’¯","ğŸ’¢","ğŸ’¥","ğŸ’«","ğŸ’¦","ğŸ’¨","ğŸ’¤"];class sn extends L{constructor(){super();u(this,"emojis",Te);u(this,"tippy");this.template=`
        <div>
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 22C6.47715 22 2 17.5228 2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22ZM12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20ZM8 13H16C16 15.2091 14.2091 17 12 17C9.79086 17 8 15.2091 8 13ZM8 11C7.17157 11 6.5 10.3284 6.5 9.5C6.5 8.67157 7.17157 8 8 8C8.82843 8 9.5 8.67157 9.5 9.5C9.5 10.3284 8.82843 11 8 11ZM16 11C15.1716 11 14.5 10.3284 14.5 9.5C14.5 8.67157 15.1716 8 16 8C16.8284 8 17.5 8.67157 17.5 9.5C17.5 10.3284 16.8284 11 16 11Z"></path></svg>
        </div>
        `}onCreate(t,i){super.onCreate(t,i),this.emojis=i.emoji?.values||Te}connectedCallback(){super.connectedCallback(),this.tippy=S(this.querySelector("svg"),{content:this.createMenuElement(),appendTo:this.closest(".aie-container"),placement:"bottom",trigger:"click",interactive:!0,arrow:!1})}createMenuElement(){const t=document.createElement("div");t.style.maxWidth="450px",t.style.overflow="hidden",t.style.display="flex",t.style.justifyContent="center";const i=this.getSize();return t.classList.add("aie-dropdown-container"),t.innerHTML=`
            <div class="emoji-cells">
            ${this.emojis.map(o=>`<div  class="emoji-cell" style="width: ${i}px;height: ${i}px;font-size: ${i-2}px;"><span>${o}</span></div>`).join("")}
            </div>
        `,t.querySelector(".emoji-cells").addEventListener("click",o=>{const r=o.target.closest(".emoji-cell");r&&(this.editor?.commands.insertContent(r.querySelector("span").innerHTML),this.tippy?.hide())}),t}getSize(){const t=this.editor.aiEditor.options;return t.toolbarSize==="large"?30:t.toolbarSize==="medium"?25:20}}class an extends L{constructor(){super(),this.template='<div><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M5 4.99658V7.99658H19V4.99658H5ZM4 2.99658H20C20.5523 2.99658 21 3.4443 21 3.99658V8.99658C21 9.54887 20.5523 9.99658 20 9.99658H4C3.44772 9.99658 3 9.54887 3 8.99658V3.99658C3 3.4443 3.44772 2.99658 4 2.99658ZM6 11.9966H12C12.5523 11.9966 13 12.4443 13 12.9966V15.9966H14V21.9966H10V15.9966H11V13.9966H5C4.44772 13.9966 4 13.5489 4 12.9966V10.9966H6V11.9966ZM17.7322 13.7288L19.5 11.961L21.2678 13.7288C22.2441 14.7051 22.2441 16.288 21.2678 17.2643C20.2915 18.2407 18.7085 18.2407 17.7322 17.2643C16.7559 16.288 16.7559 14.7051 17.7322 13.7288Z"></path></svg></div>',this.registerClickListener()}onClick(e){e.setPainter(this.editor?.state.selection.$head.marks())}}class Z{constructor(e,t,i){u(this,"editor");u(this,"globalConfig");u(this,"aiModelName");u(this,"aiModelConfig");this.editor=e,this.globalConfig=t,this.aiModelName=i,this.aiModelConfig=t.models[i]}chatWithPayload(e,t){const i=r=>{this.createAiClient(r,t).start(typeof e=="string"?e:JSON.stringify(e))},o=()=>{t?.onStop()};this.globalConfig.onCreateClientUrl?this.globalConfig.onCreateClientUrl(this.aiModelName,this.aiModelConfig,i,o):i(this.createAiClientUrl())}chat(e,t,i){const o=s=>{const a=this.createAiClient(s,i),l=t.includes("{content}")?t.split("{content}").join(e):`${e?e+`
`:""}${t}`,c=this.wrapPayload(l);a.start(typeof c=="string"?c:JSON.stringify(c))},r=()=>{i?.onStop()};this.globalConfig.onCreateClientUrl?this.globalConfig.onCreateClientUrl(this.aiModelName,this.aiModelConfig,o,r):o(this.createAiClientUrl())}}class Ge{constructor(e,t){u(this,"isStop",!1);u(this,"url");u(this,"webSocket");u(this,"isOpen",!1);u(this,"payload");u(this,"listener");this.url=e,this.listener=t}start(e){this.listener.onStart(this),this.payload=e,this.webSocket=new WebSocket(this.url),this.webSocket.onopen=t=>this.onOpen(t),this.webSocket.onmessage=t=>this.onMessage(t),this.webSocket.onclose=t=>this.onClose(t),this.webSocket.onerror=t=>this.onError(t)}stop(){this.webSocket&&(this.webSocket.close(),this.webSocket=void 0,this.isStop||(this.listener.onStop(),this.isStop=!0))}send(e){this.webSocket&&this.isOpen&&this.webSocket.send(e)}onOpen(e){this.isOpen=!0,this.send(this.payload)}onMessage(e){this.listener.onMessage(e.data)}onClose(e){this.isOpen=!1,this.isStop||(this.listener.onStop(),this.isStop=!0)}onError(e){this.isOpen=!1,this.isStop||(this.listener.onStop(),this.isStop=!0)}}var Xe={exports:{}};function ln(n){throw new Error('Could not dynamically require "'+n+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var ue={exports:{}};const cn={},dn=Object.freeze(Object.defineProperty({__proto__:null,default:cn},Symbol.toStringTag,{value:"Module"})),un=Wt(dn);var Ae;function se(){return Ae||(Ae=1,function(n,e){(function(t,i){n.exports=i()})(N,function(){var t=t||function(i,o){var r;if(typeof window<"u"&&window.crypto&&(r=window.crypto),typeof self<"u"&&self.crypto&&(r=self.crypto),typeof globalThis<"u"&&globalThis.crypto&&(r=globalThis.crypto),!r&&typeof window<"u"&&window.msCrypto&&(r=window.msCrypto),!r&&typeof N<"u"&&N.crypto&&(r=N.crypto),!r&&typeof ln=="function")try{r=un}catch{}var s=function(){if(r){if(typeof r.getRandomValues=="function")try{return r.getRandomValues(new Uint32Array(1))[0]}catch{}if(typeof r.randomBytes=="function")try{return r.randomBytes(4).readInt32LE()}catch{}}throw new Error("Native crypto module could not be used to get secure random number.")},a=Object.create||function(){function h(){}return function(v){var H;return h.prototype=v,H=new h,h.prototype=null,H}}(),l={},c=l.lib={},d=c.Base=function(){return{extend:function(h){var v=a(this);return h&&v.mixIn(h),(!v.hasOwnProperty("init")||this.init===v.init)&&(v.init=function(){v.$super.init.apply(this,arguments)}),v.init.prototype=v,v.$super=this,v},create:function(){var h=this.extend();return h.init.apply(h,arguments),h},init:function(){},mixIn:function(h){for(var v in h)h.hasOwnProperty(v)&&(this[v]=h[v]);h.hasOwnProperty("toString")&&(this.toString=h.toString)},clone:function(){return this.init.prototype.extend(this)}}}(),p=c.WordArray=d.extend({init:function(h,v){h=this.words=h||[],v!=o?this.sigBytes=v:this.sigBytes=h.length*4},toString:function(h){return(h||g).stringify(this)},concat:function(h){var v=this.words,H=h.words,k=this.sigBytes,M=h.sigBytes;if(this.clamp(),k%4)for(var V=0;V<M;V++){var E=H[V>>>2]>>>24-V%4*8&255;v[k+V>>>2]|=E<<24-(k+V)%4*8}else for(var T=0;T<M;T+=4)v[k+T>>>2]=H[T>>>2];return this.sigBytes+=M,this},clamp:function(){var h=this.words,v=this.sigBytes;h[v>>>2]&=4294967295<<32-v%4*8,h.length=i.ceil(v/4)},clone:function(){var h=d.clone.call(this);return h.words=this.words.slice(0),h},random:function(h){for(var v=[],H=0;H<h;H+=4)v.push(s());return new p.init(v,h)}}),m=l.enc={},g=m.Hex={stringify:function(h){for(var v=h.words,H=h.sigBytes,k=[],M=0;M<H;M++){var V=v[M>>>2]>>>24-M%4*8&255;k.push((V>>>4).toString(16)),k.push((V&15).toString(16))}return k.join("")},parse:function(h){for(var v=h.length,H=[],k=0;k<v;k+=2)H[k>>>3]|=parseInt(h.substr(k,2),16)<<24-k%8*4;return new p.init(H,v/2)}},w=m.Latin1={stringify:function(h){for(var v=h.words,H=h.sigBytes,k=[],M=0;M<H;M++){var V=v[M>>>2]>>>24-M%4*8&255;k.push(String.fromCharCode(V))}return k.join("")},parse:function(h){for(var v=h.length,H=[],k=0;k<v;k++)H[k>>>2]|=(h.charCodeAt(k)&255)<<24-k%4*8;return new p.init(H,v)}},f=m.Utf8={stringify:function(h){try{return decodeURIComponent(escape(w.stringify(h)))}catch{throw new Error("Malformed UTF-8 data")}},parse:function(h){return w.parse(unescape(encodeURIComponent(h)))}},C=c.BufferedBlockAlgorithm=d.extend({reset:function(){this._data=new p.init,this._nDataBytes=0},_append:function(h){typeof h=="string"&&(h=f.parse(h)),this._data.concat(h),this._nDataBytes+=h.sigBytes},_process:function(h){var v,H=this._data,k=H.words,M=H.sigBytes,V=this.blockSize,E=V*4,T=M/E;h?T=i.ceil(T):T=i.max((T|0)-this._minBufferSize,0);var O=T*V,D=i.min(O*4,M);if(O){for(var U=0;U<O;U+=V)this._doProcessBlock(k,U);v=k.splice(0,O),H.sigBytes-=D}return new p.init(v,D)},clone:function(){var h=d.clone.call(this);return h._data=this._data.clone(),h},_minBufferSize:0});c.Hasher=C.extend({cfg:d.extend(),init:function(h){this.cfg=this.cfg.extend(h),this.reset()},reset:function(){C.reset.call(this),this._doReset()},update:function(h){return this._append(h),this._process(),this},finalize:function(h){h&&this._append(h);var v=this._doFinalize();return v},blockSize:16,_createHelper:function(h){return function(v,H){return new h.init(H).finalize(v)}},_createHmacHelper:function(h){return function(v,H){return new x.HMAC.init(h,H).finalize(v)}}});var x=l.algo={};return l}(Math);return t})}(ue)),ue.exports}var he={exports:{}},Ze;function hn(){return Ze||(Ze=1,function(n,e){(function(t,i){n.exports=i(se())})(N,function(t){return function(i){var o=t,r=o.lib,s=r.WordArray,a=r.Hasher,l=o.algo,c=[],d=[];(function(){function g(x){for(var h=i.sqrt(x),v=2;v<=h;v++)if(!(x%v))return!1;return!0}function w(x){return(x-(x|0))*4294967296|0}for(var f=2,C=0;C<64;)g(f)&&(C<8&&(c[C]=w(i.pow(f,1/2))),d[C]=w(i.pow(f,1/3)),C++),f++})();var p=[],m=l.SHA256=a.extend({_doReset:function(){this._hash=new s.init(c.slice(0))},_doProcessBlock:function(g,w){for(var f=this._hash.words,C=f[0],x=f[1],h=f[2],v=f[3],H=f[4],k=f[5],M=f[6],V=f[7],E=0;E<64;E++){if(E<16)p[E]=g[w+E]|0;else{var T=p[E-15],O=(T<<25|T>>>7)^(T<<14|T>>>18)^T>>>3,D=p[E-2],U=(D<<15|D>>>17)^(D<<13|D>>>19)^D>>>10;p[E]=O+p[E-7]+U+p[E-16]}var ct=H&k^~H&M,dt=C&x^C&h^x&h,ut=(C<<30|C>>>2)^(C<<19|C>>>13)^(C<<10|C>>>22),ht=(H<<26|H>>>6)^(H<<21|H>>>11)^(H<<7|H>>>25),He=V+ht+ct+d[E]+p[E],pt=ut+dt;V=M,M=k,k=H,H=v+He|0,v=h,h=x,x=C,C=He+pt|0}f[0]=f[0]+C|0,f[1]=f[1]+x|0,f[2]=f[2]+h|0,f[3]=f[3]+v|0,f[4]=f[4]+H|0,f[5]=f[5]+k|0,f[6]=f[6]+M|0,f[7]=f[7]+V|0},_doFinalize:function(){var g=this._data,w=g.words,f=this._nDataBytes*8,C=g.sigBytes*8;return w[C>>>5]|=128<<24-C%32,w[(C+64>>>9<<4)+14]=i.floor(f/4294967296),w[(C+64>>>9<<4)+15]=f,g.sigBytes=w.length*4,this._process(),this._hash},clone:function(){var g=a.clone.call(this);return g._hash=this._hash.clone(),g}});o.SHA256=a._createHelper(m),o.HmacSHA256=a._createHmacHelper(m)}(Math),t.SHA256})}(he)),he.exports}var pe={exports:{}},Ie;function pn(){return Ie||(Ie=1,function(n,e){(function(t,i){n.exports=i(se())})(N,function(t){(function(){var i=t,o=i.lib,r=o.Base,s=i.enc,a=s.Utf8,l=i.algo;l.HMAC=r.extend({init:function(c,d){c=this._hasher=new c.init,typeof d=="string"&&(d=a.parse(d));var p=c.blockSize,m=p*4;d.sigBytes>m&&(d=c.finalize(d)),d.clamp();for(var g=this._oKey=d.clone(),w=this._iKey=d.clone(),f=g.words,C=w.words,x=0;x<p;x++)f[x]^=1549556828,C[x]^=909522486;g.sigBytes=w.sigBytes=m,this.reset()},reset:function(){var c=this._hasher;c.reset(),c.update(this._iKey)},update:function(c){return this._hasher.update(c),this},finalize:function(c){var d=this._hasher,p=d.finalize(c);d.reset();var m=d.finalize(this._oKey.clone().concat(p));return m}})})()})}(pe)),pe.exports}(function(n,e){(function(t,i,o){n.exports=i(se(),hn(),pn())})(N,function(t){return t.HmacSHA256})})(Xe);var mn=Xe.exports;const gn=je(mn);var Ye={exports:{}};(function(n,e){(function(t,i){n.exports=i(se())})(N,function(t){return function(){var i=t,o=i.lib,r=o.WordArray,s=i.enc;s.Base64={stringify:function(l){var c=l.words,d=l.sigBytes,p=this._map;l.clamp();for(var m=[],g=0;g<d;g+=3)for(var w=c[g>>>2]>>>24-g%4*8&255,f=c[g+1>>>2]>>>24-(g+1)%4*8&255,C=c[g+2>>>2]>>>24-(g+2)%4*8&255,x=w<<16|f<<8|C,h=0;h<4&&g+h*.75<d;h++)m.push(p.charAt(x>>>6*(3-h)&63));var v=p.charAt(64);if(v)for(;m.length%4;)m.push(v);return m.join("")},parse:function(l){var c=l.length,d=this._map,p=this._reverseMap;if(!p){p=this._reverseMap=[];for(var m=0;m<d.length;m++)p[d.charCodeAt(m)]=m}var g=d.charAt(64);if(g){var w=l.indexOf(g);w!==-1&&(c=w)}return a(l,c,p)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="};function a(l,c,d){for(var p=[],m=0,g=0;g<c;g++)if(g%4){var w=d[l.charCodeAt(g-1)]<<g%4*2,f=d[l.charCodeAt(g)]>>>6-g%4*2,C=w|f;p[m>>>2]|=C<<24-m%4*8,m++}return r.create(p,m)}}(),t.enc.Base64})})(Ye);var fn=Ye.exports;const vn=je(fn),ae=()=>"10000000-1000-4000-8000-100000000000".replace(/[018]/g,n=>(n^crypto.getRandomValues(new Uint8Array(1))[0]&15>>n/4).toString(16));class Cn extends Z{constructor(e,t){super(e,t,"spark"),this.aiModelConfig={version:"v3.5",protocol:"wss",...t.models?.spark}}createAiClient(e,t){return new Ge(e,{onStart:t.onStart,onStop:t.onStop,onMessage:i=>{const o=JSON.parse(i);o.payload&&(o.payload.usage?.text?.total_tokens&&this.globalConfig.onTokenConsume&&this.globalConfig.onTokenConsume(this.aiModelName,this.aiModelConfig,o.payload.usage?.text?.total_tokens),o.payload.choices?.text&&o.payload.choices.text[0]&&t.onMessage({...o.payload.choices.text[0],status:o.payload.choices.status}))}})}wrapPayload(e){const t=this.aiModelConfig,i={header:{app_id:t.appId,uid:ae().replace(/-/g,"")},parameter:{chat:{domain:this.getDomain(t),temperature:t.temperature||.5,max_tokens:t.maxTokens||2048}},payload:{message:{text:[{role:"user",content:e}]}}};return JSON.stringify(i)}getDomain(e){switch(e.version){case"v4.0":return"4.0Ultra";case"v3.5":return"generalv3.5";case"v3.1":return"generalv3";case"v2.1":return"generalv2";case"v1.1":return"lite";default:return"general"}}createAiClientUrl(){const e=this.aiModelConfig,t=new Date().toUTCString().replace("GMT","+0000");let i=`host: spark-api.xf-yun.com
`;i+="date: "+t+`
`,i+=`GET /${e.version}/chat HTTP/1.1`;const o=gn(i,e.apiSecret),r=vn.stringify(o),s=`api_key="${e.apiKey}", algorithm="hmac-sha256", headers="host date request-line", signature="${r}"`,a=btoa(s);return`${e.protocol}://spark-api.xf-yun.com/${e.version}/chat?authorization=${a}&date=${encodeURIComponent(t)}&host=spark-api.xf-yun.com`}}class Qe{constructor(e,t){u(this,"isStop",!1);u(this,"config");u(this,"fetch");u(this,"isOpen",!1);u(this,"payload");u(this,"listener");this.config=e,this.listener=t}start(e){this.payload=e,this.onOpen(),this.listener.onStart(this)}stop(){this.fetch&&(this.fetch=void 0,this.isStop||(this.listener.onStop(),this.isStop=!0))}async send(e){if(this.isOpen)try{this.fetch=await fetch(this.config.url,{method:this.config.method,headers:this.config.headers,body:e});const t=this.fetch;if(!t.body)throw new Error("response.body is none");const i=({done:s,value:a})=>{if(s){this.onClose();return}return this.onMessage(r.decode(a)),o.read().then(({done:l,value:c})=>i({done:l,value:c}))},o=t.body.getReader(),r=new TextDecoder("utf-8");o.read().then(({done:s,value:a})=>i({done:s,value:a}))}catch{this.onError()}}onOpen(){this.isOpen=!0,this.send(this.payload)}onMessage(e){this.listener.onMessage(e)}onClose(){this.isOpen=!1,this.isStop||(this.listener.onStop(),this.isStop=!0)}onError(){this.isOpen=!1,this.isStop||(this.listener.onStop(),this.isStop=!0)}}class wn extends Z{constructor(e,t){super(e,t,"wenxin"),this.aiModelConfig={...t.models?.wenxin}}createAiClient(e,t){return new Qe({url:e,method:"POST"},{onStart:t.onStart,onStop:t.onStop,onMessage:i=>{const o=i.match(/data:([\s\S]*)$/);if(!o)return;const r=JSON.parse(o[1]);t.onMessage({status:r.is_end?2:1,role:"assistant",content:r.result||"",index:r.sentence_id})}})}wrapPayload(e){const t={messages:[{role:"user",content:e}],stream:!0,max_tokens:this.aiModelConfig.maxTokens||null,temperature:this.aiModelConfig.temperature||null};return JSON.stringify(t)}createAiClientUrl(){return`https://aip.baidubce.com/rpc/2.0/ai_custom/v1/wenxinworkshop/chat/completions_pro?access_token=${this.aiModelConfig.access_token}`}}var I;class yn extends TransformStream{constructor(t={allowCR:!1}){super({transform:(i,o)=>{for(i=_(this,I)+i;;){const r=i.indexOf(`
`),s=t.allowCR?i.indexOf("\r"):-1;if(s!==-1&&s!==i.length-1&&(r===-1||r-1>s)){o.enqueue(i.slice(0,s)),i=i.slice(s+1);continue}if(r===-1)break;const a=i[r-1]==="\r"?r-1:r;o.enqueue(i.slice(0,a)),i=i.slice(r+1)}Me(this,I,i)},flush:i=>{if(_(this,I)==="")return;const o=t.allowCR&&_(this,I).endsWith("\r")?_(this,I).slice(0,-1):_(this,I);i.enqueue(o)}});ke(this,I,"")}}I=new WeakMap;function bn(n){let e=new TextDecoderStream,t=new yn({allowCR:!0});return n.pipeThrough(e).pipeThrough(t)}function Hn(n){let t=/[:]\s*/.exec(n),i=t&&t.index;if(i)return[n.substring(0,i),n.substring(i+t[0].length)]}async function*xn(n,e){if(!n.body)return;let t=bn(n.body),i,o=t.getReader(),r;for(;;){if(e&&e.aborted)return o.cancel();if(i=await o.read(),i.done)return;if(!i.value){r&&(yield r),r=void 0;continue}let[s,a]=Hn(i.value)||[];s==="data"?(r||(r={}),r[s]=r[s]?r[s]+`
`+a:a):s==="event"?(r||(r={}),r[s]=a):s==="id"?(r||(r={}),r[s]=String(+a)===a?+a:a):s==="retry"&&(r||(r={}),r[s]=+a||void 0)}}class ${constructor(e,t){u(this,"isStop",!1);u(this,"config");u(this,"fetch");u(this,"isOpen",!1);u(this,"payload");u(this,"listener");u(this,"ctrl",new AbortController);this.config=e,this.listener=t}start(e){this.payload=e,this.onOpen(),this.listener.onStart(this)}stop(){this.fetch&&(this.ctrl.abort(),this.isStop||(this.listener.onStop(),this.isStop=!0))}async send(e){let t=await fetch(this.config.url,{method:this.config.method,signal:this.ctrl.signal,headers:this.config.headers,body:e});if(!t.ok){this.onError();return}try{let i=xn(t,this.ctrl.signal);for await(let o of i)o.data&&o.data.trim()!=="[DONE]"&&this.onMessage(o.data)}catch{this.onError()}finally{this.onClose()}}onOpen(){this.isOpen=!0,this.send(this.payload)}onMessage(e){this.listener.onMessage(e)}onClose(){this.isOpen=!1,this.isStop||(this.listener.onStop(),this.isStop=!0)}onError(){this.isOpen=!1,this.isStop||(this.listener.onStop(),this.isStop=!0)}}class Ln extends Z{constructor(e,t){super(e,t,"custom"),this.aiModelConfig={protocol:"sse",...t.models?.custom}}createAiClient(e,t){const i=this.aiModelConfig,o={onStart:t.onStart,onStop:t.onStop,onMessage:s=>{const l=this.aiModelConfig.parseMessage?.(s);l&&t.onMessage(l)}},r={url:e,method:i.method||"post",headers:typeof i.headers=="function"?i.headers?.():i.headers};return i.protocol==="sse"?new $(r,o):i.protocol==="http"?new Qe(r,o):new Ge(e,o)}wrapPayload(e){return this.aiModelConfig.wrapPayload?.(e)}createAiClientUrl(){const e=this.aiModelConfig;return typeof e.url=="string"?e.url:e.url?.()}}class kn extends Z{constructor(e,t){super(e,t,"openai"),this.aiModelConfig={endpoint:"https://api.openai.com",...t.models?.openai}}createAiClient(e,t){const i=this.aiModelConfig,o={"Content-Type":"application/json"};return i.apiKey&&(o.Authorization=`Bearer ${i.apiKey}`),new $({url:e,method:"post",headers:o},{onStart:t.onStart,onStop:t.onStop,onMessage:r=>{let s=null;try{s=JSON.parse(r)}catch{return}!s.choices||s.choices.length===0||(t.onMessage({status:s.choices[0].finish_reason==="stop"?2:1,role:"assistant",content:s.choices[0].delta?.content||"",index:s.choices[0].index}),this.globalConfig.onTokenConsume&&s.choices[0].usage?.total_tokens&&this.globalConfig.onTokenConsume(this.aiModelName,this.aiModelConfig,s.choices[0].usage.total_tokens))}})}wrapPayload(e){const t=this.aiModelConfig,i={messages:[{role:"user",content:e}],max_tokens:t.maxTokens||null,temperature:t.temperature||null,stream:!0};return t.model&&(i.model=t.model),JSON.stringify(i)}createAiClientUrl(){const e=this.aiModelConfig;if(e.customUrl){if(typeof e.customUrl=="string")return e.customUrl;if(typeof e.customUrl=="function")return e.customUrl()}return`${e.endpoint}/v1/chat/completions`}}class Mn extends Z{constructor(e,t){super(e,t,"gitee"),this.aiModelConfig={top_p:.7,top_k:50,...t.models?.gitee}}createAiClient(e,t){const i=this.aiModelConfig;return new $({url:e,method:"post",headers:{"Content-Type":"application/json",Authorization:`Bearer ${i.apiKey}`}},{onStart:t.onStart,onStop:t.onStop,onMessage:o=>{let r=null;try{r=JSON.parse(o)}catch{return}t.onMessage({status:r.choices[0].finish_reason==="stop"?2:1,role:"assistant",content:r.choices[0].delta?.content||"",index:r.choices[0].index}),this.globalConfig.onTokenConsume&&r.usage?.total_tokens&&this.globalConfig.onTokenConsume(this.aiModelName,this.aiModelConfig,r.usage.total_tokens)}})}wrapPayload(e){const t=this.aiModelConfig,i={messages:[{role:"user",content:e}],stream:!0,max_tokens:t.maxTokens||null,temperature:t.temperature||null,top_p:t.top_p,top_k:t.top_k};return JSON.stringify(i)}createAiClientUrl(){const{endpoint:e}=this.aiModelConfig;return e}}class Vn extends Z{constructor(e,t){super(e,t,"openrouter"),this.aiModelConfig={endpoint:"https://openrouter.ai/api",...t.models?.openrouter}}createAiClient(e,t){const o={"Content-Type":"application/json",Authorization:`Bearer ${this.aiModelConfig.apiKey}`};return new $({url:e,method:"post",headers:o},{onStart:t.onStart,onStop:t.onStop,onMessage:r=>{let s=null;try{s=JSON.parse(r)}catch{return}!s.choices||s.choices.length===0||(t.onMessage({status:s.choices[0].finish_reason==="stop"?2:1,role:"assistant",content:s.choices[0].delta?.content||"",index:s.choices[0].index}),this.globalConfig.onTokenConsume&&s.choices[0].usage?.total_tokens&&this.globalConfig.onTokenConsume(this.aiModelName,this.aiModelConfig,s.choices[0].usage.total_tokens))}})}wrapPayload(e){const t=this.aiModelConfig,i={messages:[{role:"user",content:e}],max_tokens:t.maxTokens||null,temperature:t.temperature||null,stream:!0};return t.model&&(i.model=t.model),JSON.stringify(i)}createAiClientUrl(){const e=this.aiModelConfig;if(e.customUrl){if(typeof e.customUrl=="string")return e.customUrl;if(typeof e.customUrl=="function")return e.customUrl()}return`${e.endpoint}/v1/chat/completions`}}class Sn extends Z{constructor(e,t){super(e,t,"gemini"),this.aiModelConfig={endpoint:"https://generativelanguage.googleapis.com",...t.models?.gemini}}createAiClient(e,t){return new $({url:e,method:"post",headers:{"Content-Type":"application/json"}},{onStart:t.onStart,onStop:t.onStop,onMessage:i=>{let o=null;try{o=JSON.parse(i)}catch{return}if(!o.candidates||o.candidates.length===0)return;const r=o.candidates[0];if(!r.content||!r.content.parts)return;const s=r.content.parts[0]?.text||"";t.onMessage({status:r.finishReason==="STOP"?2:1,role:"assistant",content:s,index:0}),this.globalConfig.onTokenConsume&&o.usageMetadata?.totalTokenCount&&this.globalConfig.onTokenConsume(this.aiModelName,this.aiModelConfig,o.usageMetadata.totalTokenCount)}})}wrapPayload(e){const t=this.aiModelConfig,i={contents:[{parts:[{text:e}]}],generationConfig:{temperature:t.temperature||.7,maxOutputTokens:t.maxTokens||2048,topP:.8,topK:10}};return JSON.stringify(i)}createAiClientUrl(){const e=this.aiModelConfig;if(e.customUrl){if(typeof e.customUrl=="string")return e.customUrl;if(typeof e.customUrl=="function")return e.customUrl()}const t=e.model||"gemini-pro",i=e.apiKey;if(!i)throw new Error("Gemini API key is required");return`${e.endpoint}/v1beta/models/${t}:streamGenerateContent?alt=sse&key=${i}`}}class En extends Z{constructor(e,t){super(e,t,"claude"),this.aiModelConfig={endpoint:"https://api.anthropic.com",...t.models?.claude}}createAiClient(e,t){const i=this.aiModelConfig,o={"Content-Type":"application/json","anthropic-version":i.apiVersion||"2023-06-01"};return i.apiKey&&(o["x-api-key"]=i.apiKey),new $({url:e,method:"post",headers:o},{onStart:t.onStart,onStop:t.onStop,onMessage:r=>{const s=r.split(`
`);for(const a of s)if(a.startsWith("data: ")){const l=a.slice(6);if(l==="[DONE]")continue;let c=null;try{c=JSON.parse(l)}catch{return}c.type==="content_block_delta"&&c.delta?.text?t.onMessage({status:1,role:"assistant",content:c.delta.text,index:0}):c.type==="message_stop"&&t.onMessage({status:2,role:"assistant",content:"",index:0}),this.globalConfig.onTokenConsume&&c.usage?.total_tokens&&this.globalConfig.onTokenConsume(this.aiModelName,this.aiModelConfig,c.usage.total_tokens)}}})}wrapPayload(e){const t=this.aiModelConfig,i={model:t.model||"claude-3-haiku-20240307",max_tokens:t.maxTokens||4096,temperature:t.temperature||.7,system:"You are a helpful assistant integrated into a rich text editor. Provide clear, concise responses suitable for text editing contexts.",messages:[{role:"user",content:e}],stream:!0};return JSON.stringify(i)}createAiClientUrl(){const e=this.aiModelConfig;if(e.customUrl){if(typeof e.customUrl=="string")return e.customUrl;if(typeof e.customUrl=="function")return e.customUrl()}return`${e.endpoint}/v1/messages`}}class Tn extends Z{constructor(e,t){super(e,t,"deepseek"),this.aiModelConfig={endpoint:"https://api.deepseek.com",...t.models?.deepseek}}createAiClient(e,t){const i=this.aiModelConfig,o={"Content-Type":"application/json"};return i.apiKey&&(o.Authorization=`Bearer ${i.apiKey}`),new $({url:e,method:"post",headers:o},{onStart:t.onStart,onStop:t.onStop,onMessage:r=>{let s=null;try{s=JSON.parse(r)}catch{return}!s.choices||s.choices.length===0||(t.onMessage({status:s.choices[0].finish_reason==="stop"?2:1,role:"assistant",content:s.choices[0].delta?.content||"",index:s.choices[0].index}),this.globalConfig.onTokenConsume&&s.usage?.total_tokens&&this.globalConfig.onTokenConsume(this.aiModelName,this.aiModelConfig,s.usage.total_tokens))}})}wrapPayload(e){const t=this.aiModelConfig,i={messages:[{role:"user",content:e}],max_tokens:t.maxTokens||4096,temperature:t.temperature||.7,stream:!0};return t.model&&(i.model=t.model),JSON.stringify(i)}createAiClientUrl(){const e=this.aiModelConfig;if(e.customUrl){if(typeof e.customUrl=="string")return e.customUrl;if(typeof e.customUrl=="function")return e.customUrl()}return`${e.endpoint}/v1/chat/completions`}}class An extends Z{constructor(e,t){super(e,t,"ollama"),this.aiModelConfig={endpoint:"http://localhost:11434",...t.models?.ollama}}createAiClient(e,t){const i={"Content-Type":"application/json"};return new $({url:e,method:"post",headers:i},{onStart:t.onStart,onStop:t.onStop,onMessage:o=>{let r=null;try{r=JSON.parse(o)}catch{return}if(r.done){t.onMessage({status:2,role:"assistant",content:"",index:0});return}r.response&&t.onMessage({status:1,role:"assistant",content:r.response,index:0}),this.globalConfig.onTokenConsume&&r.eval_count&&this.globalConfig.onTokenConsume(this.aiModelName,this.aiModelConfig,r.eval_count)}})}wrapPayload(e){const t=this.aiModelConfig,i={model:t.model||"llama2",prompt:e,stream:!0,options:{temperature:t.temperature||.7,num_predict:t.maxTokens||2048}};return JSON.stringify(i)}createAiClientUrl(){const e=this.aiModelConfig;if(e.customUrl){if(typeof e.customUrl=="string")return e.customUrl;if(typeof e.customUrl=="function")return e.customUrl()}return`${e.endpoint}/api/generate`}}class Zn extends Z{constructor(e,t){super(e,t,"grok"),this.aiModelConfig={endpoint:"https://api.x.ai",...t.models?.grok}}createAiClient(e,t){const i=this.aiModelConfig,o={"Content-Type":"application/json"};return i.apiKey&&(o.Authorization=`Bearer ${i.apiKey}`),new $({url:e,method:"post",headers:o},{onStart:t.onStart,onStop:t.onStop,onMessage:r=>{let s=null;try{s=JSON.parse(r)}catch{return}!s.choices||s.choices.length===0||(t.onMessage({status:s.choices[0].finish_reason==="stop"?2:1,role:"assistant",content:s.choices[0].delta?.content||"",index:s.choices[0].index}),this.globalConfig.onTokenConsume&&s.usage?.total_tokens&&this.globalConfig.onTokenConsume(this.aiModelName,this.aiModelConfig,s.usage.total_tokens))}})}wrapPayload(e){const t=this.aiModelConfig,i={messages:[{role:"user",content:e}],max_tokens:t.maxTokens||4096,temperature:t.temperature||.7,stream:!0};return t.model&&(i.model=t.model),JSON.stringify(i)}createAiClientUrl(){const e=this.aiModelConfig;if(e.customUrl){if(typeof e.customUrl=="string")return e.customUrl;if(typeof e.customUrl=="function")return e.customUrl()}return`${e.endpoint}/v1/chat/completions`}}class z{static init(e,t){if(t&&t.models)for(let i of Object.keys(t.models))switch(i){case"spark":this.set(i,new Cn(e,t));break;case"wenxin":this.set(i,new wn(e,t));break;case"openai":this.set(i,new kn(e,t));break;case"openrouter":this.set(i,new Vn(e,t));break;case"gemini":this.set(i,new Sn(e,t));break;case"claude":this.set(i,new En(e,t));break;case"deepseek":this.set(i,new Tn(e,t));break;case"ollama":this.set(i,new An(e,t));break;case"grok":this.set(i,new Zn(e,t));break;case"gitee":this.set(i,new Mn(e,t));break;case"custom":this.set(i,new Ln(e,t));break;default:const o=t.modelFactory?.create(i,e,t);o&&this.set(i,o)}}static get(e){return(!e||e==="auto")&&(e=Object.keys(this.models)[0]),this.models[e]}static set(e,t){this.models[e]=t}}u(z,"models",{});const In=[{icon:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0z"></path><path d="M4 18.9997H20V13.9997H22V19.9997C22 20.552 21.5523 20.9997 21 20.9997H3C2.44772 20.9997 2 20.552 2 19.9997V13.9997H4V18.9997ZM16.1716 6.9997L12.2218 3.04996L13.636 1.63574L20 7.9997L13.636 14.3637L12.2218 12.9495L16.1716 8.9997H5V6.9997H16.1716Z"></path></svg>',name:"ai-continuation",prompt:`{content}

Please help me continue and expand the content of the above text.
Note: You should first determine whether this text is in Chinese or English. If it's Chinese, return Chinese content. If it's English, return English content. Just return the content without indicating whether it's Chinese or English.`,text:"focusBefore",model:"openrouter"},{icon:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0z"></path><path d="M15 5.25C16.7949 5.25 18.25 3.79493 18.25 2H19.75C19.75 3.79493 21.2051 5.25 23 5.25V6.75C21.2051 6.75 19.75 8.20507 19.75 10H18.25C18.25 8.20507 16.7949 6.75 15 6.75V5.25ZM4 7C4 5.89543 4.89543 5 6 5H13V3H6C3.79086 3 2 4.79086 2 7V17C2 19.2091 3.79086 21 6 21H18C20.2091 21 22 19.2091 22 17V12H20V17C20 18.1046 19.1046 19 18 19H6C4.89543 19 4 18.1046 4 17V7Z"></path></svg>',name:"ai-optimization",prompt:`{content}

Please help me optimize the content of the above text and return the result.
Note: You should first determine whether this text is in Chinese or English. If it's Chinese, return Chinese content. If it's English, return English content. Just return the content without indicating whether it's Chinese or English.`,text:"selected",model:"openrouter"},{icon:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0z"></path><path d="M17.934 3.0359L19.666 4.0359L18.531 6H21V8H19V12H21V14H19V21H17V14L13.9157 14.0004C13.5914 16.8623 12.3522 19.3936 10.5466 21.1933L8.98361 19.9233C10.5031 18.4847 11.5801 16.4008 11.9008 14.0009L10 14V12L12 11.999V8H10V6H12.467L11.334 4.0359L13.066 3.0359L14.777 6H16.221L17.934 3.0359ZM5 13.803L3 14.339V12.268L5 11.732V8H3V6H5V3H7V6H9V8H7V11.197L9 10.661V12.731L7 13.267V18.5C7 19.8807 5.88071 21 4.5 21H3V19H4.5C4.74546 19 4.94961 18.8231 4.99194 18.5899L5 18.5V13.803ZM17 8H14V12H17V8Z"></path></svg>',name:"ai-proofreading",prompt:`{content}

Please help me find and correct any spelling errors in the above text, then return the corrected result without any explanation or extra content.
Note: You should first determine whether this text is in Chinese or English. If it's Chinese, return Chinese content. If it's English, return English content. Just return the content without indicating whether it's Chinese or English.`,text:"selected",model:"openrouter"},{icon:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0z"></path><path d="M5 15V17C5 18.0544 5.81588 18.9182 6.85074 18.9945L7 19H10V21H7C4.79086 21 3 19.2091 3 17V15H5ZM18 10L22.4 21H20.245L19.044 18H14.954L13.755 21H11.601L16 10H18ZM17 12.8852L15.753 16H18.245L17 12.8852ZM8 2V4H12V11H8V14H6V11H2V4H6V2H8ZM17 3C19.2091 3 21 4.79086 21 7V9H19V7C19 5.89543 18.1046 5 17 5H14V3H17ZM6 6H4V9H6V6ZM10 6H8V9H10V6Z"></path></svg>',name:"ai-translation",prompt:"Please help me translate the above content. Before translating, first determine if the content is in Chinese. If it's Chinese, translate it to English. If it's in another language, translate it to Chinese. Note: You only need to return the translation result without any explanation or any other content besides the translation result.",text:"selected",model:"openrouter"}];class Bn extends F{constructor(){super();u(this,"aiMenus",In.map(t=>({...t,name:`${y(t.name)}`})));this.dropDivHeight="auto",this.dropDivWith="fit-content",this.width="36px",this.menuTextWidth="20px"}onCreate(t,i){super.onCreate(t,i),this.menuData=i.ai?.menus||this.aiMenus}renderTemplate(){this.template=`
         <div style="width: ${this.width};">
         <div id="tippy" class="menu-ai" id="text">
             <span> AI </span>
             <div style="width: 18px;height: 18px;display: inline-block" >
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0z"></path><path d="M12 14L8 10H16L12 14Z"></path></svg>
             </div>
         </div>
         </div>
        `}createMenuElement(){const t=document.createElement("div");t.style.height=this.dropDivHeight,t.style.width=this.dropDivWith,t.classList.add("aie-dropdown-container");for(let i=0;i<this.menuData.length;i++){const o=document.createElement("div");o.classList.add("aie-dropdown-item"),o.innerHTML=`
            <div class="text" style="display: flex;padding: 5px 10px">${this.onDropdownItemRender(i)}</div>
            `,o.addEventListener("click",r=>{const s=this.menuData[i];s.onClick?(s.onClick(r,this.editor.aiEditor),this.tippyInstance.hide()):(this.onDropdownItemClick(i),this.tippyInstance.hide())}),t.appendChild(o)}return this.tippyEl=t,t}onTransaction(t){}onDropdownActive(t,i){return!1}getSelectedText(t){if(t==="selected"){const{selection:i,doc:o}=this.editor.state;return o.textBetween(i.from,i.to)}return this.editor.state.selection.$head.parent.textContent}onDropdownItemClick(t){const i=this.menuData[t],o=this.getSelectedText(i.text),r=localStorage.getItem("aiModel")||"anthropic/claude-3-haiku";if(!o||!this.editor)return;const s=z.get("openrouter");if(s)try{const a=s.aiModelConfig.model;s.aiModelConfig.model=r;const l={onStart:c=>{},onStop:()=>{s.aiModelConfig.model=a},onMessage:c=>{if(c.content?.trim()){const{selection:d}=this.editor.state;this.editor.chain().setTextSelection({from:d.to,to:d.to}).insertContent(c.content.trim()).run()}},onError:c=>{s.aiModelConfig.model=a}};s.chat(o,i.prompt,l)}catch{}}onDropdownItemRender(t){return`<div style="width:18px;height: 18px;">${this.menuData[t].icon}</div><div style="margin-left: 10px">${this.menuData[t].name}</div>`}onMenuTextRender(t){return this.menuData[t].icon}}class zn extends L{constructor(){super(),this.template=`
        <div>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0z"></path><path d="M21 3C21.5523 3 22 3.44772 22 4V20C22 20.5523 21.5523 21 21 21H3C2.44772 21 2 20.5523 2 20V4C2 3.44772 2.44772 3 3 3H21ZM20 5H4V19H20V5ZM18 15V17H6V15H18Z"></path></svg>
        </div>
        `,this.registerClickListener()}onClick(e){this.editor?.isActive("container")?e.unsetContainer():e.setContainer(""),e.focus()}onActive(e){return e.isActive("container")}}class $n extends L{constructor(){super();u(this,"config")}onConfig(t){this.config=t,t.html?this.template=t.html:t.icon&&(this.template=`<div style="height: 16px">${t.icon}</div>`),this.addEventListener("click",i=>{this.config&&this.config.onClick&&this.config.onClick(i,this.editor.aiEditor)})}}const b=(n,e)=>{window.customElements.get(n)||window.customElements.define(n,e)},et=(n,e,t,i)=>{for(let o of i)if(o)try{if(typeof o=="string"){o=o.trim(),o==="|"&&(o="divider");const r=document.createElement("aie-"+o);if(r.classList.add("aie-menu-item"),r.onCreate(n,e),r.onEditableChange(!!e.editable),o!=="divider"&&e.toolbarTipEnable!==!1){const s=y(o);r.setAttribute("data-title",s),r.setAttribute("data-size",e.toolbarSize),s&&S(r,{appendTo:()=>n.editor.view.dom.closest(".aie-container"),content:s,theme:"aietip",arrow:!0})}t.push(r)}else if(o.toolbarKeys){const r=o,s=document.createElement("aie-group");if(s.classList.add("aie-menu-item"),s.onCreate(n,e),s.init(n,e,r),s.onEditableChange(!!e.editable),r.title){const a=y(r.title);a&&S(s,{appendTo:()=>n.editor.view.dom.closest(".aie-container"),content:a,theme:"aietip",arrow:!0})}t.push(s)}else{const r=o,s=document.createElement("aie-custom");if(s.classList.add("aie-menu-item"),r.id&&s.setAttribute("id",r.id),r.className&&s.classList.add(r.className),s.onCreate(n,e),s.onConfig(r),s.onEditableChange(!!e.editable),r.tip){const a=y(r.tip);a&&S(s,{appendTo:()=>n.editor.view.dom.closest(".aie-container"),content:a,theme:"aietip",arrow:!0})}r.onCreate&&r.onCreate(s,n.editor.aiEditor),t.push(s)}}catch{}};class Dn extends L{constructor(){super();u(this,"menuButtons",[]);u(this,"tippyInstance");u(this,"tippyEl");u(this,"iconSvg",'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M12 3C11.175 3 10.5 3.675 10.5 4.5C10.5 5.325 11.175 6 12 6C12.825 6 13.5 5.325 13.5 4.5C13.5 3.675 12.825 3 12 3ZM12 18C11.175 18 10.5 18.675 10.5 19.5C10.5 20.325 11.175 21 12 21C12.825 21 13.5 20.325 13.5 19.5C13.5 18.675 12.825 18 12 18ZM12 10.5C11.175 10.5 10.5 11.175 10.5 12C10.5 12.825 11.175 13.5 12 13.5C12.825 13.5 13.5 12.825 13.5 12C13.5 11.175 12.825 10.5 12 10.5Z"></path></svg>')}onCreate(t,i){super.onCreate(t,i)}init(t,i,o){et(t,i,this.menuButtons,o.toolbarKeys),this.iconSvg=o.icon||this.iconSvg}renderTemplate(){this.template=`<div id="tippy" >${this.iconSvg}</div>`}onTransaction(t){for(let i of this.menuButtons)i.onTransaction(t)}connectedCallback(){this.renderTemplate(),super.connectedCallback(),this.tippyInstance=S(this.querySelector("#tippy"),{content:this.createMenuElement(),appendTo:this.closest(".aie-container"),placement:"bottom",trigger:"click",interactive:!0,arrow:!1})}createMenuElement(){const t=document.createElement("div");t.classList.add("aie-dropdown-container");for(let i=0;i<this.menuButtons.length;i++){const o=this.menuButtons[i],r=document.createElement("div");r.classList.add("aie-dropdown-item"),r.style.padding="5px 10px",r.style.lineHeight="16px",r.appendChild(o);const s=document.createElement("div");s.innerText=o.getAttribute("data-title"),s.style.marginLeft="5px",r.appendChild(s),r.addEventListener("click",a=>{if(a.target.closest(".aie-menu-item"))return;const c=r.querySelector("#tippy");if(c){c.click();return}const d=r.querySelector("#dropdown");if(d){d.click();return}o.click()}),t.appendChild(r)}return this.tippyEl=t,t}}const Nn=["undo","redo","brush","eraser","divider","heading","font-family","font-size","divider","bold","italic","underline","strike","link","code","subscript","superscript","hr","todo","emoji","divider","highlight","font-color","divider","align","line-height","divider","bullet-list","ordered-list","indent-decrease","indent-increase","break","divider","image","video","attachment","quote","container","code-block","table","divider","source-code","printer","fullscreen","ai"];b("aie-undo",ci);b("aie-redo",di);b("aie-brush",an);b("aie-container",zn);b("aie-custom",$n);b("aie-eraser",Yi);b("aie-heading",hi);b("aie-font-family",mi);b("aie-font-size",fi);b("aie-bold",vi);b("aie-italic",Ci);b("aie-underline",wi);b("aie-strike",yi);b("aie-link",Zi);b("aie-source-code",_i);b("aie-code",Gi);b("aie-subscript",bi);b("aie-superscript",Hi);b("aie-highlight",xi);b("aie-font-color",Li);b("aie-divider",ki);b("aie-bullet-list",Mi);b("aie-ordered-list",Vi);b("aie-indent-decrease",Si);b("aie-indent-increase",Ei);b("aie-align",Ai);b("aie-todo",Fi);b("aie-line-height",ji);b("aie-break",tn);b("aie-quote",Ki);b("aie-image",Wi);b("aie-video",Ji);b("aie-code-block",Xi);b("aie-hr",Qi);b("aie-table",en);b("aie-attachment",nn);b("aie-fullscreen",on);b("aie-printer",rn);b("aie-emoji",sn);b("aie-ai",Bn);b("aie-group",Dn);class tt extends HTMLElement{constructor(){super();u(this,"menuButtons",[])}connectedCallback(){if(this.children&&this.children.length>0)return;const t=document.createElement("div");for(let i of this.menuButtons)t.appendChild(i);t.style.display="flex",t.style.flexWrap="wrap",this.appendChild(t)}onCreate(t,i){let o=i.toolbarKeys||Nn;o=o.filter(r=>typeof r=="string"?!i.toolbarExcludeKeys?.includes(r):!0).filter((r,s,a)=>{const l=a[s-1];if(typeof r=="string"&&(typeof l=="string"||typeof l>"u")){const c=["divider","|",void 0];return c.includes(r)?!c.includes(l):!0}return!0}),et(t,i,this.menuButtons,o)}onTransaction(t){for(let i of this.menuButtons)i.onTransaction(t)}onEditableChange(t){for(let i of this.menuButtons)i.onEditableChange(t)}}class it extends HTMLElement{constructor(){super();u(this,"count",0);u(this,"draggable",!0)}initDraggable(t){if(this.draggable=!!t,!this.draggable)return;let i,o,r=300,s=300,a,l,c;const d=m=>{m.preventDefault(),document.removeEventListener("mouseup",d),document.removeEventListener("mousemove",p)},p=m=>{const g=m.clientX-i,w=m.clientY-o;if(g==0&&w==0)return;let f=a+g,C=l+w;f<r&&(f=r),C<s&&(C=s),c.style.width=`${f}px`,c.style.height=`${C}px`};this.addEventListener("mousedown",m=>{m.target.closest("svg")&&(m.preventDefault(),document.addEventListener("mouseup",d),document.addEventListener("mousemove",p),c=m.target.closest(".aie-container")?.parentElement,a=c.clientWidth,l=c.clientHeight,i=m.clientX,o=m.clientY)}),this.addEventListener("mouseup",d)}updateCharacters(){this.draggable?this.innerHTML=`<div style="display: flex"> 
                                <div style="width: 20px;height: 20px;overflow: hidden">
                                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0z"></path><path d="M12 16L6 10H18L12 16Z"></path></svg>
                                </div>
                            </div>
                            `:this.innerHTML=`<div style="display: flex;"> 
                            </div>
                            `}onCreate(t,i){this.count=t.editor.storage.characterCount.characters(),this.updateCharacters()}onTransaction(t){const i=t.editor.storage.characterCount.characters();i!=this.count&&(this.count=i,this.updateCharacters())}onEditableChange(t){}}const nt=n=>{const e=document.createElement("div");return e.classList.add("aie-loader-placeholder"),e.innerHTML=`
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0z"></path><path d="M12 3C16.9706 3 21 7.02944 21 12H19C19 8.13401 15.866 5 12 5V3Z"></path></svg>
    `,fe.widget(n.pos,e,{id:n.id})},Pn=n=>{const e=document.createElement("div");return e.classList.add("aie-loader-placeholder"),e.style.height="20px",e.style.display="inline-block",e.innerHTML=`
    <svg style="width: 16px" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0z"></path><path d="M12 3C16.9706 3 21 7.02944 21 12H19C19 8.13401 15.866 5 12 5V3Z"></path></svg>
   ${n.text}
    `,fe.widget(n.pos,e,{id:n.id})},Rn=(n,e,t,i)=>{const o=new FormData;return o.append(i,n),new Promise((r,s)=>{fetch(e,{method:"post",headers:{Accept:"application/json",...t},body:o}).then(a=>a.json()).then(a=>{r(a)}).catch(a=>{s(a)})})},qn=(n,e,t,i)=>{let o=new FileReader;return new Promise((r,s)=>{o.onload=()=>r({errorCode:0,data:{src:o.result,href:n.name}}),o.onerror=()=>s(o.error),setTimeout(()=>o.readAsDataURL(n),5e3*Math.random())})},we=n=>n?Rn:qn,Be=new P("aie-attachment-plugin"),j="attachment_action",On=A.create({name:"attachment",addOptions(){return{uploadUrl:"",uploadHeaders:{},HTMLAttributes:{}}},addCommands(){return{uploadAttachment:n=>()=>{const e=typeof this.options.uploadHeaders=="object"?this.options.uploadHeaders:typeof this.options.uploadHeaders=="function"?this.options.uploadHeaders():{};if(this.options.uploaderEvent&&this.options.uploaderEvent.onUploadBefore&&this.options.uploaderEvent.onUploadBefore(n,this.options.uploadUrl,e)===!1)return!1;const t=ae(),{state:{tr:i},view:o,schema:r}=this.editor;i.selection.empty||i.deleteSelection(),o.dispatch(i.setMeta(j,{type:"add",id:t,pos:i.selection.from,text:n.name}));const s=this.options.uploader||we(this.options.uploadUrl),a=this.options.uploadFormName||"attachment";return s(n,this.options.uploadUrl,e,a).then(l=>{if(this.options.uploaderEvent?.onSuccess){const c=this.options.uploaderEvent.onSuccess(n,l);if(typeof c=="boolean"&&!c)return;typeof c=="object"&&(l=c)}if(l.errorCode===0&&l.data&&l.data.href){let d=Be.getState(this.editor.state).find(void 0,void 0,m=>m.id==t);const p=l.data.fileName||n.name;o.dispatch(o.state.tr.insertText(` ${p} `,d[0].from).addMark(d[0].from+1,p.length+d[0].from+1,r.marks.link.create({href:l.data.href,target:"_blank"})).setMeta(j,{type:"remove",id:t}))}else o.dispatch(i.setMeta(j,{type:"remove",id:t})),this.options.uploaderEvent&&this.options.uploaderEvent.onFailed&&this.options.uploaderEvent.onFailed(n,l)}).catch(l=>{const{state:{tr:c},view:d}=this.editor;d.dispatch(c.setMeta(j,{type:"remove",id:t})),this.options.uploaderEvent&&this.options.uploaderEvent.onError&&this.options.uploaderEvent.onError(n,l)}),!0}}},addProseMirrorPlugins(){const n=this.editor;return[new R({key:Be,state:{init:()=>re.empty,apply:(e,t)=>{const i=e.getMeta(j);return t=t.map(e.mapping,e.doc),i&&i.type==="add"?t=t.add(e.doc,[Pn(i)]):i&&i.type==="remove"&&(t=t.remove(t.find(void 0,void 0,o=>o.id==i.id))),t}},props:{decorations(e){return this.getState(e)},handleDOMEvents:{drop(e,t){if(!(t.dataTransfer&&t.dataTransfer.files&&t.dataTransfer.files.length))return!1;const o=Array.from(t.dataTransfer.files).filter(r=>!/video/i.test(r.type)&&!/image/i.test(r.type));return t.preventDefault(),o.forEach(r=>{n.commands.uploadAttachment(r)}),!0}}}})]}}),_n=A.create({name:"painter",addCommands(){return{setPainter:n=>({view:{dispatch:e,state:{tr:t},dom:i}})=>(i.style.cursor="context-menu",e(t.setMeta("painterAction",{type:"start",marks:n})),!0)}},addProseMirrorPlugins(){return[new R({key:new P("aie-painter"),state:{init:()=>[],apply:(n,e)=>{const t=n.getMeta("painterAction");return t&&t.type==="start"?e=t.marks:t&&t.type==="end"&&(e=[]),e}},props:{handleDOMEvents:{mousedown(n,e){const t=this.getState(n.state);if(!t||t.length==0)return!1;const i=()=>{document.removeEventListener("mouseup",i);let{dispatch:o,state:{tr:r,selection:s},dom:a}=n;a.style.cursor="",r=r.removeMark(s.from,s.to);for(let l of t)l.type.name!="link"&&(r=r.addMark(s.from,s.to,l));o(r.setMeta("painterAction",{type:"end"}))};return document.addEventListener("mouseup",i),!0}}}})]}}),Fn=A.create({name:"fontSize",addOptions(){return{types:["textStyle"]}},addGlobalAttributes(){return[{types:this.options.types,attributes:{fontSize:{default:null,parseHTML:n=>n.style.fontSize?.replace(/['"]+/g,""),renderHTML:n=>n.fontSize?{style:`font-size: ${n.fontSize}`}:{}}}}]},addCommands(){return{setFontSize:n=>({chain:e})=>e().setMark("textStyle",{fontSize:n}).run(),unsetFontSize:()=>({chain:n})=>n().setMark("textStyle",{fontSize:null}).removeEmptyTextStyle().run()}}}),Un=A.create({name:"lineHeight",addOptions(){return{types:["heading","paragraph"],defaultHeight:"100%"}},addGlobalAttributes(){return[{types:this.options.types,attributes:{lineHeight:{default:this.options.defaultHeight,parseHTML:n=>n.style.lineHeight||this.options.defaultHeight,renderHTML:n=>n.lineHeight===this.options.defaultHeight?{}:{style:`line-height: ${n.lineHeight}`}}}}]},addCommands(){return{setLineHeight:n=>({commands:e})=>this.options.types.every(t=>e.updateAttributes(t,{lineHeight:n})),unsetLineHeight:()=>({commands:n})=>this.options.types.every(e=>n.resetAttributes(e,"lineHeight"))}}}),jn=A.create({name:"indent",addOptions(){return{types:["listItem","paragraph"],minLevel:0,maxLevel:8}},addGlobalAttributes(){return[{types:this.options.types,attributes:{indent:{default:0,parseHTML:n=>{let e=Number(n.getAttribute("data-indent"));if(e)return e>this.options.maxLevel?e=this.options.maxLevel:e<this.options.minLevel&&(e=this.options.minLevel),e;{const t=n.style.textIndent;let i=0;return t&&t.endsWith("pt")?i=Number(t.substring(0,t.indexOf("pt")))*(96/72)/16:t&&t.endsWith("em")?i=Number(t.substring(0,t.indexOf("em"))):t&&t.endsWith("px")&&(i=Number(t.substring(0,t.indexOf("px")))/16),i>0&&(e=Math.round(i/2)),e?(e>this.options.maxLevel?e=this.options.maxLevel:e<this.options.minLevel&&(e=this.options.minLevel),e):0}},renderHTML:n=>n.indent?{style:`text-indent: ${n?.indent*2}em`,"data-indent":n?.indent}:{}}}}]},addCommands(){const n=(i,o,r)=>{const s=i?.doc?.nodeAt(o);if(s){const a=(s.attrs.indent||0)+r,{minLevel:l,maxLevel:c}=this.options,d=a<l?l:a>c?c:a;if(d!==s.attrs.indent){const{indent:p,...m}=s.attrs,g=d>l?{...m,indent:d}:m;return i.setNodeMarkup(o,s.type,g,s.marks)}}return i},e=(i,o)=>{const{doc:r,selection:s}=i;if(r&&s&&(s instanceof B||s instanceof Xt)){const{from:a,to:l}=s;r.nodesBetween(a,l,(c,d)=>this.options.types.includes(c.type.name)?(i=n(i,d,o),!1):!0)}return i},t=i=>()=>({tr:o,state:r,dispatch:s})=>{const{selection:a}=r;return o=o.setSelection(a),o=e(o,i),o.docChanged?(s?.(o),!0):!1};return{indent:t(1),outdent:t(-1)}},addKeyboardShortcuts(){return{Tab:()=>this.editor.isActive("listItem")||this.editor.isActive("orderedList")?!1:this.editor.commands.indent(),"Shift-Tab":()=>this.editor.isActive("listItem")||this.editor.isActive("orderedList")?!1:this.editor.commands.outdent()}}}),ot=(n,e,t,i)=>{const o=document.body,r=t.querySelector(".resize-obj"),s=10;let a,l,c,d;const p=w=>{w.preventDefault(),o.addEventListener("mousemove",m),o.addEventListener("mouseup",g),o.addEventListener("mouseleave",g),a=w.clientX,l=Number(r.getAttribute("data-with"))||r.clientWidth,c=w.target.getAttribute("data-position"),d=o.clientWidth-100},m=w=>{const f=w.clientX-a;if(f==0)return;const C=c==="right"?f>0:f<0;let x=l+Math.abs(f)*(C?1:-1);x>=d&&(x=d),x<s&&(x=s),r.style.width=`${x}px`,r.setAttribute("data-width",x.toString()),r.parentElement.removeAttribute("style")},g=()=>{o.removeEventListener("mousemove",m),o.removeEventListener("mouseup",g),o.removeEventListener("mouseleave",g);const w=n.state.selection;n.state.doc.descendants((C,x)=>{e===C&&n.commands.setNodeSelection(x)});const f={width:Number(r.getAttribute("data-width"))};i(f),w&&n.commands.setTextSelection(w)};for(let w of t.querySelector(".aie-resize").children)w.addEventListener("mousedown",p)},Kn=n=>typeof n=="number"||!isNaN(+n)?`${n}px`:n,ze=new P("aie-image-plugin"),K="image_action",Wn=ft.extend({name:"image",draggable:!0,selectable:!0,addOptions(){return{...this.parent?.(),uploadUrl:"",uploadHeaders:{},uploader:void 0,defaultSize:350}},allowGapCursor(){return!this.options.inline},addAttributes(){return{src:{default:"",parseHTML:n=>`${n.getAttribute("src")??""}`},alt:{default:"",parseHTML:n=>`${n.getAttribute("alt")??""}`,renderHTML:({alt:n})=>n?{alt:n}:{}},title:{default:"",parseHTML:n=>`${n.getAttribute("title")??""}`,renderHTML:({title:n})=>n?{title:n}:{}},width:{default:this.options.defaultSize,parseHTML:n=>`${n.getAttribute("width")??""}`,renderHTML:({width:n})=>n?{width:n}:{}},height:{default:"auto",parseHTML:n=>`${n.getAttribute("height")??""}`,renderHTML:({height:n})=>n?{height:n}:{}},align:{default:"left",parseHTML:n=>n.getAttribute("data-align")||n.getAttribute("align"),renderHTML:({align:n})=>n?{"data-align":n}:{}},href:{default:null,parseHTML:n=>{if(n.parentElement?.tagName==="A")return n.parentElement.getAttribute("href")}},target:{default:null,parseHTML:n=>{if(n.parentElement?.tagName==="A")return n.parentElement.getAttribute("target")}},"data-src":{default:null,parseHTML:n=>`${n.getAttribute("data-src")??""}`,renderHTML:n=>n["data-src"]?{"data-src":n["data-src"]}:{}},loading:{default:null,parseHTML:n=>`${n.getAttribute("loading")??""}`,renderHTML:({loading:n})=>n?{loading:n}:{}}}},parseHTML(){return[{tag:this.options.allowBase64?"img[src]":'img[src]:not([src^="data:"])'}]},renderHTML({HTMLAttributes:n}){const e=oe(this.options.HTMLAttributes,n);return e.href?["div",{style:`text-align:${e["data-align"]||"left"}`},["a",{href:e.href,target:e.target},["img",{...e,href:null,target:null}]]]:(e.target=null,["div",{style:`text-align:${e["data-align"]||"left"}`},["img",e]])},addCommands(){return{...this.parent?.(),uploadImage:n=>()=>{const e=typeof this.options.uploadHeaders=="object"?this.options.uploadHeaders:typeof this.options.uploadHeaders=="function"?this.options.uploadHeaders():{};if(this.options.uploaderEvent&&this.options.uploaderEvent.onUploadBefore&&this.options.uploaderEvent.onUploadBefore(n,this.options.uploadUrl,e)===!1)return!1;setTimeout(()=>{this.editor.commands.deleteSelection()});const t=ae(),{state:{tr:i},view:o,schema:r}=this.editor;o.dispatch(i.setMeta(K,{type:"add",id:t,pos:i.selection.from}));const s=this.options.uploader||we(this.options.uploadUrl),a=this.options.uploadFormName||"image";return s(n,this.options.uploadUrl,e,a).then(l=>{if(this.options.uploaderEvent?.onSuccess){const c=this.options.uploaderEvent.onSuccess(n,l);if(typeof c=="boolean"&&!c)return;typeof c=="object"&&(l=c)}if(l.errorCode===0&&l.data&&l.data.src){let d=ze.getState(this.editor.state).find(void 0,void 0,g=>g.id==t),p=d[0].from;this.editor.state.doc.resolve(d[0].from).nodeBefore||(p-=1),o.dispatch(o.state.tr.insert(p,r.nodes.image.create({src:l.data.src,alt:l.data.alt,align:l.data.align||"left",width:l.data.width||this.options.defaultSize,height:l.data.height||"auto","data-src":l.data["data-src"],loading:l.data.loading,class:l.data.class})).setMeta(K,{type:"remove",id:t}))}else o.dispatch(i.setMeta(K,{type:"remove",id:t})),this.options.uploaderEvent&&this.options.uploaderEvent.onFailed&&this.options.uploaderEvent.onFailed(n,l)}).catch(l=>{const{state:{tr:c},view:d}=this.editor;d.dispatch(c.setMeta(K,{type:"remove",id:t})),this.options.uploaderEvent&&this.options.uploaderEvent.onError&&this.options.uploaderEvent.onError(n,l)}),!0}}},addNodeView(){return n=>{const e=document.createElement("div"),{src:t,width:i,height:o,align:r,alt:s}=n.node.attrs,a=Kn(i||this.options.defaultSize),l=a.indexOf("%")>0?`style="width: ${a};"`:"",c=a.indexOf("%")>0?"calc(100% - 2px)":a;return e.classList.add(`align-${r}`),this.editor.isEditable?(e.innerHTML=`
                <div class="aie-resize-wrapper" ${l}>
                    <div class="aie-resize">
                        <div class="aie-resize-btn-top-left" data-position="left" draggable="true"></div>
                        <div class="aie-resize-btn-top-right" data-position="right" draggable="true"></div>
                        <div class="aie-resize-btn-bottom-left" data-position="left" draggable="true"></div>
                        <div class="aie-resize-btn-bottom-right" data-position="right" draggable="true"></div>
                    </div>
                    <img alt="${s}" src="${t||n.node.attrs["data-src"]}" style="width: ${c}; height: ${o||"auto"}" class="align-${r} resize-obj">
                </div>
                `,ot(this.editor,n.node,e,d=>this.editor.chain().updateAttributes("image",d).run()),{dom:e}):(e.innerHTML=`<div class="aie-resize-wrapper" ${l}>
<img alt="${s}" src="${t||n.node.attrs["data-src"]}" style="width: ${c}; height: ${o||"auto"}" class="align-${r} resize-obj">
</div>`,{dom:e})}},addProseMirrorPlugins(){const n=this.editor;return[new R({key:ze,state:{init:()=>re.empty,apply:(e,t)=>{const i=e.getMeta(K);if(i){let o=!1;const r=t.map(e.mapping,e.doc,{onRemove:s=>{o=!0}});o||(t=r),i.type==="add"?t=t.add(e.doc,[nt(i)]):i.type==="remove"&&(t=t.remove(t.find(void 0,void 0,s=>s.id==i.id)))}return t}},props:{decorations(e){return this.getState(e)},handlePaste:(e,t)=>{const i=Array.from(t.clipboardData?.items||[]);let o=!1;for(const r of i)if(r.type.indexOf("image")===0){const s=r.getAsFile();s&&(t.preventDefault(),o=!0,this.editor.commands.uploadImage(s))}return o},handleDOMEvents:{drop(e,t){if(!(t.dataTransfer&&t.dataTransfer.files&&t.dataTransfer.files.length))return!1;const o=Array.from(t.dataTransfer.files).filter(c=>/image/i.test(c.type));if(o.length===0)return!1;t.preventDefault();const{state:{tr:r,doc:s},dispatch:a}=e,l=e.posAtCoords({left:t.clientX,top:t.clientY});return a(r.setSelection(B.create(s,l.pos)).scrollIntoView()),o.forEach(c=>{n.commands.uploadImage(c)}),!0}},transformPastedHTML(e){const o=new DOMParser().parseFromString(e,"text/html").querySelector("body");if(o?.children){const r=o.querySelectorAll("p > img");for(const s of r){const a=s.parentNode,l=Array.prototype.indexOf.call(o.children,a);o.insertBefore(s,o.children[l])}return o.innerHTML}return e}}})]}}),Jn=vt.extend({addAttributes(){return{...this.parent?.(),backgroundColor:{default:null,parseHTML:n=>n.style.backgroundColor||null,renderHTML:n=>n.backgroundColor?{style:`background-color: ${n.backgroundColor}`}:{}},color:{default:null,parseHTML:n=>n.style.color||null,renderHTML:n=>n.color?{style:`color: ${n.color}`}:{}},width:{default:null,parseHTML:n=>n.style.width||null,renderHTML:n=>n.width?{style:`width: ${n.width}`}:{}}}}}),Gn=Ct.extend({addAttributes(){return{...this.parent?.(),backgroundColor:{default:null,parseHTML:n=>n.style.backgroundColor||null,renderHTML:n=>n.backgroundColor?{style:`background-color: ${n.backgroundColor}`}:{}},color:{default:null,parseHTML:n=>n.style.color||null,renderHTML:n=>n.color?{style:`color: ${n.color}`}:{}},width:{default:null,parseHTML:n=>n.style.width||null,renderHTML:n=>n.width?{style:`width: ${n.width}`}:{}}}}});function $e(n,e,t={}){const{empty:i,ranges:o,from:r,to:s}=n.selection,a=e?wt(e,n.schema):null;if(i)return!!(n.storedMarks||n.selection.$from.marks()).filter(f=>a?a.name===f.type.name:!0).find(f=>Ve(f.attrs,t,{strict:!1}));let l=r,c=s;const d=[];o.forEach(({$from:f,$to:C})=>{const x=f.pos,h=C.pos;l=Math.min(l,x),c=Math.max(l,h),n.doc.nodesBetween(x,h,(v,H)=>{if(!v.isText&&!v.marks.length)return;const k=Math.max(x,H),M=Math.min(h,H+v.nodeSize);d.push(...v.marks.map(V=>({mark:V,from:k,to:M})))})});const p=c-l;if(p===0)return!1;const m=d.filter(f=>a?a.name===f.mark.type.name:!0).filter(f=>Ve(f.mark.attrs,t,{strict:!1})).reduce((f,C)=>f+C.to-C.from,0),g=d.filter(f=>a?f.mark.type!==a&&f.mark.type.excludes(a):!0).reduce((f,C)=>f+C.to-C.from,0);return(m>0?m+g:m)>=p}function De(n){return!!n.spec.group?.split(" ").includes("list")}function me(n,e,t={}){if(!e)return Se(n,null,t)||$e(n,null,t);const i=n.schema.nodes[e];if(i){if(De(i)){const r=yt(s=>De(s.type))(n.selection);return!!(r&&r.node.type.name===e)}return Se(n,e,t)}return n.schema.marks[e]?$e(n,e,t):!1}function Ne(n){return new bt({find:n.find,handler:({state:e,range:t,match:i,commands:o})=>{const r=e.doc.resolve(t.from),s=Ht(n.getAttributes,void 0,i)||{};if(!r.node(-1).canReplaceWith(r.index(-1),r.indexAfter(-1),n.type))return null;e.tr.delete(t.from,t.to).setBlockType(t.from,t.from,n.type,s),setTimeout(()=>o.focus(!0),0)}})}const Xn=n=>{let e="";return n.descendants(t=>{t.text&&(e+=t.text)}),e};class ge{constructor(e,t){u(this,"editor");u(this,"from");u(this,"options");this.editor=e,this.from=e.view.state.selection.from,this.options=t||{markdownParseEnable:!0}}onStart(){}onStop(){}onMessage(e){const{state:{tr:t},view:i}=this.editor;if(i.dispatch(t.insertText(e.content)),e.status==2&&this.options.markdownParseEnable){const o=this.editor.state.selection.to,r=this.editor.state.doc.textBetween(this.from,o),{state:{tr:s},view:a}=this.editor,l=this.editor.parseMarkdown(r);if(this.options.useMarkdownTextOnly){const c=Xn(l),d=this.editor.schema.text(c);a.dispatch(s.replaceWith(this.from,o,d).scrollIntoView())}else a.dispatch(s.replaceWith(this.from,o,l).scrollIntoView())}this.editor.commands.scrollIntoView()}}const rt=[{name:"Auto",value:"auto"},{name:"Plain Text",value:"plaintext",alias:["text","txt"]},{name:"Bash",value:"bash",alias:["sh"]},{name:"BASIC",value:"basic",alias:[]},{name:"C",value:"c",alias:["h"]},{name:"Clojure",value:"clojure",alias:["clj","edn"]},{name:"CMake",value:"cmake",alias:["cmake.in"]},{name:"CoffeeScript",value:"coffeescript",alias:["coffee","cson","iced"]},{name:"C++",value:"cpp",alias:["cc","c++","h++","hpp","hh","hxx","cxx"]},{name:"C#",value:"csharp",alias:["cs","c#"]},{name:"CSS",value:"css",alias:[]},{name:"Dart",value:"dart",alias:[]},{name:"Delphi",value:"delphi",alias:["dpr","dfm","pas","pascal"]},{name:"Dockerfile",value:"dockerfile",alias:["docker"]},{name:"Erlang",value:"erlang",alias:["erl"]},{name:"Go",value:"go",alias:["golang"]},{name:"GraphQL",value:"graphql",alias:["gql"]},{name:"Groovy",value:"groovy",alias:[]},{name:"Java",value:"java",alias:["jsp"]},{name:"JavaScript",value:"javascript",alias:["js","jsx","mjs","cjs"]},{name:"JSON",value:"json",alias:[]},{name:"Kotlin",value:"kotlin",alias:["kt","kts"]},{name:"Lua",value:"lua",alias:[]},{name:"Makefile",value:"makefile",alias:["mk","mak","make"]},{name:"Markdown",value:"markdown",alias:["md","mkdown","mkd"]},{name:"Matlab",value:"matlab",alias:[]},{name:"Objective-C",value:"objectivec",alias:["mm","objc","obj-c","obj-c++","objective-c++"]},{name:"PHP",value:"php",alias:[]},{name:"Properties",value:"properties",alias:[]},{name:"Python",value:"python",alias:["py","gyp","ipython"]},{name:"Ruby",value:"ruby",alias:["rb","gemspec","podspec","thor","irb"]},{name:"Rust",value:"rust",alias:["rs"]},{name:"Scala",value:"scala",alias:[]},{name:"SCSS",value:"scss",alias:[]},{name:"Shell",value:"shell",alias:["console","shellsession"]},{name:"SQL",value:"sql",alias:[]},{name:"Swift",value:"swift",alias:[]},{name:"TypeScript",value:"typescript",alias:["ts","tsx"]},{name:"WebAssembly",value:"wasm",alias:[]},{name:"HTML, XML",value:"xml",alias:["html","xhtml","rss","atom","xjb","xsd","xsl","plist","wsf","svg"]},{name:"YAML",value:"yaml",alias:["yml"]}],Pe=n=>{if(!n)return null;const e=n.toLocaleLowerCase();return rt.find(i=>i.value===e||i.alias&&i.alias.includes(e))};function Re(n,e){const{$from:t,from:i,to:o}=n,a=(e.textContent||"").split(`
`).reduce((g,w,f)=>(g[f]=(g[f-1]||0)+w.length+(f===0?0:1),g),{}),l=t.parentOffset,c=t.parentOffset+o-i,d=Object.keys(a),p=d.find(g=>a[g]>=l),m=d.find(g=>a[g]>=c);return{start:p,end:m}}const Yn=/^[`Â·]{3}([a-z]+)?[\s\n]$/,Qn=/^[~ï½]{3}([a-z]+)?[\s\n]$/,eo=xt.extend({addOptions(){return{...this.parent?.(),lowlight:{},defaultLanguage:null,languages:[]}},addCommands(){return{...this.parent?.(),addCodeComments:(n,e)=>({editor:t})=>{const{view:{dispatch:i},state:{tr:o}}=t;return i(o.setSelection(Yt.create(t.state.doc,e)).deleteSelection()),z.get(this.options.codeCommentsAi.model).chat(n.textContent,this.options.codeCommentsAi.prompt,new ge(t,{markdownParseEnable:!0,useMarkdownTextOnly:!0})),!0},addCodeExplain:(n,e)=>({editor:t})=>{const{view:{dispatch:i},state:{tr:o}}=t,r=t.state.doc.nodeSize;return r<=e+n.nodeSize+2?(t.commands.insertContentAt(e+n.nodeSize+1,"<p></p>"),i(o.setSelection(B.create(t.state.doc,r-2)))):i(o.setSelection(B.create(t.state.doc,e+n.nodeSize+1))),z.get(this.options.codeExplainAi.model)?.chat(n.textContent,this.options.codeExplainAi.prompt,new ge(t)),!0},toggleCodeBlock:n=>({commands:e,editor:t,chain:i})=>{const{state:o}=t,{from:r,to:s}=o.selection;if(!me(o,this.name)&&!o.selection.empty){let a=!0;const l=[];if(o.doc.nodesBetween(r,s,(c,d)=>{if(c.isInline)return!1;if(c.type.name!=="paragraph")return d+1<=r&&d+c.nodeSize-1>=s?void 0:(a=!1,!1);{const p=(c.textContent||"").slice(d+1>r?0:r-d-1,d+c.nodeSize-1<s?c.nodeSize-1:s-d-1);l.push(p||"")}}),a&&l.length>1)return i().command(({state:c,tr:d})=>(d.replaceRangeWith(r,s,this.type.create(n,c.schema.text(l.join(`
`)))),!0)).setTextSelection({from:r+2,to:r+2}).run()}return e.toggleNode(this.name,"paragraph",n)}}},addKeyboardShortcuts(){return{...this.parent?.(),Tab:({editor:n})=>{const{state:e,view:t}=n;if(!me(e,this.name))return!1;const{selection:i,tr:o}=e,r="  ";if(i.empty)t.dispatch(o.insertText(r));else{const{$from:s,from:a,to:l}=i,c=s.node();if(c.type!==this.type)return!1;const{start:d,end:p}=Re(i,c);if(d===void 0||p===void 0)return t.dispatch(o.replaceSelectionWith(e.schema.text(r))),!0;const w=(c.textContent||"").split(`
`).map((x,h)=>h>=d&&h<=p&&x?r+x:x),f=s.node(1),C=s.start(1);o.replaceWith(C,C+f.nodeSize-2,e.schema.text(w.join(`
`))),o.setSelection(B.between(o.doc.resolve(a+r.length),o.doc.resolve(l+(p-d+1)*r.length))),t.dispatch(o)}return!0},"Shift-Tab":({editor:n})=>{const{state:e,view:t}=n;if(!me(e,this.name))return!1;const{selection:i,tr:o}=e,{$from:r,from:s,to:a}=i,l=r.node();if(l.type!==this.type)return!1;const{start:c,end:d}=Re(i,l);if(c===void 0||d===void 0)return!1;const m=(l.textContent||"").split(`
`);let g=s,w=a;const f=m.map((h,v)=>{if(v>=c&&v<=d&&h)for(let H=0;H<2;H++)h.startsWith(" ")&&(h=h.slice(1),v==c&&g--,w--);return h}),C=r.node(1),x=r.start(1);return o.replaceWith(x,x+C.nodeSize-2,e.schema.text(f.join(`
`))),o.setSelection(B.between(o.doc.resolve(g),o.doc.resolve(w))),t.dispatch(o),!0}}},addInputRules(){return[Ne({find:Yn,type:this.type,getAttributes:n=>({language:Pe(n[1])?.value||this.options.defaultLanguage})}),Ne({find:Qn,type:this.type,getAttributes:n=>({language:Pe(n[1])?.value||this.options.defaultLanguage})})]},addNodeView(){return n=>{const e=document.createElement("div");e.classList.add("aie-codeblock-wrapper");const{language:t}=n.node.attrs;if(!this.editor.isEditable)return e.innerHTML=`
                <div class="aie-codeblock-tools" contenteditable="false">
                    <div class="aie-codeblock-tools-lang" contenteditable="false" style="margin-right: 10px">${t||this.options.defaultLanguage}</div>
                </div>
                <pre class="hljs"><code></code></pre>
                `,{dom:e,contentDOM:e.querySelector("code")};e.innerHTML=`
                <div class="aie-codeblock-tools" contenteditable="false">
                    ${this.options.codeCommentsAi?'<div class="aie-codeblock-tools-comments">'+y("codeblock-ai-auto-comment")+"</div>":""}
                    ${this.options.codeExplainAi?'<div class="aie-codeblock-tools-explain">'+y("codeblock-ai-code-explain")+"</div>":""}
                    <div class="aie-codeblock-tools-lang" contenteditable="false"><span>${t||this.options.defaultLanguage}</span><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 16L6 10H18L12 16Z"></path></svg></div>
                </div>
                <pre class="hljs"><code></code></pre>
                `;const i=()=>{const r=document.createElement("div");return r.classList.add("aie-codeblock-langs"),r.innerHTML=`
                ${this.options.languages?.map(s=>`<div class="aie-codeblock-langs-item" data-item="${s.value}">${s.name}</div>`).join("")}`,r.addEventListener("click",s=>{const a=s.target.closest(".aie-codeblock-langs-item");if(a){const l=a.getAttribute("data-item");n.editor.chain().setCodeBlock({language:l}).run()}}),r},o=S(e.querySelector(".aie-codeblock-tools-lang"),{content:i(),appendTo:n.editor.options.element,placement:"bottom-end",trigger:"click",interactive:!0,arrow:!1,aria:{content:null,expanded:!1}});return e.querySelector(".aie-codeblock-tools-comments")?.addEventListener("click",r=>{const s=n.editor.view.posAtCoords({left:r.clientX,top:r.clientY}),a=n.editor.state.doc.resolve(s.pos).parent;n.editor.chain().addCodeComments(a,s.pos)}),e.querySelector(".aie-codeblock-tools-explain")?.addEventListener("click",r=>{const s=n.editor.view.posAtCoords({left:r.clientX,top:r.clientY}),a=n.editor.state.doc.resolve(s.pos).parent;n.editor.chain().addCodeExplain(a,s.pos)}),{dom:e,contentDOM:e.querySelector("code"),destroy:()=>{o.destroy()}}}}}),to=/!\[(.+|:?)]\((\S+)(?:(?:\s+)["'](\S+)["'])?\)/,qe=new P("aie-video-plugin"),W="video_action",io=ee.create({name:"video",group:"block",addAttributes(){return{src:{default:null,parseHTML:n=>{const e=n.getAttribute("src");if(e)return e;const t=n.querySelector("source");return t?t.getAttribute("src"):null},renderHTML:n=>({src:n.src})},poster:{default:null,parseHTML:n=>n.getAttribute("poster"),renderHTML:n=>({poster:n.poster})},width:{default:350,parseHTML:n=>`${n.getAttribute("width")??""}`},controls:{default:!0,parseHTML:n=>`${n.getAttribute("controls")??"true"}`},autoplay:{default:null,parseHTML:n=>n.hasAttribute("autoplay")?"true":null,renderHTML:n=>n.autoplay?{autoplay:"autoplay"}:{}},loop:{default:null,parseHTML:n=>n.hasAttribute("loop")?"true":null,renderHTML:n=>n.loop?{loop:"loop"}:{}},muted:{default:null,parseHTML:n=>n.hasAttribute("muted")?"true":null,renderHTML:n=>n.muted?{muted:"muted"}:{}},preload:{default:null,parseHTML:n=>n.getAttribute("preload"),renderHTML:n=>n.preload?{preload:n.preload}:{}}}},parseHTML(){return[{tag:"video",getAttrs:n=>({src:n.getAttribute("src"),poster:n.getAttribute("poster")})}]},renderHTML({HTMLAttributes:n}){return["video",{controls:"true",...n,src:null},["source",{src:n.src}]]},addCommands(){return{setVideo:n=>({commands:e})=>e.insertContent(`<video controls="true" style="width: 100%" src="${n}" />`),toggleVideo:()=>({commands:n})=>n.toggleNode(this.name,"paragraph"),uploadVideo:n=>()=>{const e=typeof this.options.uploadHeaders=="object"?this.options.uploadHeaders:typeof this.options.uploadHeaders=="function"?this.options.uploadHeaders():{};if(this.options.uploaderEvent&&this.options.uploaderEvent.onUploadBefore&&this.options.uploaderEvent.onUploadBefore(n,this.options.uploadUrl,e)===!1)return!1;const t=ae(),{state:{tr:i},view:o,schema:r}=this.editor;i.selection.empty||i.deleteSelection(),o.dispatch(i.setMeta(W,{type:"add",id:t,pos:i.selection.from}));const s=this.options.uploader||we(this.options.uploadUrl),a=this.options.uploadFormName||"video";return s(n,this.options.uploadUrl,e,a).then(l=>{if(this.options.uploaderEvent?.onSuccess){const c=this.options.uploaderEvent.onSuccess(n,l);if(typeof c=="boolean"&&!c)return;typeof c=="object"&&(l=c)}if(l.errorCode===0&&l.data&&l.data.src){let d=qe.getState(this.editor.state).find(void 0,void 0,g=>g.id==t),p=d[0].from;this.editor.state.doc.resolve(d[0].from).nodeBefore||(p-=1),o.dispatch(o.state.tr.insert(p,r.nodes.video.create({src:l.data.src,poster:l.data.poster,width:l.data.width||350,controls:l.data.controls||"true",autoplay:l.data.autoplay,loop:l.data.loop,muted:l.data.muted,preload:l.data.preload})).setMeta(W,{type:"remove",id:t}))}else o.dispatch(i.setMeta(W,{type:"remove",id:t})),this.options.uploaderEvent&&this.options.uploaderEvent.onFailed&&this.options.uploaderEvent.onFailed(n,l)}).catch(l=>{const{state:{tr:c},view:d}=this.editor;d.dispatch(c.setMeta(W,{type:"remove",id:t})),this.options.uploaderEvent&&this.options.uploaderEvent.onError&&this.options.uploaderEvent.onError(n,l)}),!0}}},addNodeView(){return n=>{const{src:e,width:t,align:i,controls:o,poster:r,autoplay:s,loop:a,muted:l,preload:c}=n.node.attrs;if(!this.editor.isEditable){const m=document.createElement("video");m.setAttribute("width",t),m.classList.add(`align-${i}`);const g=document.createElement("source");return g.setAttribute("src",e),o!=="false"&&m.setAttribute("controls","controls"),r&&m.setAttribute("poster",r),s&&m.setAttribute("autoplay","autoplay"),a&&m.setAttribute("loop","loop"),l&&(m.setAttribute("muted","muted"),m.muted=!0),c&&m.setAttribute("preload",c),m.appendChild(g),{dom:m}}const d=['class="resize-obj"',o!=="false"?'controls="controls"':"",t?`width="${t}"`:"",r?`poster="${r}"`:"",s?'autoplay="autoplay"':"",a?'loop="loop"':"",l?'muted="muted"':"",c?`preload="${c}"`:""].filter(Boolean).join(" "),p=document.createElement("div");return p.classList.add(`align-${i}`),p.innerHTML=`
                  <div class="aie-resize-wrapper">
                      <div class="aie-resize">
                          <div class="aie-resize-btn-top-left" data-position="left" draggable="true"></div>
                          <div class="aie-resize-btn-top-right" data-position="right" draggable="true"></div>
                          <div class="aie-resize-btn-bottom-left" data-position="left" draggable="true"></div>
                          <div class="aie-resize-btn-bottom-right" data-position="right" draggable="true"></div>
                      </div>
                      <video ${d}>
                          <source src="${e}">
                      </video>
                  </div>
                `,ot(this.editor,n.node,p,m=>this.editor.commands.updateAttributes("video",m)),{dom:p}}},addInputRules(){return[Lt({find:to,type:this.type,getAttributes:n=>{const[,,e]=n;return{src:e}}})]},addProseMirrorPlugins(){const n=this.editor;return[new R({key:qe,state:{init:()=>re.empty,apply:(e,t)=>{const i=e.getMeta(W);return t=t.map(e.mapping,e.doc),i&&i.type==="add"?t=t.add(e.doc,[nt(i)]):i&&i.type==="remove"&&(t=t.remove(t.find(void 0,void 0,o=>o.id==i.id))),t}},props:{decorations(e){return this.getState(e)},handleDOMEvents:{drop(e,t){if(!(t.dataTransfer&&t.dataTransfer.files&&t.dataTransfer.files.length))return!1;const o=Array.from(t.dataTransfer.files).filter(c=>/video/i.test(c.type));if(o.length===0)return!1;t.preventDefault();const{state:{tr:r,doc:s},dispatch:a}=e,l=e.posAtCoords({left:t.clientX,top:t.clientY});return a(r.setSelection(B.create(s,l.pos)).scrollIntoView()),o.forEach(c=>{n.commands.uploadVideo(c)}),!0}}}})]}}),no=ee.create({name:"iframe",group:"block",atom:!0,addOptions(){return{allowFullscreen:!0,HTMLAttributes:{class:"iframe-wrapper"}}},addAttributes(){return{src:{default:null},width:{default:"100%"},frameborder:{default:0},allowfullscreen:{default:this.options.allowFullscreen,parseHTML:()=>this.options.allowFullscreen}}},parseHTML(){return[{tag:"iframe"}]},renderHTML({HTMLAttributes:n}){return["div",this.options.HTMLAttributes,["iframe",n]]},addCommands(){return{setIframe:n=>({tr:e,dispatch:t})=>{const{selection:i}=e,o=this.type.create(n);return t&&e.replaceRangeWith(i.from,i.to,o),!0}}}});class oo{constructor({editor:e,element:t,view:i,tippyOptions:o={},updateDelay:r=250,updateAtMouseUp:s=!1,shouldShow:a}){u(this,"editor");u(this,"element");u(this,"view");u(this,"preventHide",!1);u(this,"tippy");u(this,"tippyOptions");u(this,"updateDelay");u(this,"updateDebounceTimer");u(this,"updateInMouseUp",!1);u(this,"shouldShow",({view:e,state:t,from:i,to:o})=>{const{doc:r,selection:s}=t,{empty:a}=s,l=!r.textBetween(i,o).length&&kt(t.selection),c=this.element.contains(document.activeElement);return!(!(e.hasFocus()||c)||a||l||!this.editor.isEditable)});u(this,"mousedownHandler",()=>{this.preventHide=!0});u(this,"mouseupHandler",()=>{setTimeout(()=>{const{view:e}=this.editor,{state:t}=e,i=t.selection.from!==t.selection.to;if(this.updateDelay>0&&i){this.handleDebouncedUpdate(e);return}this.updateHandler(e,!0,!0)})});u(this,"dragstartHandler",()=>{this.hide()});u(this,"focusHandler",()=>{setTimeout(()=>this.update(this.editor.view))});u(this,"blurHandler",({event:e})=>{if(this.preventHide){this.preventHide=!1;return}e?.relatedTarget&&this.element.parentNode?.contains(e.relatedTarget)||this.hide()});u(this,"tippyBlurHandler",e=>{this.blurHandler({event:e})});u(this,"handleDebouncedUpdate",(e,t)=>{const i=!t?.selection.eq(e.state.selection),o=!t?.doc.eq(e.state.doc);!i&&!o||(this.updateDebounceTimer&&clearTimeout(this.updateDebounceTimer),this.updateDebounceTimer=window.setTimeout(()=>{this.updateHandler(e,i,o,t)},this.updateDelay))});u(this,"updateHandler",(e,t,i,o)=>{const{state:r,composing:s}=e,{selection:a}=r;if(s||!t&&!i)return;this.createTooltip();const{ranges:c}=a,d=Math.min(...c.map(g=>g.$from.pos)),p=Math.max(...c.map(g=>g.$to.pos));if(!this.shouldShow?.({editor:this.editor,view:e,state:r,oldState:o,from:d,to:p})){this.hide();return}this.tippy?.setProps({getReferenceClientRect:this.tippyOptions?.getReferenceClientRect||(()=>{if(Mt(r.selection)){let g=e.nodeDOM(d);const w=g.dataset.nodeViewWrapper?g:g.querySelector("[data-node-view-wrapper]");if(w&&(g=w.firstChild),g)return g.getBoundingClientRect()}return Q(e,d,p)})}),this.show()});this.editor=e,this.element=t,this.view=i,this.updateDelay=r,this.updateInMouseUp=s,a&&(this.shouldShow=a),this.element.addEventListener("mousedown",this.mousedownHandler,{capture:!0}),this.updateInMouseUp&&this.view.dom.addEventListener("mouseup",this.mouseupHandler),this.view.dom.addEventListener("dragstart",this.dragstartHandler),this.editor.on("focus",this.focusHandler),this.editor.on("blur",this.blurHandler),this.tippyOptions=o,this.element.remove(),this.element.style.visibility="visible"}createTooltip(){const{element:e}=this.editor.options,t=!!e.parentElement;this.tippy||!t||(this.tippy=S(e,{duration:0,getReferenceClientRect:null,content:this.element,interactive:!0,trigger:"manual",placement:"top",hideOnClick:"toggle",...this.tippyOptions}),this.tippy.popper.firstChild&&this.tippy.popper.firstChild.addEventListener("blur",this.tippyBlurHandler))}update(e,t){const{state:i}=e;if(this.updateInMouseUp){if(i.selection.empty){this.hide();return}const{from:a,to:l,head:c}=i.selection,d=a==1&&l==i.doc.content.size-1,p=c==1,m=c==i.doc.content.size-1;if(!d&&!p&&!m){const g=!t?.selection.eq(e.state.selection);this.tippy?.state.isVisible&&g&&this.hide();return}}const o=i.selection.from!==i.selection.to;if(this.updateDelay>0&&o){this.handleDebouncedUpdate(e,t);return}const r=!t?.selection.eq(e.state.selection),s=!t?.doc.eq(e.state.doc);this.updateHandler(e,r,s,t)}show(){this.tippy?.show()}hide(){this.tippy?.hide()}destroy(){this.tippy?.popper.firstChild&&this.tippy.popper.firstChild.removeEventListener("blur",this.tippyBlurHandler),this.tippy?.destroy(),this.element.removeEventListener("mousedown",this.mousedownHandler,{capture:!0}),this.updateInMouseUp&&this.view.dom.removeEventListener("mouseup",this.mouseupHandler),this.view.dom.removeEventListener("dragstart",this.dragstartHandler),this.editor.off("focus",this.focusHandler),this.editor.off("blur",this.blurHandler)}}const ro=n=>new R({key:typeof n.pluginKey=="string"?new P(n.pluginKey):n.pluginKey,view:e=>new oo({view:e,...n})});class le extends HTMLElement{constructor(){super();u(this,"editor");u(this,"items",[]);u(this,"tippyInstance");u(this,"activeOnClick",!0)}isActive(t){return t.isActive?t.isActive(this.editor.aiEditor):this.editor?.isActive(t.id)}refreshActive(){for(let t of this.items){const i=this.querySelector(`#${t.id}`);i&&(this.isActive(t)?i.classList.add("active"):i.classList.remove("active"))}}connectedCallback(){this.innerHTML=`
            <div class="aie-bubble-menu">
               ${this.items.map(t=>`<div class="aie-bubble-menu-item ${this.isActive(t)?"active":""}" id="${t.id}">${t.icon}</div>`).join("")}
            </div>
        `;for(let t of this.items)t.holder=t.onInit?.(this.editor.aiEditor,this.tippyInstance,this);this.querySelector("div").addEventListener("click",t=>{this.items.forEach(i=>{const o=t.target.closest(`#${i.id}`);o&&(this.onItemClick(i),this.activeOnClick&&(o.classList.contains("active")?o.classList.remove("active"):o.classList.add("active")))})}),this.querySelectorAll(".aie-bubble-menu-item").forEach((t,i)=>{const o=this.items[i].title;o&&(this.editor?.options).toolbarTipEnable!==!1&&S(t,{appendTo:this.closest(".aie-container"),content:y(o),theme:"aietip",arrow:!0})})}set instance(t){this.tippyInstance=t}initItemsByOptions(t,i){if(i&&i.length>0)for(let o of i){const r=typeof o=="string"?t.getItem(o):o;r&&this.items.push(r)}else this.items=t.getAllItem()}onCreate(t,i){this.editor=t.editor}onItemClick(t){t.onClick?.(this.editor.aiEditor,this.tippyInstance,this,t.holder)}onTransaction(t){}onEditableChange(t){}}const so={id:"edit",title:"edit-link",icon:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M6.41421 15.89L16.5563 5.74786L15.1421 4.33365L5 14.4758V15.89H6.41421ZM7.24264 17.89H3V13.6474L14.435 2.21233C14.8256 1.8218 15.4587 1.8218 15.8492 2.21233L18.6777 5.04075C19.0682 5.43128 19.0682 6.06444 18.6777 6.45497L7.24264 17.89ZM3 19.89H21V21.89H3V19.89Z"></path></svg>',onInit:(n,e,t)=>{const i=new te;i.setContent(`
            <div style="width: 250px">${y("link-address")} </div>
             <div style="width: 250px">
             <input type="text" id="href" style="width: 250px">
            </div>
            
            <div style="margin-top: 10px">${y("link-open-type")}</div>
            <div>
            <select id="target" style="width: 250px">
                <option value="">${y("default")}</option>
                <option value="_blank">${y("link-open-blank")}</option>
            </select>
            </div>
        `),i.onConfirmClick(o=>{const r=o.popper.querySelector("#href").value;if(r.trim()===""){n.innerEditor.chain().focus().extendMarkRange("link").unsetLink().run();return}let s=o.popper.querySelector("#target").value;s.trim()===""&&(s=null),n.innerEditor.chain().focus().extendMarkRange("link").setLink({href:r,target:s,rel:null}).run()}),i.onShow(o=>{const r=n.innerEditor.getAttributes("link");r&&r.href&&(o.popper.querySelector("#href").value=r.href),r&&r.target&&(o.popper.querySelector("#target").value=r.target)}),i.setTrigger(t.querySelector("#edit"),"right")}},ao={id:"unlink",title:"unlink",icon:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 17H22V19H19V22H17V17ZM7 7H2V5H5V2H7V7ZM18.364 15.5355L16.9497 14.1213L18.364 12.7071C20.3166 10.7545 20.3166 7.58866 18.364 5.63604C16.4113 3.68342 13.2455 3.68342 11.2929 5.63604L9.87868 7.05025L8.46447 5.63604L9.87868 4.22183C12.6123 1.48816 17.0445 1.48816 19.7782 4.22183C22.5118 6.9555 22.5118 11.3877 19.7782 14.1213L18.364 15.5355ZM15.5355 18.364L14.1213 19.7782C11.3877 22.5118 6.9555 22.5118 4.22183 19.7782C1.48816 17.0445 1.48816 12.6123 4.22183 9.87868L5.63604 8.46447L7.05025 9.87868L5.63604 11.2929C3.68342 13.2455 3.68342 16.4113 5.63604 18.364C7.58866 20.3166 10.7545 20.3166 12.7071 18.364L14.1213 16.9497L15.5355 18.364ZM14.8284 7.75736L16.2426 9.17157L9.17157 16.2426L7.75736 14.8284L14.8284 7.75736Z"></path></svg>',onClick:n=>{n.innerEditor.chain().focus().unsetLink().run()}},lo={id:"visit",title:"visit-link",icon:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M10 6V8H5V19H16V14H18V20C18 20.5523 17.5523 21 17 21H4C3.44772 21 3 20.5523 3 20V7C3 6.44772 3.44772 6 4 6H10ZM21 3V11H19L18.9999 6.413L11.2071 14.2071L9.79289 12.7929L17.5849 5H13V3H21Z"></path></svg>',onClick:n=>{window.open(n.innerEditor.getAttributes("link").href,"_blank")}};class ye{constructor(e){u(this,"record",{});for(let t of e)this.push(t)}push(e){this.record[e.id.toLowerCase()]=e}getItem(e){return this.record[e.toLowerCase()]}getAllItem(){return Object.values(this.record)}}const co=new ye([so,ao,lo]);class uo extends le{constructor(){super()}onCreate(e,t){super.onCreate(e,t),this.initItemsByOptions(co,t?.link?.bubbleMenuItems),this.activeOnClick=!1}}const ho={id:"AlignLeft",title:"align-left",icon:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 4H21V6H3V4ZM3 19H17V21H3V19ZM3 14H21V16H3V14ZM3 9H17V11H3V9Z"></path></svg>',onClick:n=>{const e=n.innerEditor.getAttributes("image");e.align="left",n.innerEditor.chain().setImage(e).run()}},po={id:"AlignCenter",title:"align-center",icon:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 4H21V6H3V4ZM5 19H19V21H5V19ZM3 14H21V16H3V14ZM5 9H19V11H5V9Z"></path></svg>',onClick:({innerEditor:n})=>{const e=n.getAttributes("image");e.align="center",n.chain().setImage(e).run()}},mo={id:"AlignRight",title:"align-right",icon:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 4H21V6H3V4ZM7 19H21V21H7V19ZM3 14H21V16H3V14ZM7 9H21V11H7V9Z"></path></svg>',onClick:({innerEditor:n})=>{const e=n.getAttributes("image");e.align="right",n.chain().setImage(e).run()}},go={id:"delete",title:"delete",icon:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M7 4V2H17V4H22V6H20V21C20 21.5523 19.5523 22 19 22H5C4.44772 22 4 21.5523 4 21V6H2V4H7ZM6 6V20H18V6H6ZM9 9H11V17H9V9ZM13 9H15V17H13V9Z"></path></svg>',onClick:({innerEditor:n})=>{n.commands.deleteSelection()}},fo={id:"imageLink",title:"link",icon:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17.6572 14.8282L16.2429 13.414L17.6572 11.9998C19.2193 10.4377 19.2193 7.90506 17.6572 6.34296C16.0951 4.78086 13.5624 4.78086 12.0003 6.34296L10.5861 7.75717L9.17188 6.34296L10.5861 4.92875C12.9292 2.5856 16.7282 2.5856 19.0714 4.92875C21.4145 7.27189 21.4145 11.0709 19.0714 13.414L17.6572 14.8282ZM14.8287 17.6567L13.4145 19.0709C11.0714 21.414 7.27238 21.414 4.92923 19.0709C2.58609 16.7277 2.58609 12.9287 4.92923 10.5856L6.34345 9.17139L7.75766 10.5856L6.34345 11.9998C4.78135 13.5619 4.78135 16.0946 6.34345 17.6567C7.90555 19.2188 10.4382 19.2188 12.0003 17.6567L13.4145 16.2425L14.8287 17.6567ZM14.8287 7.75717L16.2429 9.17139L9.17188 16.2425L7.75766 14.8282L14.8287 7.75717Z"></path></svg>',isActive:n=>{const e=n?.getAttributes("image");return!!(e&&e.href)},onInit:({innerEditor:n},e,t)=>{const i=new te;i.setContent(`
            <div style="width: 250px">${y("link-address")}</div>
             <div style="width: 250px">
             <input type="text" id="href" style="width: 250px">
            </div>
            
            <div style="margin-top: 10px">${y("link-open-type")}</div>
            <div>
            <select id="target" style="width: 250px">
               <option value="">${y("default")}</option>
               <option value="_blank">${y("link-open-blank")}</option>
            </select>
            </div>
        `),i.cancelText=`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 17H22V19H19V22H17V17ZM7 7H2V5H5V2H7V7ZM18.364 15.5355L16.9497 14.1213L18.364 12.7071C20.3166 10.7545 20.3166 7.58866 18.364 5.63604C16.4113 3.68342 13.2455 3.68342 11.2929 5.63604L9.87868 7.05025L8.46447 5.63604L9.87868 4.22183C12.6123 1.48816 17.0445 1.48816 19.7782 4.22183C22.5118 6.9555 22.5118 11.3877 19.7782 14.1213L18.364 15.5355ZM15.5355 18.364L14.1213 19.7782C11.3877 22.5118 6.9555 22.5118 4.22183 19.7782C1.48816 17.0445 1.48816 12.6123 4.22183 9.87868L5.63604 8.46447L7.05025 9.87868L5.63604 11.2929C3.68342 13.2455 3.68342 16.4113 5.63604 18.364C7.58866 20.3166 10.7545 20.3166 12.7071 18.364L14.1213 16.9497L15.5355 18.364ZM14.8284 7.75736L16.2426 9.17157L9.17157 16.2426L7.75736 14.8284L14.8284 7.75736Z"></path></svg>
${y("unlink")}`,i.onCancelClick(()=>{n.chain().updateAttributes("image",{href:null,target:null}).run()}),i.onConfirmClick(o=>{const r=o.popper.querySelector("#href").value;if(r.trim()===""){n.chain().updateAttributes("image",{href:null}).run();return}let s=o.popper.querySelector("#target").value;s.trim()===""&&(s=null),n.chain().updateAttributes("image",{href:r,target:s}).run()}),i.onShow(o=>{const r=n?.getAttributes("image");r&&r.href?o.popper.querySelector("#href").value=r.href:o.popper.querySelector("#href").value="",r&&r.target?o.popper.querySelector("#target").value=r.target:o.popper.querySelector("#target").value=""}),i.setTrigger(t.querySelector("#imageLink"),"bottom")}},vo={id:"imageProperty",title:"image-property",icon:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M20 3C20.5523 3 21 3.44772 21 4V5.757L19 7.757V5H5V13.1L9 9.1005L13.328 13.429L11.9132 14.8422L9 11.9289L5 15.928V19H15.533L16.2414 19.0012L17.57 17.671L18.8995 19H19V16.242L21 14.242V20C21 20.5523 20.5523 21 20 21H4C3.45 21 3 20.55 3 20V4C3 3.44772 3.44772 3 4 3H20ZM21.7782 7.80761L23.1924 9.22183L15.4142 17L13.9979 16.9979L14 15.5858L21.7782 7.80761ZM15.5 7C16.3284 7 17 7.67157 17 8.5C17 9.32843 16.3284 10 15.5 10C14.6716 10 14 9.32843 14 8.5C14 7.67157 14.6716 7 15.5 7Z"></path></svg>',onInit:({innerEditor:n},e,t)=>{const i=new te;i.setContent(`
            <div style="width: 250px">Alt</div>
            <div style="width: 250px">
             <input type="text" id="alt" style="width: 250px">
            </div>
            
            <div style="width: 250px;margin-top: 10px">Title</div>
            <div style="width: 250px">
             <input type="text" id="title" style="width: 250px">
            </div>
            
            <div style="margin-top: 10px">${y("image-size")}</div>
            <div>
            <select id="width" style="width: 250px">
               <option value="">${y("image-keep-current")}</option>
               <option value="auto">${y("image-original-size")}</option>
               <option value="30%">30%</option>
               <option value="50%">50%</option>
               <option value="75%">75%</option>
               <option value="100%">100%</option>
            </select>
            </div>
        `),i.onConfirmClick(o=>{const r=o.popper.querySelector("#alt").value,s=o.popper.querySelector("#title").value;n.chain().updateAttributes("image",{alt:r,title:s}).run();let a=o.popper.querySelector("#width").value;a&&n.chain().updateAttributes("image",{width:a}).run()}),i.onShow(o=>{const r=n?.getAttributes("image");r&&(o.popper.querySelector("#alt").value=r.alt||"",o.popper.querySelector("#title").value=r.title||"")}),i.setTrigger(t.querySelector("#imageProperty"),"bottom")}},Co=new ye([ho,po,mo,fo,vo,go]);class wo extends le{constructor(){super()}onCreate(e,t){super.onCreate(e,t),this.initItemsByOptions(Co,t?.image?.bubbleMenuItems),this.activeOnClick=!1}onTransaction(e){e.editor.isActive("image")&&this.refreshActive()}}const Y=class Y{constructor(){u(this,"historyColors",[]);u(this,"editor");u(this,"onClose");const e=localStorage.getItem(Y.historyColorsKey);e&&(this.historyColors=JSON.parse(e))}static getLastUsedColor(){const e=localStorage.getItem(this.historyColorsKey);if(e){const t=JSON.parse(e);return t.length>0?t[0]:null}return null}createColorPicker(){const e=document.createElement("div");return e.style.height="278px",e.style.width="250px",e.classList.add("aie-dropdown-container"),e.innerHTML=`
        <div class="color-panel">
            <div class="color-panel-default-button" id="defaultColor" style=â€œcursor:pointer;â€>${y("default")}</div>
            <div style="display: flex;flex-wrap: wrap;padding-top: 5px">
                ${Ke.map((t,i)=>`<div class="color-item" data-color="#${t}" style="width: 18px;height:18px;margin:1px;padding:1px;border:1px solid #${i==0?"efefef":t};background: #${t}"></div>`).join(" ")}
            </div>
            <div class="color-panel-title">${y("standardColors")}</div>
            <div style="display: flex;flex-wrap: wrap;">
                ${We.map(t=>`<div class="color-item" data-color="#${t}" style="width: 18px;height:18px;margin:1px;padding:1px;border:1px solid #${t};background: #${t}"></div>`).join(" ")}
            </div>
            <div class="color-panel-title">${y("historyColors")}</div>
            <div style="display: flex;flex-wrap: wrap;" id="history-colors">
               ${this.historyColors.map(t=>`<div class="history-color-item" data-color="${t}" style="width: 22px;height: 23px;margin: 1px;background: ${t}"></div>`).join(" ")}
            </div>
        </div>
        `,e.querySelector("#defaultColor").addEventListener("click",()=>{this.handleDefaultColor()}),e.querySelectorAll(".color-item").forEach(t=>{t.addEventListener("click",()=>{const i=t.getAttribute("data-color");this.handleColorSelect(i)}),t.addEventListener("mouseover",()=>{t.style.border="solid 1px #999"}),t.addEventListener("mouseout",()=>{let i=t.getAttribute("data-color");i==="#ffffff"&&(i="#efefef"),t.style.border=`solid 1px ${i}`})}),e.querySelector("#history-colors").addEventListener("click",t=>{const i=t.target.closest(".history-color-item");if(i){const o=i.getAttribute("data-color");this.handleColorSelect(o)}}),e}handleColorSelect(e){this.editor&&(this.editor.chain().setCellAttribute("backgroundColor",e).run(),this.onClose&&this.onClose(e),this.updateHistoryColors(e))}handleDefaultColor(){this.editor&&(this.editor.chain().setCellAttribute("backgroundColor","").run(),this.onClose&&this.onClose())}updateHistoryColors(e){this.historyColors=[e,...this.historyColors.filter(t=>t!==e)].slice(0,7),localStorage.setItem(Y.historyColorsKey,JSON.stringify(this.historyColors))}};u(Y,"historyColorsKey","cellBackgroundHistoryColors");let X=Y;class yo extends le{constructor(){super(),this.items=[{id:"insert-column-left",title:"insert-column-left",icon:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0z"></path><path d="M20 3C20.5523 3 21 3.44772 21 4V20C21 20.5523 20.5523 21 20 21H14C13.4477 21 13 20.5523 13 20V4C13 3.44772 13.4477 3 14 3H20ZM19 5H15V19H19V5ZM6 7C8.76142 7 11 9.23858 11 12C11 14.7614 8.76142 17 6 17C3.23858 17 1 14.7614 1 12C1 9.23858 3.23858 7 6 7ZM7 9H5V10.999L3 11V13L5 12.999V15H7V12.999L9 13V11L7 10.999V9Z"></path></svg>',onClick:({innerEditor:e})=>{e?.chain().focus().addColumnBefore().run()}},{id:"insert-column-right",title:"insert-column-right",icon:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0z"></path><path d="M10 3C10.5523 3 11 3.44772 11 4V20C11 20.5523 10.5523 21 10 21H4C3.44772 21 3 20.5523 3 20V4C3 3.44772 3.44772 3 4 3H10ZM9 5H5V19H9V5ZM18 7C20.7614 7 23 9.23858 23 12C23 14.7614 20.7614 17 18 17C15.2386 17 13 14.7614 13 12C13 9.23858 15.2386 7 18 7ZM19 9H17V10.999L15 11V13L17 12.999V15H19V12.999L21 13V11L19 10.999V9Z"></path></svg>',onClick:({innerEditor:e})=>{e?.chain().focus().addColumnAfter().run()}},{id:"insert-row-top",title:"insert-row-top",icon:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0z"></path><path d="M20 13C20.5523 13 21 13.4477 21 14V20C21 20.5523 20.5523 21 20 21H4C3.44772 21 3 20.5523 3 20V14C3 13.4477 3.44772 13 4 13H20ZM19 15H5V19H19V15ZM12 1C14.7614 1 17 3.23858 17 6C17 8.76142 14.7614 11 12 11C9.23858 11 7 8.76142 7 6C7 3.23858 9.23858 1 12 1ZM13 3H11V4.999L9 5V7L11 6.999V9H13V6.999L15 7V5L13 4.999V3Z"></path></svg>',onClick:({innerEditor:e})=>{e?.chain().focus().addRowBefore().run()}},{id:"insert-row-bottom",title:"insert-row-bottom",icon:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0z"></path><path d="M12 13C14.7614 13 17 15.2386 17 18C17 20.7614 14.7614 23 12 23C9.23858 23 7 20.7614 7 18C7 15.2386 9.23858 13 12 13ZM13 15H11V16.999L9 17V19L11 18.999V21H13V18.999L15 19V17L13 16.999V15ZM20 3C20.5523 3 21 3.44772 21 4V10C21 10.5523 20.5523 11 20 11H4C3.44772 11 3 10.5523 3 10V4C3 3.44772 3.44772 3 4 3H20ZM5 5V9H19V5H5Z"></path></svg>',onClick:({innerEditor:e})=>{e?.chain().focus().addRowAfter().run()}},{id:"delete-column",title:"delete-column",icon:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0z"></path><path d="M12 3C12.5523 3 13 3.44772 13 4L12.9998 11.9998C13.8355 11.372 14.8743 11 16 11C18.7614 11 21 13.2386 21 16C21 18.7614 18.7614 21 16 21C14.9681 21 14.0092 20.6874 13.2129 20.1518L13 20C13 20.5523 12.5523 21 12 21H6C5.44772 21 5 20.5523 5 20V4C5 3.44772 5.44772 3 6 3H12ZM11 5H7V19H11V5ZM19 15H13V17H19V15Z"></path></svg>',onClick:({innerEditor:e})=>{e?.chain().focus().deleteColumn().run()}},{id:"delete-row",title:"delete-row",icon:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0z"></path><path d="M20 5C20.5523 5 21 5.44772 21 6V12C21 12.5523 20.5523 13 20 13C20.628 13.8355 21 14.8743 21 16C21 18.7614 18.7614 21 16 21C13.2386 21 11 18.7614 11 16C11 14.8743 11.372 13.8355 11.9998 12.9998L4 13C3.44772 13 3 12.5523 3 12V6C3 5.44772 3.44772 5 4 5H20ZM13 15V17H19V15H13ZM19 7H5V11H19V7Z"></path></svg>',onClick:({innerEditor:e})=>{e?.chain().focus().deleteRow().run()}},{id:"merge-cells-horizontal",title:"merge-cells-horizontal",icon:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0z"></path><path d="M20 3C20.5523 3 21 3.44772 21 4V20C21 20.5523 20.5523 21 20 21H4C3.44772 21 3 20.5523 3 20V4C3 3.44772 3.44772 3 4 3H20ZM11 5H5V10.999H7V9L10 12L7 15V13H5V19H11V17H13V19H19V13H17V15L14 12L17 9V10.999H19V5H13V7H11V5ZM13 13V15H11V13H13ZM13 9V11H11V9H13Z"></path></svg>',onClick:({innerEditor:e})=>{e?.chain().focus().mergeCells().run()}},{id:"merge-cells-vertical",title:"merge-cells-vertical",icon:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0z"></path><path d="M21 20C21 20.5523 20.5523 21 20 21H4C3.44772 21 3 20.5523 3 20V4C3 3.44772 3.44772 3 4 3H20C20.5523 3 21 3.44772 21 4V20ZM19 11V5H13.001V7H15L12 10L9 7H11V5H5V11H7V13H5V19H11V17H9L12 14L15 17H13.001V19H19V13H17V11H19ZM11 13H9V11H11V13ZM15 13H13V11H15V13Z"></path></svg>',onClick:({innerEditor:e})=>{e?.chain().focus().mergeCells().run()}},{id:"split-cells-horizontal",title:"split-cells-horizontal",icon:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0z"></path><path d="M20 3C20.5523 3 21 3.44772 21 4V20C21 20.5523 20.5523 21 20 21H4C3.44772 21 3 20.5523 3 20V4C3 3.44772 3.44772 3 4 3H20ZM11 5H5V19H11V15H13V19H19V5H13V9H11V5ZM15 9L18 12L15 15V13H9V15L6 12L9 9V11H15V9Z"></path></svg>',onClick:({innerEditor:e})=>{e?.chain().focus().splitCell().run()}},{id:"split-cells-vertical",title:"split-cells-vertical",icon:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0z"></path><path d="M20 3C20.5523 3 21 3.44772 21 4V20C21 20.5523 20.5523 21 20 21H4C3.44772 21 3 20.5523 3 20V4C3 3.44772 3.44772 3 4 3H20ZM19 5H5V10.999L9 11V13H5V19H19V13H15V11L19 10.999V5ZM12 6L15 9H13V15H15L12 18L9 15H11V9H9L12 6Z"></path></svg>',onClick:({innerEditor:e})=>{e?.chain().focus().splitCell().run()}},{id:"delete",title:"delete-table",icon:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M7 4V2H17V4H22V6H20V21C20 21.5523 19.5523 22 19 22H5C4.44772 22 4 21.5523 4 21V6H2V4H7ZM6 6V20H18V6H6ZM9 9H11V17H9V9ZM13 9H15V17H13V9Z"></path></svg>',onClick:({innerEditor:e})=>{e?.chain().focus().deleteTable().run()}},{id:"cell-background-color",title:"highlight",icon:`
                    <div class="table-bubble-menu colors-menu">
                        <div class="currentColor">
                            <div class="colors-menu-icon">
                                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M15.2427 4.51138L8.50547 11.2486L7.79836 13.3699L6.7574 14.4109L9.58583 17.2393L10.6268 16.1983L12.7481 15.4912L19.4853 8.75402L15.2427 4.51138ZM21.6066 8.04692C21.9972 8.43744 21.9972 9.0706 21.6066 9.46113L13.8285 17.2393L11.7071 17.9464L10.2929 19.3606C9.90241 19.7511 9.26925 19.7511 8.87872 19.3606L4.63608 15.118C4.24556 14.7275 4.24556 14.0943 4.63608 13.7038L6.0503 12.2896L6.7574 10.1682L14.5356 2.39006C14.9261 1.99954 15.5593 1.99954 15.9498 2.39006L21.6066 8.04692ZM15.2427 7.33981L16.6569 8.75402L11.7071 13.7038L10.2929 12.2896L15.2427 7.33981ZM4.28253 16.8858L7.11096 19.7142L5.69674 21.1284L1.4541 19.7142L4.28253 16.8858Z"></path></svg>
                            </div>
                            <style>
                            </style>
                            <div class="colors-menu-status" id="cellBgColorStatus"></div>
                        </div>
                        <div id="dropdown">
                            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0z"></path><path d="M12 14L8 10H16L12 14Z"></path></svg>
                        </div>
                    </div>
                `.trim(),onInit:(e,t,i)=>{const o=X.getLastUsedColor()||"",r=i.querySelector("#cellBgColorStatus");r&&(r.style.backgroundColor=o)},onClick:({innerEditor:e},t,i,o)=>{const s=window.event.target,a=i.querySelector("#cell-background-color"),l=s.closest("#dropdown"),c=s.closest(".colors-menu-icon");if(l){const d=new X;d.editor=e;const p=d.createColorPicker(),m=S(a,{content:p,placement:"bottom",trigger:"manual",arrow:!1,interactive:!0,appendTo:e.aiEditor.container,onHide(){setTimeout(()=>{m.destroy()},0)}});d.onClose=g=>{m.hide();const w=i.querySelector("#cellBgColorStatus");w&&(w.style.backgroundColor=g||"")},m.show()}else if(c){const d=X.getLastUsedColor();e?.chain().setCellAttribute("backgroundColor",d).run()}}}]}onCreate(e,t){super.onCreate(e,t),this.activeOnClick=!1}connectedCallback(){super.connectedCallback(),this.checkSelectionAndShow(this.editor)}onTransaction(e){this.checkSelectionAndShow(e.editor)}checkSelectionAndShow(e){const{state:{selection:t},view:i}=e;let o=["insert-column-left","insert-column-right","delete-column","insert-row-top","insert-row-bottom","delete-row","cell-background-color"];if(t instanceof ve)if(t.isRowSelection()&&(o=o.filter(r=>r!=="delete-column")),t.isColSelection()&&(o=o.filter(r=>r!=="delete-row")),this.isAllTableSelected(t))o.push("delete"),this.showItems(o);else{let r=!1;this.isColumnSelected(t,i)&&t.ranges.length>=2&&(o.push("merge-cells-vertical"),r=!0);let s=!1;if(this.isRowSelected(t,i)&&t.ranges.length>=2&&(o.push("merge-cells-horizontal"),s=!0),!r&&!s&&t.ranges.length>=2&&o.push("merge-cells-horizontal"),e.can().splitCell()){const a=i.nodeDOM(t.$anchorCell.pos),l=a.getAttribute("colspan"),c=a.getAttribute("rowspan");l&&Number(l)>1?o.push("split-cells-horizontal"):c&&Number(c)>1&&o.push("split-cells-vertical")}this.showItems(o)}else this.showItems(o)}showItems(e){this.querySelectorAll(".aie-bubble-menu-item").forEach(t=>{t.style.display="none"}),e.forEach(t=>{const i=this.querySelector(`#${t}`);i&&(i.style.display="")})}isAllTableSelected(e){const t=Qt.get(e.$anchorCell.node(-1)),i=t.cellsInRect({top:0,left:0,right:t.width,bottom:t.height});return e.ranges.length==i.length}isOneCellSelected(e){return e.ranges.length==1}isColumnSelected(e,t){let i=-1;for(let o of e.ranges)if(i==-1)i=t.coordsAtPos(o.$from.pos).left;else if(i!=t.coordsAtPos(o.$from.pos).left)return!1;return!0}isRowSelected(e,t){let i=-1;for(let o of e.ranges)if(i==-1)i=t.coordsAtPos(o.$from.pos).bottom;else if(i!=t.coordsAtPos(o.$from.pos).bottom)return!1;return!0}}const ie={refresh:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M5.46257 4.43262C7.21556 2.91688 9.5007 2 12 2C17.5228 2 22 6.47715 22 12C22 14.1361 21.3302 16.1158 20.1892 17.7406L17 12H20C20 7.58172 16.4183 4 12 4C9.84982 4 7.89777 4.84827 6.46023 6.22842L5.46257 4.43262ZM18.5374 19.5674C16.7844 21.0831 14.4993 22 12 22C6.47715 22 2 17.5228 2 12C2 9.86386 2.66979 7.88416 3.8108 6.25944L7 12H4C4 16.4183 7.58172 20 12 20C14.1502 20 16.1022 19.1517 17.5398 17.7716L18.5374 19.5674Z" fill="currentColor"></path></svg>',aiPanelStart:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M16.1716 10.9999L10.8076 5.63589L12.2218 4.22168L20 11.9999L12.2218 19.778L10.8076 18.3638L16.1716 12.9999H4V10.9999H16.1716Z"></path></svg>',aiPanelStop:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M6 7V17C6 17.5523 6.44772 18 7 18H17C17.5523 18 18 17.5523 18 17V7C18 6.44772 17.5523 6 17 6H7C6.44772 6 6 6.44772 6 7Z"></path></svg>'};class st{constructor(e,t){u(this,"delay");u(this,"appending",!1);u(this,"isFinished",!1);u(this,"textarea");u(this,"textQueue",[]);this.delay=e,this.textarea=t}appendText(e){this.textQueue.push(e),this.processQueue()}finished(){this.isFinished=!0}processQueue(){if(this.appending||this.textQueue.length===0)return;if(this.isFinished){this.textarea.value+=this.textQueue.join(""),this.textarea.style.height=`${this.textarea.scrollHeight}px`,this.textarea.scrollTop=this.textarea.scrollHeight;return}const e=this.textQueue.shift();this.appending=!0;let t=0;const i=setInterval(()=>{t<e.length?(this.textarea.value+=e[t],this.textarea.style.height=`${this.textarea.scrollHeight}px`,this.textarea.scrollTop=this.textarea.scrollHeight,t++):(clearInterval(i),this.appending=!1,this.processQueue())},this.delay)}}const at=n=>{const{view:e,state:t}=n,{head:i,from:o,to:r}=t.selection;if(o==1&&r==t.doc.content.size-1){const s=Q(e,o,r),l=e.dom.closest(".aie-container").getBoundingClientRect(),c=s.bottom>l.bottom?l.bottom:s.bottom;let d=s.height>l.height?l.height/2:s.height;const p=s.top<l.top?l.top:s.top;let m=s.left;if(s.width==0){const g=e.dom.getBoundingClientRect();m=g.left+g.right/2,d-=50}return{...s,top:p,left:m,height:d,bottom:c}}else{const s=Q(e,i,i);return{...s,height:s.height-10}}},bo=[{prompt:`<content>{content}</content>
è¯·å¸®æˆ‘ä¼˜åŒ–ä¸€ä¸‹è¿™æ®µå†…å®¹ï¼Œå¹¶ç›´æ¥è¿”å›ä¼˜åŒ–åçš„ç»“æœã€‚
æ³¨æ„ï¼šä½ åº”è¯¥å…ˆåˆ¤æ–­ä¸€ä¸‹è¿™å¥è¯æ˜¯ä¸­æ–‡è¿˜æ˜¯è‹±æ–‡ï¼Œå¦‚æœæ˜¯ä¸­æ–‡ï¼Œè¯·ç»™æˆ‘è¿”å›ä¸­æ–‡çš„å†…å®¹ï¼Œå¦‚æœæ˜¯è‹±æ–‡ï¼Œè¯·ç»™æˆ‘è¿”å›è‹±æ–‡å†…å®¹ï¼Œåªéœ€è¦è¿”å›å†…å®¹å³å¯ï¼Œä¸éœ€è¦å‘ŠçŸ¥æˆ‘æ˜¯ä¸­æ–‡è¿˜æ˜¯è‹±æ–‡ã€‚`,icon:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M15.1986 9.94447C14.7649 9.5337 14.4859 8.98613 14.4085 8.39384L14.0056 5.31138L11.275 6.79724C10.7503 7.08274 10.1433 7.17888 9.55608 7.06948L6.49998 6.50015L7.06931 9.55625C7.17871 10.1435 7.08257 10.7505 6.79707 11.2751L5.31121 14.0057L8.39367 14.4086C8.98596 14.4861 9.53353 14.7651 9.94431 15.1987L12.0821 17.4557L13.4178 14.6486C13.6745 14.1092 14.109 13.6747 14.6484 13.418L17.4555 12.0823L15.1986 9.94447ZM15.2238 15.5079L13.0111 20.1581C12.8687 20.4573 12.5107 20.5844 12.2115 20.442C12.1448 20.4103 12.0845 20.3665 12.0337 20.3129L8.49229 16.5741C8.39749 16.474 8.27113 16.4096 8.13445 16.3918L3.02816 15.7243C2.69958 15.6814 2.46804 15.3802 2.51099 15.0516C2.52056 14.9784 2.54359 14.9075 2.5789 14.8426L5.04031 10.3192C5.1062 10.1981 5.12839 10.058 5.10314 9.92253L4.16 4.85991C4.09931 4.53414 4.3142 4.22086 4.63997 4.16017C4.7126 4.14664 4.78711 4.14664 4.85974 4.16017L9.92237 5.10331C10.0579 5.12855 10.198 5.10637 10.319 5.04048L14.8424 2.57907C15.1335 2.42068 15.4979 2.52825 15.6562 2.81931C15.6916 2.88421 15.7146 2.95507 15.7241 3.02833L16.3916 8.13462C16.4095 8.2713 16.4739 8.39766 16.5739 8.49245L20.3127 12.0338C20.5533 12.2617 20.5636 12.6415 20.3357 12.8821C20.2849 12.9357 20.2246 12.9795 20.1579 13.0112L15.5078 15.224C15.3833 15.2832 15.283 15.3835 15.2238 15.5079ZM16.0206 17.435L17.4348 16.0208L21.6775 20.2634L20.2633 21.6776L16.0206 17.435Z"></path></svg>',title:"improve-writing"},{prompt:`<content>{content}</content>
è¯·å¸®æˆ‘æ£€æŸ¥ä¸€ä¸‹è¿™æ®µå†…å®¹ï¼Œæ˜¯å¦æœ‰æ‹¼å†™é”™è¯¯æˆ–è€…è¯­æ³•ä¸Šçš„é”™è¯¯ã€‚
æ³¨æ„ï¼šä½ åº”è¯¥å…ˆåˆ¤æ–­ä¸€ä¸‹è¿™å¥è¯æ˜¯ä¸­æ–‡è¿˜æ˜¯è‹±æ–‡ï¼Œå¦‚æœæ˜¯ä¸­æ–‡ï¼Œè¯·ç»™æˆ‘è¿”å›ä¸­æ–‡çš„å†…å®¹ï¼Œå¦‚æœæ˜¯è‹±æ–‡ï¼Œè¯·ç»™æˆ‘è¿”å›è‹±æ–‡å†…å®¹ï¼Œåªéœ€è¦è¿”å›å†…å®¹å³å¯ï¼Œä¸éœ€è¦å‘ŠçŸ¥æˆ‘æ˜¯ä¸­æ–‡è¿˜æ˜¯è‹±æ–‡ã€‚`,icon:' <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M12 19C12.8284 19 13.5 19.6716 13.5 20.5C13.5 21.3284 12.8284 22 12 22C11.1716 22 10.5 21.3284 10.5 20.5C10.5 19.6716 11.1716 19 12 19ZM6.5 19C7.32843 19 8 19.6716 8 20.5C8 21.3284 7.32843 22 6.5 22C5.67157 22 5 21.3284 5 20.5C5 19.6716 5.67157 19 6.5 19ZM17.5 19C18.3284 19 19 19.6716 19 20.5C19 21.3284 18.3284 22 17.5 22C16.6716 22 16 21.3284 16 20.5C16 19.6716 16.6716 19 17.5 19ZM13 2V4H19V6L17.0322 6.0006C16.2423 8.3666 14.9984 10.5065 13.4107 12.302C14.9544 13.6737 16.7616 14.7204 18.7379 15.3443L18.2017 17.2736C15.8917 16.5557 13.787 15.3326 12.0005 13.7257C10.214 15.332 8.10914 16.5553 5.79891 17.2734L5.26257 15.3442C7.2385 14.7203 9.04543 13.6737 10.5904 12.3021C9.46307 11.0285 8.50916 9.58052 7.76789 8.00128L10.0074 8.00137C10.5706 9.03952 11.2401 10.0037 11.9998 10.8772C13.2283 9.46508 14.2205 7.81616 14.9095 6.00101L5 6V4H11V2H13Z"></path></svg>',title:"check-spelling-and-grammar"},{prompt:`<content>{content}</content>
è¿™å¥è¯çš„å†…å®¹è¾ƒé•¿ï¼Œå¸®æˆ‘ç®€åŒ–ä¸€ä¸‹è¿™ä¸ªå†…å®¹ï¼Œå¹¶ç›´æ¥è¿”å›ç®€åŒ–åçš„å†…å®¹ç»“æœã€‚
æ³¨æ„ï¼šä½ åº”è¯¥å…ˆåˆ¤æ–­ä¸€ä¸‹è¿™å¥è¯æ˜¯ä¸­æ–‡è¿˜æ˜¯è‹±æ–‡ï¼Œå¦‚æœæ˜¯ä¸­æ–‡ï¼Œè¯·ç»™æˆ‘è¿”å›ä¸­æ–‡çš„å†…å®¹ï¼Œå¦‚æœæ˜¯è‹±æ–‡ï¼Œè¯·ç»™æˆ‘è¿”å›è‹±æ–‡å†…å®¹ï¼Œåªéœ€è¦è¿”å›å†…å®¹å³å¯ï¼Œä¸éœ€è¦å‘ŠçŸ¥æˆ‘æ˜¯ä¸­æ–‡è¿˜æ˜¯è‹±æ–‡ã€‚`,icon:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M21 6.75736L19 8.75736V4H10V9H5V20H19V17.2426L21 15.2426V21.0082C21 21.556 20.5551 22 20.0066 22H3.9934C3.44476 22 3 21.5501 3 20.9932V8L9.00319 2H19.9978C20.5513 2 21 2.45531 21 2.9918V6.75736ZM21.7782 8.80761L23.1924 10.2218L15.4142 18L13.9979 17.9979L14 16.5858L21.7782 8.80761Z"></path></svg>',title:"make-shorter"},{prompt:`<content>{content}</content>
è¿™å¥è¯çš„å†…å®¹è¾ƒç®€çŸ­ï¼Œå¸®æˆ‘ç®€å•çš„ä¼˜åŒ–å’Œä¸°å¯Œä¸€ä¸‹å†…å®¹ï¼Œå¹¶ç›´æ¥è¿”å›ä¼˜åŒ–åçš„ç»“æœã€‚æ³¨æ„ï¼šä¼˜åŒ–çš„å†…å®¹ä¸èƒ½è¶…è¿‡åŸæ¥å†…å®¹çš„ 2 å€ã€‚
æ³¨æ„ï¼šä½ åº”è¯¥å…ˆåˆ¤æ–­ä¸€ä¸‹è¿™å¥è¯æ˜¯ä¸­æ–‡è¿˜æ˜¯è‹±æ–‡ï¼Œå¦‚æœæ˜¯ä¸­æ–‡ï¼Œè¯·ç»™æˆ‘è¿”å›ä¸­æ–‡çš„å†…å®¹ï¼Œå¦‚æœæ˜¯è‹±æ–‡ï¼Œè¯·ç»™æˆ‘è¿”å›è‹±æ–‡å†…å®¹ï¼Œåªéœ€è¦è¿”å›å†…å®¹å³å¯ï¼Œä¸éœ€è¦å‘ŠçŸ¥æˆ‘æ˜¯ä¸­æ–‡è¿˜æ˜¯è‹±æ–‡ã€‚`,icon:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M20 2C20.5523 2 21 2.44772 21 3V6.757L19 8.757V4H5V20H19V17.242L21 15.242V21C21 21.5523 20.5523 22 20 22H4C3.44772 22 3 21.5523 3 21V3C3 2.44772 3.44772 2 4 2H20ZM21.7782 8.80761L23.1924 10.2218L15.4142 18L13.9979 17.9979L14 16.5858L21.7782 8.80761ZM13 12V14H8V12H13ZM16 8V10H8V8H16Z"></path></svg>',title:"make-longer"},"<hr/>",{prompt:`<content>{content}</content>
è¯·å¸®æˆ‘ç¿»è¯‘ä»¥ä¸Šå†…å®¹ï¼Œåœ¨ç¿»è¯‘ä¹‹å‰ï¼Œæƒ³å…ˆåˆ¤æ–­ä¸€ä¸‹è¿™ä¸ªå†…å®¹æ˜¯ä¸æ˜¯ä¸­æ–‡ï¼Œå¦‚æœæ˜¯ä¸­æ–‡ï¼Œåˆ™ç¿»è¯‘ä¸ºè‹±æ–‡ï¼Œå¦‚æœæ˜¯å…¶ä»–è¯­è¨€ï¼Œåˆ™éœ€è¦ç¿»è¯‘ä¸ºä¸­æ–‡ï¼Œæ³¨æ„ï¼Œä½ åªéœ€è¦è¿”å›ç¿»è¯‘çš„ç»“æœï¼Œä¸éœ€è¦å¯¹æ­¤è¿›è¡Œä»»ä½•è§£é‡Šï¼Œä¸éœ€è¦é™¤äº†ç¿»è¯‘ç»“æœä»¥å¤–çš„å…¶ä»–ä»»ä½•å†…å®¹ã€‚`,icon:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M5 15V17C5 18.0544 5.81588 18.9182 6.85074 18.9945L7 19H10V21H7C4.79086 21 3 19.2091 3 17V15H5ZM18 10L22.4 21H20.245L19.044 18H14.954L13.755 21H11.601L16 10H18ZM17 12.8852L15.753 16H18.245L17 12.8852ZM8 2V4H12V11H8V14H6V11H2V4H6V2H8ZM17 3C19.2091 3 21 4.79086 21 7V9H19V7C19 5.89543 18.1046 5 17 5H14V3H17ZM6 6H4V9H6V6ZM10 6H8V9H10V6Z"></path></svg>',title:"translate"},{prompt:`<content>{content}</content>
è¯·å¸®æˆ‘æ€»ç»“ä»¥ä¸Šå†…å®¹ï¼Œå¹¶ç›´æ¥è¿”å›æ€»ç»“çš„ç»“æœ
æ³¨æ„ï¼šä½ åº”è¯¥å…ˆåˆ¤æ–­ä¸€ä¸‹è¿™å¥è¯æ˜¯ä¸­æ–‡è¿˜æ˜¯è‹±æ–‡ï¼Œå¦‚æœæ˜¯ä¸­æ–‡ï¼Œè¯·ç»™æˆ‘è¿”å›ä¸­æ–‡çš„å†…å®¹ï¼Œå¦‚æœæ˜¯è‹±æ–‡ï¼Œè¯·ç»™æˆ‘è¿”å›è‹±æ–‡å†…å®¹ï¼Œåªéœ€è¦è¿”å›å†…å®¹å³å¯ï¼Œä¸éœ€è¦å‘ŠçŸ¥æˆ‘æ˜¯ä¸­æ–‡è¿˜æ˜¯è‹±æ–‡ã€‚`,icon:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M18 3C19.6569 3 21 4.34315 21 6C21 7.65685 19.6569 9 18 9H15C13.6941 9 12.5831 8.16562 12.171 7.0009L11 7C9.9 7 9 7.9 9 9L9.0009 9.17102C10.1656 9.58312 11 10.6941 11 12C11 13.3059 10.1656 14.4169 9.0009 14.829L9 15C9 16.1 9.9 17 11 17L12.1707 17.0001C12.5825 15.8349 13.6937 15 15 15H18C19.6569 15 21 16.3431 21 18C21 19.6569 19.6569 21 18 21H15C13.6941 21 12.5831 20.1656 12.171 19.0009L11 19C8.79 19 7 17.21 7 15H5C3.34315 15 2 13.6569 2 12C2 10.3431 3.34315 9 5 9H7C7 6.79086 8.79086 5 11 5L12.1707 5.00009C12.5825 3.83485 13.6937 3 15 3H18ZM18 17H15C14.4477 17 14 17.4477 14 18C14 18.5523 14.4477 19 15 19H18C18.5523 19 19 18.5523 19 18C19 17.4477 18.5523 17 18 17ZM8 11H5C4.44772 11 4 11.4477 4 12C4 12.5523 4.44772 13 5 13H8C8.55228 13 9 12.5523 9 12C9 11.4477 8.55228 11 8 11ZM18 5H15C14.4477 5 14 5.44772 14 6C14 6.55228 14.4477 7 15 7H18C18.5523 7 19 6.55228 19 6C19 5.44772 18.5523 5 18 5Z"></path></svg>',title:"summarize"}],Oe=(n,e,t)=>{if(n.aiClient)n.aiClient.stop();else{const i=e.querySelector("textarea");i.value="";const{selection:o,doc:r}=n.editor.state,s=r.textBetween(o.from,o.to),a=n.editor.aiEditor.options,l=z.get(a.ai?.bubblePanelModel);if(l){const c=new st(30,i);l.chat(s,t,{onStart(d){n.aiClient=d,e.querySelector(".aie-ai-panel-actions").style.display="none",e.querySelector(".loader").style.display="block",e.querySelector(".aie-ai-panel-body-content").style.display="block",e.querySelector("#go").innerHTML=ie.aiPanelStop},onStop(){n.aiClient=void 0,e.querySelector("#go").innerHTML=ie.aiPanelStart,e.querySelector(".aie-ai-panel-footer").style.display="block",e.querySelector(".loader").style.display="none",e.querySelector(".aie-ai-panel-actions").style.display="none",c.finished()},onMessage(d){c.appendText(d.content)}})}}},Ho=(n,e)=>{const t=document.createElement("div");return t.classList.add("aie-ai-panel"),t.innerHTML=`
        <div class="aie-ai-panel-body">
            <div class="aie-ai-panel-body-content" style="display: none"><div class="loader">${ie.refresh}</div><textarea readonly></textarea></div>
            <div class="aie-ai-panel-body-input"><input id="prompt" placeholder="${y("placeholder-tell-ai-what-to-do-next")}" type="text" />
            <button type="button" id="go" style="width: 30px;height: 30px">${ie.aiPanelStart}</button></div>
            <div class="aie-ai-panel-body-tips"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9 17C9 17 16 18 19 21H20C20.5523 21 21 20.5523 21 20V13.937C21.8626 13.715 22.5 12.9319 22.5 12C22.5 11.0681 21.8626 10.285 21 10.063V4C21 3.44772 20.5523 3 20 3H19C16 6 9 7 9 7H5C3.89543 7 3 7.89543 3 9V15C3 16.1046 3.89543 17 5 17H6L7 22H9V17ZM11 8.6612C11.6833 8.5146 12.5275 8.31193 13.4393 8.04373C15.1175 7.55014 17.25 6.77262 19 5.57458V18.4254C17.25 17.2274 15.1175 16.4499 13.4393 15.9563C12.5275 15.6881 11.6833 15.4854 11 15.3388V8.6612ZM5 9H9V15H5V9Z" fill="currentColor"></path></svg>
            ${y("tip-you-can-enter-text-above-or-select-the-operation-below")}</div>
        </div>
        <div class="aie-ai-panel-footer" style="display: none">
        <div class="aie-ai-panel-footer-tips">${y("you-can-do-the-following")}</div>
        <p id="insert"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M2 18H12V20H2V18ZM2 11H22V13H2V11ZM2 4H22V6H2V4ZM18 18V15H20V18H23V20H20V23H18V20H15V18H18Z" fill="currentColor"></path></svg> 
        ${y("ai-append")}</p>
        <p id="replace"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M10.071 4.92902L11.4852 6.34323L6.82834 11.0001L16.0002 11.0002L16.0002 13.0002L6.82839 13.0001L11.4852 17.6569L10.071 19.0712L2.99994 12.0001L10.071 4.92902ZM18.0001 19V5.00003H20.0001V19H18.0001Z" fill="currentColor"></path></svg> 
        ${y("ai-replace")}</p>
        <hr/>
        <p id="hide"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 6H22V8H20V21C20 21.5523 19.5523 22 19 22H5C4.44772 22 4 21.5523 4 21V8H2V6H7V3C7 2.44772 7.44772 2 8 2H16C16.5523 2 17 2.44772 17 3V6ZM18 8H6V20H18V8ZM9 4V6H15V4H9Z" fill="currentColor"></path></svg> 
        ${y("ai-cancel")}</p>
        </div>
        
        <!--aie-ai-panel-actions-->
        <div class="aie-ai-panel-footer aie-ai-panel-actions" >
        <div class="aie-ai-panel-footer-tips">${y("you-can-do-the-following")}</div>
        ${e.map(i=>typeof i=="string"?i:`<p data-prompt="${i.prompt}">${i.icon} ${y(i.title)} </p>`).join("")}
        </div>
        `,t.querySelector("#replace").addEventListener("click",()=>{const i=t.querySelector("textarea");i.value&&(n.editor?.insertMarkdown(i.value),n.aiPanelInstance?.hide(),n.tippyInstance?.show())}),t.querySelector("#insert").addEventListener("click",()=>{const i=t.querySelector("textarea");if(i.value){const{state:{selection:o,doc:r}}=n.editor;n.editor?.commands.setTextSelection(B.create(r,o.to)),n.editor?.insertMarkdown(i.value),n.aiPanelInstance?.hide(),o.from!=o.to&&n.tippyInstance?.show()}}),t.querySelector("#hide").addEventListener("click",()=>{n.aiPanelInstance?.hide();const{state:{selection:i}}=n.editor;i.from!=i.to&&n.tippyInstance?.show()}),t.querySelector("#go").addEventListener("click",()=>{const i=t.querySelector("#prompt").value;Oe(n,t,i)}),t.querySelectorAll(".aie-ai-panel-actions p").forEach(i=>{const o=i.getAttribute("data-prompt");i.addEventListener("click",()=>{Oe(n,t,o)})}),t.addEventListener("click",i=>{i.target===t&&(n.aiPanelInstance?.hide(),n.tippyInstance?.show())}),t},xo={id:"ai",title:"ai",icon:`<div style="display: flex;height: 20px">
                      <div style="width: 18px;height: 18px;display: inline-block" >
                            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="rgba(100,205,138,1)"><path d="M13.5 2C13.5 2.44425 13.3069 2.84339 13 3.11805V5H18C19.6569 5 21 6.34315 21 8V18C21 19.6569 19.6569 21 18 21H6C4.34315 21 3 19.6569 3 18V8C3 6.34315 4.34315 5 6 5H11V3.11805C10.6931 2.84339 10.5 2.44425 10.5 2C10.5 1.17157 11.1716 0.5 12 0.5C12.8284 0.5 13.5 1.17157 13.5 2ZM6 7C5.44772 7 5 7.44772 5 8V18C5 18.5523 5.44772 19 6 19H18C18.5523 19 19 18.5523 19 18V8C19 7.44772 18.5523 7 18 7H13H11H6ZM2 10H0V16H2V10ZM22 10H24V16H22V10ZM9 14.5C9.82843 14.5 10.5 13.8284 10.5 13C10.5 12.1716 9.82843 11.5 9 11.5C8.17157 11.5 7.5 12.1716 7.5 13C7.5 13.8284 8.17157 14.5 9 14.5ZM15 14.5C15.8284 14.5 16.5 13.8284 16.5 13C16.5 12.1716 15.8284 11.5 15 11.5C14.1716 11.5 13.5 12.1716 13.5 13C13.5 13.8284 14.1716 14.5 15 14.5Z"></path></svg>
                      </div>
                     <div style="width: 18px;height: 18px;display: inline-block" >
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0z"></path><path d="M12 14L8 10H16L12 14Z"></path></svg>
                     </div>
                 </div>
                `,onInit:({innerEditor:n},e,t)=>{const i={editor:n,tippyInstance:e},o=n.aiEditor.options.ai?.bubblePanelMenus||bo;return i.aiPanelInstance=S(t.querySelector("#ai"),{content:Ho(i,o),appendTo:n.view.dom.closest(".aie-container"),trigger:"click",interactive:!0,arrow:!1,placement:"bottom",getReferenceClientRect:()=>at(n),onShow:r=>{window.setTimeout(()=>r.popper.querySelector("#prompt")?.focus(),0)}}),i},onClick:(n,e,t,i)=>{i.tippyInstance?.hide()}},Lo={id:"bold",title:"bold",icon:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8 11H12.5C13.8807 11 15 9.88071 15 8.5C15 7.11929 13.8807 6 12.5 6H8V11ZM18 15.5C18 17.9853 15.9853 20 13.5 20H6V4H12.5C14.9853 4 17 6.01472 17 8.5C17 9.70431 16.5269 10.7981 15.7564 11.6058C17.0979 12.3847 18 13.837 18 15.5ZM8 13V18H13.5C14.8807 18 16 16.8807 16 15.5C16 14.1193 14.8807 13 13.5 13H8Z"></path></svg>',onClick:({innerEditor:n})=>{n.chain().toggleBold().run()}},ko={id:"underline",title:"underline",icon:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8 3V12C8 14.2091 9.79086 16 12 16C14.2091 16 16 14.2091 16 12V3H18V12C18 15.3137 15.3137 18 12 18C8.68629 18 6 15.3137 6 12V3H8ZM4 20H20V22H4V20Z"></path></svg>',onClick:({innerEditor:n})=>{n.chain().toggleUnderline().run()}},Mo={id:"code",title:"code",icon:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M23 11.9998L15.9289 19.0708L14.5147 17.6566L20.1716 11.9998L14.5147 6.34292L15.9289 4.92871L23 11.9998ZM3.82843 11.9998L9.48528 17.6566L8.07107 19.0708L1 11.9998L8.07107 4.92871L9.48528 6.34292L3.82843 11.9998Z"></path></svg>',onClick:({innerEditor:n})=>{n.chain().toggleCode().run()}},Vo={id:"strike",title:"strike",icon:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17.1538 14C17.3846 14.5161 17.5 15.0893 17.5 15.7196C17.5 17.0625 16.9762 18.1116 15.9286 18.867C14.8809 19.6223 13.4335 20 11.5862 20C9.94674 20 8.32335 19.6185 6.71592 18.8555V16.6009C8.23538 17.4783 9.7908 17.917 11.3822 17.917C13.9333 17.917 15.2128 17.1846 15.2208 15.7196C15.2208 15.0939 15.0049 14.5598 14.5731 14.1173C14.5339 14.0772 14.4939 14.0381 14.4531 14H3V12H21V14H17.1538ZM13.076 11H7.62908C7.4566 10.8433 7.29616 10.6692 7.14776 10.4778C6.71592 9.92084 6.5 9.24559 6.5 8.45207C6.5 7.21602 6.96583 6.165 7.89749 5.299C8.82916 4.43299 10.2706 4 12.2219 4C13.6934 4 15.1009 4.32808 16.4444 4.98426V7.13591C15.2448 6.44921 13.9293 6.10587 12.4978 6.10587C10.0187 6.10587 8.77917 6.88793 8.77917 8.45207C8.77917 8.87172 8.99709 9.23796 9.43293 9.55079C9.86878 9.86362 10.4066 10.1135 11.0463 10.3004C11.6665 10.4816 12.3431 10.7148 13.076 11H13.076Z"></path></svg>',onClick:({innerEditor:n})=>{n.chain().toggleStrike().run()}},So={id:"italic",title:"italic",icon:' <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M15 20H7V18H9.92661L12.0425 6H9V4H17V6H14.0734L11.9575 18H15V20Z"></path></svg>',onClick:({innerEditor:n})=>{n.chain().toggleItalic().run()}},Eo=[{title:"English"},{title:"Chinese"},{title:"Japanese"},{title:"French"},{title:"German"},{title:"Portuguese"},{title:"Spanish"}],To=(n,e,t)=>{if(n.aiClient)n.aiClient.stop();else{const{selection:i,doc:o}=n.editor.state,r=o.textBetween(i.from,i.to);let s=n.editor?.aiEditor.options.ai?.translate?.prompt?.(e,r)||`You are a ${e} translation expert, proficient in multiple languages. Please help me translate the content in the following <content> tag to: ${e}, and return the translated result. The content you need to translate is:
<content>${r}</content>`;const a=z.get("openrouter");if(a){const l=new st(30,t);a.chat("",s,{onStart(c){n.aiClient=c},onStop(){n.aiClient=void 0,l.finished()},onMessage(c){l.appendText(c.content)}})}}},Ao=n=>{const e=document.createElement("div");return e.classList.add("aie-translate-result-panel"),e.innerHTML=`
    <textarea rows="5" readonly></textarea>
    <div>
     <button type="button" id="cancel"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 6H22V8H20V21C20 21.5523 19.5523 22 19 22H5C4.44772 22 4 21.5523 4 21V8H2V6H7V3C7 2.44772 7.44772 2 8 2H16C16.5523 2 17 2.44772 17 3V6ZM18 8H6V20H18V8ZM9 4V6H15V4H9Z" fill="currentColor"></path></svg> 
        ${y("ai-cancel")}</button>
     <button type="button" id="append"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M2 18H12V20H2V18ZM2 11H22V13H2V11ZM2 4H22V6H2V4ZM18 18V15H20V18H23V20H20V23H18V20H15V18H18Z" fill="currentColor"></path></svg> 
${y("ai-append")}</button>
     <button type="button" id="replace"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M10.071 4.92902L11.4852 6.34323L6.82834 11.0001L16.0002 11.0002L16.0002 13.0002L6.82839 13.0001L11.4852 17.6569L10.071 19.0712L2.99994 12.0001L10.071 4.92902ZM18.0001 19V5.00003H20.0001V19H18.0001Z" fill="currentColor"></path></svg> 
       ${y("ai-replace")}</button>
</div>
    `,e.querySelector("#cancel").addEventListener("click",()=>{n.translateResultInstance?.hide(),n.tippyInstance?.show()}),e.querySelector("#append").addEventListener("click",()=>{n.translateResultInstance?.hide();const{state:{selection:t,doc:i}}=n.editor;n.editor?.commands.setTextSelection(B.create(i,t.to)),n.editor?.insertMarkdown(e.querySelector("textarea").value)}),e.querySelector("#replace").addEventListener("click",()=>{n.translateResultInstance?.hide(),n.editor?.insertMarkdown(e.querySelector("textarea").value)}),e},Zo=(n,e)=>{const t=document.createElement("div");t.classList.add("aie-translate-panel"),t.innerHTML=`
      <div class="aie-translate-panel-body">
        ${e.map(o=>typeof o=="string"?`<p data-lang="${o}">${y(o)} </p>`:`<p data-lang="${o.language||o.title}">${y(o.title)} </p>`).join("")}
        </div>
        `;const i=n.editor.view.dom.closest(".aie-container");return n.translateResultInstance=S(t,{content:Ao(n),appendTo:i,placement:"bottom",interactive:!0,trigger:"click",arrow:!1,getReferenceClientRect(){return i.getBoundingClientRect()},offset:[0,-i.getBoundingClientRect().height+100],onTrigger:(o,r)=>{const s=r.target&&r.target.getAttribute("data-lang");if(!s){o.disable();return}const a=o.popper.querySelector("textarea");a.value="",n.translatePanelInstance?.hide(),To(n,s,a)},onUntrigger:o=>{o.enable()}}),t},Io={id:"translate",title:"translate",icon:`<div style="display: flex;height: 20px">
                      <div style="width: 18px;height: 18px;display: inline-block" >
                      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M5 15V17C5 18.0544 5.81588 18.9182 6.85074 18.9945L7 19H10V21H7C4.79086 21 3 19.2091 3 17V15H5ZM18 10L22.4 21H20.245L19.044 18H14.954L13.755 21H11.601L16 10H18ZM17 12.8852L15.753 16H18.245L17 12.8852ZM8 2V4H12V11H8V14H6V11H2V4H6V2H8ZM17 3C19.2091 3 21 4.79086 21 7V9H19V7C19 5.89543 18.1046 5 17 5H14V3H17ZM6 6H4V9H6V6ZM10 6H8V9H10V6Z"></path></svg>
                      </div>
                     <div style="width: 18px;height: 18px;display: inline-block" >
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0z"></path><path d="M12 14L8 10H16L12 14Z"></path></svg>
                     </div>
                 </div>
                `,onInit:({innerEditor:n},e,t)=>{const i={editor:n,tippyInstance:e},o=n.aiEditor.options.ai?.translate?.translateMenuItems||Eo;return i.translatePanelInstance=S(t.querySelector("#translate"),{content:Zo(i,o),appendTo:n.view.dom.closest(".aie-container"),placement:"bottom",trigger:"click",interactive:!0,arrow:!1}),i}},Bo=new ye([xo,Lo,So,ko,Vo,Io,Mo]),zo=(n,e)=>{if(!n||n.length===0)return n;let t=0;for(;t<n.length;)e(n[t],t,n)?n.splice(t,1):++t;return n};class $o extends le{constructor(){super()}onCreate(e,t){if(super.onCreate(e,t),this.initItemsByOptions(Bo,t?.textSelectionBubbleMenu?.items),t.ai?.bubblePanelEnable===!1)zo(this.items,i=>i.id==="ai");else if(t.ai?.bubblePanelIcon){for(let i of this.items)if(i.id==="ai"){i.icon=t.ai?.bubblePanelIcon;break}}}}b("aie-bubble-link",uo);b("aie-bubble-image",wo);b("aie-bubble-table",yo);b("aie-bubble-text",$o);function ce(n,e){return A.create({name:n,addOptions(){return{...e}},addProseMirrorPlugins(){return this.options.element?[ro({pluginKey:this.options.pluginKey,editor:this.editor,element:this.options.element,tippyOptions:this.options.tippyOptions,updateDelay:this.options.updateDelay,shouldShow:this.options.shouldShow,updateAtMouseUp:this.options.updateAtMouseUp})]:[]}})}const Do=n=>{const e=n.options.textSelectionBubbleMenu?.elementTagName||"aie-bubble-text",t=document.createElement(e);return n.eventComponents.push(t),ce("textSelectionBubble",{pluginKey:"textSelectionBubble",element:t,updateDelay:0,updateAtMouseUp:!0,tippyOptions:{appendTo:n.container,arrow:!1,placement:"bottom",getReferenceClientRect:()=>at(n.innerEditor),onCreate(i){t.instance=i}},shouldShow:({editor:i})=>{if(!i.isEditable)return!1;const{state:{selection:o}}=i;return!o.empty&&Ue(i.state.doc,{from:o.from,to:o.to}).trim().length>0&&!i.isActive("link")&&!i.isActive("image")&&!i.isActive("codeBlock")&&!(o instanceof ve)}})},No=n=>{const e=document.createElement("aie-bubble-link");return n.eventComponents.push(e),ce("linkBubble",{pluginKey:"linkBubble",element:e,tippyOptions:{appendTo:n.container,placement:"bottom",arrow:!1,onCreate(t){e.instance=t}},shouldShow:({editor:t})=>t.isEditable&&t.isActive("link")})},Po=n=>{const e=document.createElement("aie-bubble-image");return n.eventComponents.push(e),ce("imageBubble",{pluginKey:"imageBubble",element:e,tippyOptions:{appendTo:n.container,placement:"top-start",arrow:!1,getReferenceClientRect:()=>{const{ranges:t}=n.innerEditor.state.selection,i=Math.min(...t.map(d=>d.$from.pos)),o=Math.max(...t.map(d=>d.$to.pos)),{view:r}=n.innerEditor,a=r.nodeDOM(i).querySelector("img"),l=Q(r,i,o),c=a.getBoundingClientRect();return{...l,left:c.left+c.width*.5-100}},onCreate(t){e.instance=t}},shouldShow:({editor:t})=>t.isEditable&&t.isActive("image")})},Ro=n=>{const e=document.createElement("aie-bubble-table");return n.eventComponents.push(e),ce("tableBubble",{pluginKey:"tableBubble",element:e,tippyOptions:{placement:"top",appendTo:n.container,arrow:!1,getReferenceClientRect:()=>{const t=n.innerEditor.state.selection,{ranges:i}=t,o=Math.min(...i.map(l=>l.$from.pos)),r=Math.max(...i.map(l=>l.$to.pos)),{view:s}=n.innerEditor,a=Q(s,o,r);return{...a,top:a.top}}},shouldShow:({editor:t})=>{const{state:{selection:i}}=t;return t.isEditable&&t.isActive("table")&&i instanceof ve}})},qo=n=>{const e=[];return n.options.editable===!1||(n?.options.textSelectionBubbleMenu?.enable!==!1&&e.push(Do(n)),e.push(No(n)),n.options.image?.bubbleMenuEnable!==!1&&e.push(Po(n)),e.push(Ro(n))),e},Oo=n=>Vt.configure({deleteTriggerWithBackspace:!0,HTMLAttributes:{class:"mention"},suggestion:{char:"@",allowedPrefixes:null,allow:({state:e,range:t})=>{const i=e.doc.resolve(t.from-1),o=i.parent.textContent,r=i.parentOffset;if(r>0&&o.length>=r){const s=o.charAt(r);return!/^[a-zA-Z0-9]$/.test(s)}return!0},items:({query:e})=>n(e),render:()=>{let e,t,i=0,o;const r=()=>{e.innerHTML=`
                            <div class="items">
                             ${o.items.map((s,a)=>`<button type="button" class="item ${a===i?"item-selected":""}" data-index="${a}">${s.avatar?`<img alt="${s.label}" src="${s.avatar}" />`:""} ${s.label||s}</button>`).join("")}
                            </div>
                            `,e.addEventListener("click",s=>{const a=s.target.closest(".item");if(a){const l=Number(a.getAttribute("data-index")),c=o.items[l];c&&c.id?o.command(c):o.command({id:c})}})};return{onStart:s=>{e=document.createElement("div"),e.classList.add("suggestion"),o=s,s.clientRect&&(r(),t=S("body",{getReferenceClientRect:s.clientRect,appendTo:()=>s.editor.view.dom.closest(".aie-container"),content:e,showOnCreate:!0,interactive:!0,allowHTML:!0,trigger:"manual",placement:"bottom-start",arrow:!1}))},onUpdate(s){o=s,s.clientRect&&(r(),t[0].setProps({getReferenceClientRect:s.clientRect}))},onKeyDown(s){if(s.event.key==="Escape")return t[0].hide(),!0;if(s.event.key==="ArrowUp")return i=(i+o.items.length-1)%o.items.length,r(),!0;if(s.event.key==="ArrowDown")return i=(i+1)%o.items.length,r(),!0;if(s.event.key==="Enter"){const a=o.items[i];return a&&(a.id?o.command(a):o.command({id:a})),!0}return!1},onExit(){t[0].destroy(),e.remove()}}}}});function _o(n){const{state:e}=n,{selection:t,doc:i}=e,{$from:o}=t,r=o.parent,s=o.start();if(r.type.name!=="paragraph")return null;const a=o.parentOffset,l=r.textContent.slice(0,a);if(l.trim())return l;let c=s-2;for(;c>0;){const d=i.nodeAt(c);if(d&&d.type.name==="paragraph"&&d.textContent.trim())return d.textContent;c-=1}return null}const Fo=[{icon:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M21 19V21H19V19H21ZM17 19V21H15V19H17ZM13 19V21H11V19H13ZM9 19V21H7V19H9ZM5 19V21H3V19H5ZM21 15V17H19V15H21ZM5 15V17H3V15H5ZM5 11V13H3V11H5ZM16 3C18.6874 3 20.8817 5.12366 20.9954 7.78322L21 8V13H19V8C19 6.40893 17.7447 5.09681 16.1756 5.00512L16 5H11V3H16ZM5 7V9H3V7H5ZM5 3V5H3V3H5ZM9 3V5H7V3H9Z" fill="currentColor"></path></svg>',name:"AI ç»­å†™",prompt:"è¯·å¸®æˆ‘ç»§ç»­æ‰©å±•è¿™æ®µè¯çš„å†…å®¹",model:"auto"},{icon:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M15 5.25C16.7949 5.25 18.25 3.79493 18.25 2H19.75C19.75 3.79493 21.2051 5.25 23 5.25V6.75C21.2051 6.75 19.75 8.20507 19.75 10H18.25C18.25 8.20507 16.7949 6.75 15 6.75V5.25ZM4 7C4 5.89543 4.89543 5 6 5H13V3H6C3.79086 3 2 4.79086 2 7V17C2 19.2091 3.79086 21 6 21H18C20.2091 21 22 19.2091 22 17V12H20V17C20 18.1046 19.1046 19 18 19H6C4.89543 19 4 18.1046 4 17V7Z" fill="currentColor"></path></svg>',name:"AI æé—®",prompt:"",model:"auto"},{icon:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M5 15V17C5 18.0544 5.81588 18.9182 6.85074 18.9945L7 19H10V21H7C4.79086 21 3 19.2091 3 17V15H5ZM18 10L22.4 21H20.245L19.044 18H14.954L13.755 21H11.601L16 10H18ZM17 12.8852L15.753 16H18.245L17 12.8852ZM8 2V4H12V11H8V14H6V11H2V4H6V2H8ZM17 3C19.2091 3 21 4.79086 21 7V9H19V7C19 5.89543 18.1046 5 17 5H14V3H17ZM6 6H4V9H6V6ZM10 6H8V9H10V6Z" fill="currentColor"></path></svg>',name:"AI ç¿»è¯‘",prompt:"è¯·å¸®æˆ‘ç¿»è¯‘ä»¥ä¸Šå†…å®¹ï¼Œåœ¨ç¿»è¯‘ä¹‹å‰ï¼Œæƒ³å…ˆåˆ¤æ–­ä¸€ä¸‹è¿™ä¸ªå†…å®¹æ˜¯ä¸æ˜¯ä¸­æ–‡ï¼Œå¦‚æœæ˜¯ä¸­æ–‡ï¼Œåˆ™ç¿»è¯‘ä¸ºè‹±æ–‡ï¼Œå¦‚æœæ˜¯å…¶ä»–è¯­è¨€ï¼Œåˆ™éœ€è¦ç¿»è¯‘ä¸ºä¸­æ–‡ï¼Œæ³¨æ„ï¼Œä½ åªéœ€è¦è¿”å›ç¿»è¯‘çš„ç»“æœï¼Œä¸éœ€è¦å¯¹æ­¤è¿›è¡Œä»»ä½•è§£é‡Šï¼Œä¸éœ€è¦é™¤äº†ç¿»è¯‘ç»“æœä»¥å¤–çš„å…¶ä»–ä»»ä½•å†…å®¹ã€‚",model:"auto"},{icon:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 3C20.5523 3 21 3.44772 21 4V5.757L19 7.757V5H5V13.1L9 9.1005L13.328 13.429L11.9132 14.8422L9 11.9289L5 15.928V19H15.533L16.2414 19.0012L17.57 17.671L18.8995 19H19V16.242L21 14.242V20C21 20.5523 20.5523 21 20 21H4C3.45 21 3 20.55 3 20V4C3 3.44772 3.44772 3 4 3H20ZM21.7782 7.80761L23.1924 9.22183L15.4142 17L13.9979 16.9979L14 15.5858L21.7782 7.80761ZM15.5 7C16.3284 7 17 7.67157 17 8.5C17 9.32843 16.3284 10 15.5 10C14.6716 10 14 9.32843 14 8.5C14 7.67157 14.6716 7 15.5 7Z" fill="currentColor"></path></svg>',name:"AI ç”Ÿå›¾",prompt:"è¯·æ ¹æ®ä»¥ä¸Šçš„å†…å®¹ï¼Œç”Ÿæˆä¸€å¼ å›¾ç‰‡ï¼Œå¹¶æŠŠå›¾ç‰‡è¿”å›ç»™æˆ‘",model:"auto"}],Uo=A.create({name:"aiCommand",addOptions(){const n=[{icon:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 6V21H11V6H5V4H19V6H13Z" fill="currentColor"></path></svg>',click:i=>{i.chain().setParagraph().run()}},{icon:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20H11V13H4V20H2V4H4V11H11V4H13V20ZM21.0005 8V20H19.0005L19 10.204L17 10.74V8.67L19.5005 8H21.0005Z" fill="currentColor"></path></svg>',click:i=>{i.chain().setHeading({level:1}).run()}},{icon:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 4V11H11V4H13V20H11V13H4V20H2V4H4ZM18.5 8C20.5711 8 22.25 9.67893 22.25 11.75C22.25 12.6074 21.9623 13.3976 21.4781 14.0292L21.3302 14.2102L18.0343 18H22V20H15L14.9993 18.444L19.8207 12.8981C20.0881 12.5908 20.25 12.1893 20.25 11.75C20.25 10.7835 19.4665 10 18.5 10C17.5818 10 16.8288 10.7071 16.7558 11.6065L16.75 11.75H14.75C14.75 9.67893 16.4289 8 18.5 8Z" fill="currentColor"></path></svg>',click:i=>{i.chain().setHeading({level:2}).run()}},{icon:' <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M22 8L21.9984 10L19.4934 12.883C21.0823 13.3184 22.25 14.7728 22.25 16.5C22.25 18.5711 20.5711 20.25 18.5 20.25C16.674 20.25 15.1528 18.9449 14.8184 17.2166L16.7821 16.8352C16.9384 17.6413 17.6481 18.25 18.5 18.25C19.4665 18.25 20.25 17.4665 20.25 16.5C20.25 15.5335 19.4665 14.75 18.5 14.75C18.214 14.75 17.944 14.8186 17.7056 14.9403L16.3992 13.3932L19.3484 10H15V8H22ZM4 4V11H11V4H13V20H11V13H4V20H2V4H4Z" fill="currentColor"></path></svg>',click:i=>{i.chain().setHeading({level:3}).run()}},{icon:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0z"></path><path d="M21 3C21.5523 3 22 3.44772 22 4V20C22 20.5523 21.5523 21 21 21H3C2.44772 21 2 20.5523 2 20V4C2 3.44772 2.44772 3 3 3H21ZM20 5H4V19H20V5ZM18 15V17H6V15H18Z"></path></svg>',click:i=>{i.chain().toggleContainer("warning").run()}},{icon:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4.58341 17.3211C3.55316 16.2274 3 15 3 13.0103C3 9.51086 5.45651 6.37366 9.03059 4.82318L9.92328 6.20079C6.58804 8.00539 5.93618 10.346 5.67564 11.822C6.21263 11.5443 6.91558 11.4466 7.60471 11.5105C9.40908 11.6778 10.8312 13.159 10.8312 15C10.8312 16.933 9.26416 18.5 7.33116 18.5C6.2581 18.5 5.23196 18.0095 4.58341 17.3211ZM14.5834 17.3211C13.5532 16.2274 13 15 13 13.0103C13 9.51086 15.4565 6.37366 19.0306 4.82318L19.9233 6.20079C16.588 8.00539 15.9362 10.346 15.6756 11.822C16.2126 11.5443 16.9156 11.4466 17.6047 11.5105C19.4091 11.6778 20.8312 13.159 20.8312 15C20.8312 16.933 19.2642 18.5 17.3312 18.5C16.2581 18.5 15.232 18.0095 14.5834 17.3211Z" fill="currentColor"></path></svg>',click:i=>{i.chain().toggleBlockquote().run()}},{icon:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8 4H21V6H8V4ZM3 3.5H6V6.5H3V3.5ZM3 10.5H6V13.5H3V10.5ZM3 17.5H6V20.5H3V17.5ZM8 11H21V13H8V11ZM8 18H21V20H8V18Z" fill="currentColor"></path></svg>',click:i=>{i.chain().toggleBulletList().run()}},{icon:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8 4H21V6H8V4ZM5 3V6H6V7H3V6H4V4H3V3H5ZM3 14V11.5H5V11H3V10H6V12.5H4V13H6V14H3ZM5 19.5H3V18.5H5V18H3V17H6V21H3V20H5V19.5ZM8 11H21V13H8V11ZM8 18H21V20H8V18Z" fill="currentColor"></path></svg>',click:i=>{i.chain().toggleOrderedList().run()}},{icon:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 4H21V6H3V4ZM3 19H17V21H3V19ZM3 14H21V16H3V14ZM3 9H17V11H3V9Z"></path></svg>',click:i=>{i.chain().setTextAlign("left").run()}},{icon:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 4H21V6H3V4ZM5 19H19V21H5V19ZM3 14H21V16H3V14ZM5 9H19V11H5V9Z"></path></svg>',click:i=>{i.chain().setTextAlign("center").run()}},{icon:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 3H20C20.5523 3 21 3.44772 21 4V20C21 20.5523 20.5523 21 20 21H4C3.44772 21 3 20.5523 3 20V4C3 3.44772 3.44772 3 4 3ZM5 5V19H19V5H5ZM11.0026 16L6.75999 11.7574L8.17421 10.3431L11.0026 13.1716L16.6595 7.51472L18.0737 8.92893L11.0026 16Z"></path></svg>',click:i=>{i.chain().toggleTaskList().run()}},{icon:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 3H21C21.5523 3 22 3.44772 22 4V20C22 20.5523 21.5523 21 21 21H3C2.44772 21 2 20.5523 2 20V4C2 3.44772 2.44772 3 3 3ZM4 5V19H20V5H4ZM20 12L16.4645 15.5355L15.0503 14.1213L17.1716 12L15.0503 9.87868L16.4645 8.46447L20 12ZM6.82843 12L8.94975 14.1213L7.53553 15.5355L4 12L7.53553 8.46447L8.94975 9.87868L6.82843 12ZM11.2443 17H9.11597L12.7557 7H14.884L11.2443 17Z"></path></svg>',click:i=>{i.chain().toggleCodeBlock().run()}}],e=6,t=n.length-1;return{suggestion:{char:"/",command:({editor:i,range:o,props:r})=>{if(i.chain().focus().deleteRange(o).run(),r&&r.aiItem){const s=r.aiItem;if(s.onClick)s.onClick(r.event,i.aiEditor);else{const a=_o(i)||"";s.model;const l=z.get(s.model);l&&l?.chat(a,s.prompt,new ge(i))}}else n.length<r.index&&n[r.index].click(i)},render:()=>{let i,o,r=0,s;const a=()=>{i.innerHTML=`
                            <div class="ai-command-container">
                                <div class="ai-command-container-header">
                                ${n.map((l,c)=>`<div class="ai-command-container-header-item item ${r===c?"active":""}" data-index="index">${l.icon}</div>`).join("")}
                                </div>
                                <hr/>
                                ${s.items.map((l,c)=>`<div class="ai-command-container-item item ${r===t+1+c?"active":""}" data-index="${t+1+c}">${l.icon} ${l.name}</div>`).join("")}
                            </div>
                            `,i.addEventListener("click",l=>{const c=l.target.closest(".item");if(c){const d=Number(c.getAttribute("data-index"));s.command({index:d,event:l,aiItem:d>t?s.items[d-t-1]:null})}})};return{onStart:l=>{i=document.createElement("div"),i.classList.add("suggestion"),s=l,l.clientRect&&(a(),o=S("body",{getReferenceClientRect:l.clientRect,appendTo:()=>l.editor.view.dom.closest(".aie-container"),content:i,showOnCreate:!0,interactive:!0,allowHTML:!0,trigger:"manual",placement:"right-start",arrow:!1})[0])},onUpdate(l){s=l,l.clientRect&&o?.setProps({getReferenceClientRect:l.clientRect})},onKeyDown(l){return l.event.key==="Escape"?(o?.hide(),!0):l.event.key==="ArrowUp"?(r<=t?(r-=e,r<0&&(r=t+s.items.length)):(r-=1,r<0&&(r=t+s.items.length)),a(),!0):l.event.key==="ArrowDown"?(r<t?(r+=e,r>t&&(r=t+1)):(r+=1,r>t+s.items.length&&(r=0)),a(),!0):l.event.key==="ArrowLeft"?(r-=1,r<0&&(r=t+s.items.length),a(),!0):l.event.key==="ArrowRight"?(r+=1,r>t+s.items.length&&(r=0),a(),!0):l.event.key==="Enter"?(s.command({index:r,event:l.event,aiItem:r>t?s.items[r-t-1]:null}),!0):!1},onExit(){o?.destroy(),i.remove()}}}}}},addProseMirrorPlugins(){return[St({editor:this.editor,...this.options.suggestion})]}}),jo=A.create({addProseMirrorPlugins(){const n=this.editor;return[new R({key:new P("selection-marker"),props:{decorations(e){return e.selection.empty||n.isFocused||!n.isEditable?null:re.create(e.doc,[fe.inline(e.selection.from,e.selection.to,{class:"selection-marker"})])}}})]}}),lt=["info","warning","danger"],Ko=/^:::([a-z]+)?[\s\n]$/,Wo=ee.create({name:"container",group:"block",content:"block+",defining:!0,addOptions(){return{HTMLAttributes:{class:"container-wrapper"},typeItems:lt,defaultType:null}},addAttributes(){return{containerClass:{default:this.options.defaultType,parseHTML:n=>{for(let e of n.classList)if(e!="container-wrapper")return e},renderHTML:n=>({class:n.containerClass})}}},parseHTML(){return[{tag:"div.container-wrapper"}]},renderHTML({HTMLAttributes:n}){return["div",oe(this.options.HTMLAttributes,n),0]},addCommands(){return{setContainer:n=>({commands:e})=>(n||(n=this.options.defaultType),e.wrapIn(this.name,{containerClass:n})),toggleContainer:n=>({commands:e})=>(n||(n=this.options.defaultType),e.toggleWrap(this.name,{containerClass:n})),unsetContainer:()=>({commands:n})=>n.lift(this.name)}},addInputRules(){return[Et({find:Ko,type:this.type,getAttributes:n=>({containerClass:n[1]})})]},addNodeView(){return({node:n,editor:e})=>{const t=document.createElement("div");t.classList.add("container-wrapper"),t.classList.add(n.attrs.containerClass);let i=t,o=null;if(e.isEditable){t.style.position="relative",t.appendChild(de(`<div class="aie-container-tools">
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M12 2C17.5222 2 22 5.97778 22 10.8889C22 13.9556 19.5111 16.4444 16.4444 16.4444H14.4778C13.5556 16.4444 12.8111 17.1889 12.8111 18.1111C12.8111 18.5333 12.9778 18.9222 13.2333 19.2111C13.5 19.5111 13.6667 19.9 13.6667 20.3333C13.6667 21.2556 12.9 22 12 22C6.47778 22 2 17.5222 2 12C2 6.47778 6.47778 2 12 2ZM10.8111 18.1111C10.8111 16.0843 12.451 14.4444 14.4778 14.4444H16.4444C18.4065 14.4444 20 12.851 20 10.8889C20 7.1392 16.4677 4 12 4C7.58235 4 4 7.58235 4 12C4 16.19 7.2226 19.6285 11.324 19.9718C10.9948 19.4168 10.8111 18.7761 10.8111 18.1111ZM7.5 12C6.67157 12 6 11.3284 6 10.5C6 9.67157 6.67157 9 7.5 9C8.32843 9 9 9.67157 9 10.5C9 11.3284 8.32843 12 7.5 12ZM16.5 12C15.6716 12 15 11.3284 15 10.5C15 9.67157 15.6716 9 16.5 9C17.3284 9 18 9.67157 18 10.5C18 11.3284 17.3284 12 16.5 12ZM12 9C11.1716 9 10.5 8.32843 10.5 7.5C10.5 6.67157 11.1716 6 12 6C12.8284 6 13.5 6.67157 13.5 7.5C13.5 8.32843 12.8284 9 12 9Z"></path></svg>
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M12 14L8 10H16L12 14Z"></path></svg>
</div>`)),i=de("<div></div>"),t.appendChild(i);const r=()=>{const s=de(`<div>
<div class="aie-container-tools-body">
    <div>${y("type")}</div>
    <div class="aie-container-tools-body-color-items">${this.options.typeItems.map(a=>`<div class="aie-container-tools-body-color-box ${a}" title="${a}"></div>`).join("")}</div>
</div>`);return s.addEventListener("click",a=>{a.target instanceof HTMLElement&&a.target.classList.contains("aie-container-tools-body-color-box")&&e.commands.updateAttributes(this.name,{containerClass:a.target.getAttribute("title")})}),s};o=S(t.querySelector(".aie-container-tools"),{content:r(),appendTo:()=>t.closest(".aie-container"),placement:"bottom-end",trigger:"click",interactive:!0,arrow:!1,offset:[8,0],aria:{content:null,expanded:!1}})}return{dom:t,contentDOM:i,destroy(){o?.destroy()}}}}}),Jo=Tt.extend({addAttributes(){return{...this.parent?.(),id:{default:null}}}}),Go=A.create({name:"saveExt",addKeyboardShortcuts(){return{"Mod-s":({editor:n})=>this.options.onSave?this.options.onSave(n.aiEditor):!1}}}),Xo=ee.create({name:"figure",content:"block+",group:"block",defining:!0,draggable:!0,selectable:!0,addOptions(){return{HTMLAttributes:{dir:"auto"}}},parseHTML(){return[{tag:"figure"}]},renderHTML({HTMLAttributes:n}){return["figure",oe(this.options.HTMLAttributes,n),0]}}),Yo=ee.create({name:"figcaption",content:"inline*",group:"block",defining:!0,addOptions(){return{HTMLAttributes:{dir:"auto"}}},parseHTML(){return[{tag:"figcaption"}]},renderHTML({HTMLAttributes:n}){return["figcaption",oe(this.options.HTMLAttributes,n),0]}}),Qo=A.create({name:"pasteExt",priority:1e3,addProseMirrorPlugins(){return[new R({key:new P("aie-paste"),props:{handlePaste:(n,e)=>{if(n.props.editable&&!n.props.editable(n.state)||!e.clipboardData)return!1;let t=e.clipboardData.getData("text/plain"),i=e.clipboardData.getData("text/html");if(!i&&t){if(this.editor.isActive("codeBlock")||this.editor.isActive("code")){const{state:{tr:r},dispatch:s}=n;return s(r.replaceSelectionWith(this.editor.schema.text(t)).scrollIntoView()),!0}t=t.replace(/\n/g,"<br>");const o=this.editor.parseMarkdown(t);if(o){const{state:{tr:r},dispatch:s}=n;return s(r.replaceSelection(new ei(o,0,0)).scrollIntoView()),!0}}else if(i){i=Pi(i);const{options:o}=this.editor.aiEditor;if(o.htmlPasteConfig){if(o.htmlPasteConfig.pasteAsText)i=zi(i,["p","br"]),i=qi(i);else if(o.htmlPasteConfig.pasteClean){i=Bi(i,["a","span","strong","b","em","i","u"]);const a=new DOMParser().parseFromString(i,"text/html").documentElement.querySelector("body");a&&(a?.querySelectorAll("*").forEach(l=>{l.removeAttribute("style")}),i=a?.innerHTML)}if(o.htmlPasteConfig.removeEmptyParagraphs!==!1&&(i=Di(i)),o.htmlPasteConfig.pasteProcessor&&(i=o.htmlPasteConfig.pasteProcessor(i)),i)return this.editor.commands.insertContent(i),!0}else if(t&&i){const s=new DOMParser().parseFromString(i,"text/html"),a=s.querySelector("table");if(a&&$i(s)){const l=Oi(a.outerHTML);return this.editor.commands.insertContent(l),!0}}}}}})]}}),er=A.create({name:"className",addOptions(){return{types:["heading","paragraph","container","codeBlock","blockquote","bulletList","orderedList","listItem","taskList","taskItem","image","video","table","iframe"]}},addGlobalAttributes(){return[{types:this.options.types,attributes:{class:{defaultValue:"",parseHTML:n=>n.getAttribute("class"),renderHTML:n=>n.class?{class:n.class}:{}}}}]},addCommands(){return{setClassName:(n,e)=>({chain:t})=>!n||!this.options.types.includes(n)?!1:t().updateAttributes(n,{class:e}).run()}},onTransaction({editor:n,transaction:e}){e.steps.length>0&&e.steps.forEach(t=>{if(t instanceof ti){let i=!1;if(t.getMap().forEach((o,r,s,a)=>{a==s+2&&(i=!0)}),i){const r=t.slice.content.lastChild;r&&!r.textContent&&n.commands.updateAttributes(r.type,{...r.attrs,class:""})}}})}}),tr=(n,e)=>{const t=[At.configure({codeBlock:!1,heading:!1})];return t.push(Zt,It,Bt,Jo,On.configure({uploadUrl:e.attachment?.uploadUrl,uploadHeaders:e.attachment?.uploadHeaders,uploadFormName:e.attachment?.uploadFormName,uploader:e.attachment?.uploader||e.uploader,uploaderEvent:e.attachment?.uploaderEvent}),_n,jo,zt.configure({multicolor:!0}),$t,Fn,Un,Dt.configure({types:["heading","paragraph"]}),jn,Wn.configure({allowBase64:typeof e.image?.allowBase64>"u"?!0:e.image?.allowBase64,defaultSize:e.image?.defaultSize||350,uploadUrl:e.image?.uploadUrl,uploadHeaders:e.image?.uploadHeaders,uploadFormName:e.image?.uploadFormName,uploader:e.image?.uploader||e.uploader,uploaderEvent:e.image?.uploaderEvent}),Nt.configure({resizable:!0,lastColumnResizable:!0,allowTableNodeSelection:!0}),Pt,Gn,Jn,Rt.configure({textCounter:typeof e?.textCounter=="function"?e.textCounter:i=>i.length}),qt.configure({openOnClick:!1,autolink:e.link?.autolink!==!1,HTMLAttributes:{ref:e?.link?.rel,class:e?.link?.class}}),Ot,_t,Ft,Ut.configure({nested:!0}),eo.configure({lowlight:Jt(Gt),defaultLanguage:"auto",languageClassPrefix:"language-",languages:e.codeBlock?.languages||rt,codeExplainAi:e.ai?.codeBlock?.codeExplain||{model:"auto",prompt:e.codeBlock?.codeExplainPrompt||"å¸®æˆ‘å¯¹è¿™ä¸ªä»£ç è¿›è¡Œè§£é‡Šï¼Œè¿”å›ä»£ç çš„è§£é‡Šå†…å®¹ï¼Œæ³¨æ„ï¼Œä¸éœ€è¦å¯¹ä»£ç çš„æ³¨é‡Šè¿›è¡Œè§£é‡Š"},codeCommentsAi:e.ai?.codeBlock?.codeComments||{model:"auto",prompt:e.codeBlock?.codeCommentsPrompt||"å¸®æˆ‘å¯¹è¿™ä¸ªä»£ç æ·»åŠ ä»£ç æ³¨é‡Šï¼Œå¹¶è¿”å›æ·»åŠ æ³¨é‡Šçš„ä»£ç ï¼Œæ³¨æ„åªéœ€è¦è¿”å›ä»£ç ã€‚"}}),io.configure({uploadUrl:e.video?.uploadUrl,uploadHeaders:e.video?.uploadHeaders,uploadFormName:e.video?.uploadFormName,uploader:e.video?.uploader||e.uploader,uploaderEvent:e.video?.uploaderEvent}),no,Xo,Yo,Go.configure({onSave:e.onSave}),Qo,er,Wo.configure({defaultType:e.container?.defaultType||"warning",typeItems:e.container?.typeItems||lt}),...qo(n)),e.placeholder&&t.push(jt.configure({placeholder:e.placeholder})),e.ai?.commandsEnable!==!1&&t.push(Uo.configure({suggestion:{items:i=>e.ai?.commands||Fo}})),e.onMentionQuery&&t.push(Oo(e.onMentionQuery)),t},ir={default:"é»˜è®¤",delete:"åˆ é™¤",confirm:"ç¡®å®š",cancel:"å–æ¶ˆ",resize:"è°ƒæ•´å¤§å°",type:"ç±»å‹",undo:"æ’¤é”€",redo:"é‡åš",brush:"æ ¼å¼åˆ·",container:"é«˜äº®å—",eraser:"æ¸…é™¤æ ¼å¼",heading:"æ­£æ–‡/æ ‡é¢˜","font-family":"å­—ä½“","font-size":"å­—å·",bold:"åŠ ç²—",italic:"æ–œä½“",underline:"ä¸‹åˆ’çº¿",strike:"åˆ é™¤çº¿",link:"é“¾æ¥","source-code":"æºä»£ç ",code:"è¡Œå†…ä»£ç ",subscript:"ä¸‹æ ‡",superscript:"ä¸Šæ ‡",hr:"åˆ†å‰²çº¿",todo:"ä»»åŠ¡åˆ—è¡¨",emoji:"è¡¨æƒ…",highlight:"é«˜äº®","font-color":"å­—ä½“é¢œè‰²",align:"å¯¹é½","line-height":"è¡Œé«˜","bullet-list":"æ— åºåˆ—è¡¨","ordered-list":"æœ‰åºåˆ—è¡¨","indent-decrease":"å‡å°‘ç¼©è¿›","indent-increase":"å¢åŠ ç¼©è¿›",break:"å¼ºåˆ¶æ¢è¡Œ",image:"å›¾ç‰‡",video:"è§†é¢‘",attachment:"é™„ä»¶",quote:"å¼•ç”¨","code-block":"ä»£ç å—",table:"è¡¨æ ¼",printer:"æ‰“å°",fullscreen:"å…¨å±",ai:"äººå·¥æ™ºèƒ½","menu-group":"èœå•ç»„",paragraph:"æ­£æ–‡",h1:"æ ‡é¢˜ 1",h2:"æ ‡é¢˜ 2",h3:"æ ‡é¢˜ 3",h4:"æ ‡é¢˜ 4",h5:"æ ‡é¢˜ 5",h6:"æ ‡é¢˜ 6",standardColors:"æ ‡å‡†è‰²",historyColors:"æœ€è¿‘ä½¿ç”¨",insertTable:"æ’å…¥è¡¨æ ¼",row:"è¡Œ",column:"åˆ—","align-left":"å±…å·¦å¯¹é½","align-right":"å±…å³å¯¹é½","align-center":"å±…ä¸­å¯¹é½","align-justify":"ä¸¤ç«¯å¯¹é½","insert-column-left":"å·¦ä¾§æ’å…¥åˆ—","insert-column-right":"å³ä¾§æ’å…¥åˆ—","insert-row-top":"ä¸Šæ–¹æ’å…¥è¡Œ","insert-row-bottom":"ä¸‹æ–¹æ’å…¥è¡Œ","delete-column":"åˆ é™¤å½“å‰åˆ—","delete-row":"åˆ é™¤å½“å‰è¡Œ","merge-cells-horizontal":"åˆå¹¶å•å…ƒæ ¼","merge-cells-vertical":"åˆå¹¶å•å…ƒæ ¼","split-cells-horizontal":"è§£é™¤åˆå¹¶å•å…ƒæ ¼","split-cells-vertical":"è§£é™¤åˆå¹¶å•å…ƒæ ¼","delete-table":"åˆ é™¤è¡¨æ ¼","edit-link":"ç¼–è¾‘é“¾æ¥",unlink:"å–æ¶ˆé“¾æ¥","visit-link":"è®¿é—®é“¾æ¥","link-address":"é“¾æ¥åœ°å€","link-open-type":"æ‰“å¼€æ–¹å¼","link-open-blank":"æ–°çª—å£","default-font-size":"å­—å·","default-font-family":"é»˜è®¤å­—ä½“","codeblock-ai-auto-comment":"è‡ªåŠ¨æ³¨é‡Š","codeblock-ai-code-explain":"ä»£ç è§£é‡Š","image-property":"å›¾ç‰‡å±æ€§","image-size":"å›¾ç‰‡å¤§å°","image-keep-current":"ä¿æŒå½“å‰","image-original-size":"å›¾ç‰‡åŸå§‹å¤§å°","placeholder-tell-ai-what-to-do-next":"å‘Šè¯‰ AI ä¸‹ä¸€æ­¥åº”è¯¥å¦‚ä½•ï¼Ÿæ¯”å¦‚ï¼šå¸®æˆ‘ç¿»è¯‘æˆè‹±è¯­","tip-you-can-enter-text-above-or-select-the-operation-below":"æç¤ºï¼šæ‚¨å¯ä»¥åœ¨ä¸Šé¢è¾“å…¥æ–‡å­—æˆ–è€…é€‰æ‹©ä¸‹æ–¹çš„æ“ä½œ","you-can-do-the-following":"æ‚¨å¯ä»¥è¿›è¡Œä»¥ä¸‹æ“ä½œ:","improve-writing":"æ”¹è¿›å†™ä½œ","check-spelling-and-grammar":"æ£€æŸ¥æ‹¼å†™å’Œè¯­æ³•","make-shorter":"ç®€åŒ–å†…å®¹","make-longer":"ä¸°å¯Œå†…å®¹",translate:"ç¿»è¯‘",summarize:"æ€»ç»“","ai-append":"è¿½åŠ ","ai-replace":"æ›¿æ¢","ai-cancel":"èˆå¼ƒ","ai-continuation":"AI ç»­å†™","ai-optimization":"AI ä¼˜åŒ–","ai-proofreading":"AI æ ¡å¯¹","ai-translation":"AI ç¿»è¯‘"},nr={default:"Default",delete:"Delete",confirm:"Confirm",cancel:"Cancel",resize:"Resize",type:"Type",undo:"Undo",redo:"Redo",brush:"Format Painter",container:"Highlight container",eraser:"clear format",heading:"Paragraph/Heading","font-family":"Font Family","font-size":"Font Size",bold:"Bold",italic:"Italics",underline:"Underline",strike:"Strikethrough",link:"Link","source-code":"Source code",code:"Inline code",subscript:"Subscript",superscript:"Superscript",hr:"Dividing line",todo:"Task list",emoji:"Emoji expression",highlight:"Highlight","font-color":"Font color",align:"Alignment","line-height":"Line height","bullet-list":"Unordered list","ordered-list":"Ordered list","indent-decrease":"Decrease indent","indent-increase":"Increase indent",break:"Force line break",image:"Image",video:"video",attachment:"Attachment",quote:"Quote","code-block":"Code block",table:"Table",printer:"Print",fullscreen:"Full screen",ai:"AI","menu-group":"Menu Group",paragraph:"Paragraph",h1:"H1",h2:"H2",h3:"H3",h4:"H4",h5:"H5",h6:"H6",standardColors:"Standard colors",historyColors:"Recently used colors",insertTable:"Insert Table",row:"Row",column:"Column","align-left":"Align left","align-right":"Align right","align-center":"Align center","align-justify":"Align justify","insert-column-left":"Insert column left","insert-column-right":"Insert column right","insert-row-top":"Insert row top","insert-row-bottom":"Insert row bottom","delete-column":"Delete column","delete-row":"Delete row","merge-cells-horizontal":"Merge cells","merge-cells-vertical":"Merge cells","split-cells-horizontal":"Split cells","split-cells-vertical":"Split cells","delete-table":"Delete table","edit-link":"Edit link",unlink:"Unlink","visit-link":"Visit link","link-address":"Link address","link-open-type":"Open type","link-open-blank":"Blank","default-font-size":"Size","default-font-family":"Default font","codeblock-ai-auto-comment":"auto comment","codeblock-ai-code-explain":"code explain","image-property":"Image property","image-size":"Image size","image-keep-current":"Keep current","image-original-size":"Image original size","placeholder-tell-ai-what-to-do-next":"Tell AI what to do next? e.g., help me translate into English","tip-you-can-enter-text-above-or-select-the-operation-below":"Tip: You can enter text above or select the operation below","you-can-do-the-following":"You can do the following:","improve-writing":"Improve your writing","check-spelling-and-grammar":"Check spelling and grammar","make-shorter":"Make shorter","make-longer":"Make longer",translate:"Translate",summarize:"Summarize","ai-append":"Append","ai-replace":"Replace","ai-cancel":"Cancel","ai-continuation":"Continuation","ai-optimization":"Optimization","ai-proofreading":"Proofreading","ai-translation":"Translation"},or={default:"Standard",delete:"LÃ¶schen",confirm:"BestÃ¤tigen",cancel:"Abbrechen",resize:"GrÃ¶ÃŸe Ã¤ndern",undo:"RÃ¼ckgÃ¤ngig",redo:"Wiederholen",brush:"Format Ã¼bertragen",container:"Auswahl hervorheben",eraser:"Format lÃ¶schen",heading:"Absatz/Ãœberschrift","font-family":"Schriftart","font-size":"SchriftgrÃ¶ÃŸe",bold:"Fett",italic:"Kursiv",underline:"Unterstrichen",strike:"Durchgestrichen",link:"Link","source-code":"Quellcode",code:"Inline-Code",subscript:"Tiefgestellt",superscript:"Hochgestellt",hr:"Trennlinie",todo:"Aufgabenliste",emoji:"Emojis",highlight:"Hervorheben","font-color":"Schriftfarbe",align:"Ausrichtung","line-height":"ZeilenhÃ¶he","bullet-list":"AufzÃ¤hlungsliste","ordered-list":"Nummerierte Liste","indent-decrease":"Einzug verkleinern","indent-increase":"Einzug vergrÃ¶ÃŸern",break:"Zeilenumbruch erzwingen",image:"Bild",video:"Video",attachment:"Anhang",quote:"Zitat","code-block":"Codeblock",table:"Tabelle",printer:"Drucken",fullscreen:"Vollbild",ai:"KI","menu-group":"MenÃ¼gruppe",paragraph:"Absatz",h1:"Ãœberschrift 1",h2:"Ãœberschrift 2",h3:"Ãœberschrift 3",h4:"Ãœberschrift 4",h5:"Ãœberschrift 5",h6:"Ãœberschrift 6",standardColors:"Standardfarben",historyColors:"Zuletzt verwendete Farben",insertTable:"Tabelle einfÃ¼gen",row:"Zeile",column:"Spalte","align-left":"LinksbÃ¼ndig","align-right":"RechtsbÃ¼ndig","align-center":"Zentriert","align-justify":"Blocksatz","insert-column-left":"Spalte links einfÃ¼gen","insert-column-right":"Spalte rechts einfÃ¼gen","insert-row-top":"Zeile oben einfÃ¼gen","insert-row-bottom":"Zeile unten einfÃ¼gen","delete-column":"Spalte lÃ¶schen","delete-row":"Zeile lÃ¶schen","merge-cells-horizontal":"Zellen horizontal verbinden","merge-cells-vertical":"Zellen vertikal verbinden","split-cells-horizontal":"Zellen horizontal teilen","split-cells-vertical":"Zellen vertikal teilen","delete-table":"Tabelle lÃ¶schen","edit-link":"Link bearbeiten",unlink:"Link entfernen","visit-link":"Link besuchen","link-address":"Link-Adresse","link-open-type":"Link Ã¶ffnen in...","link-open-blank":"Neues Fenster","default-font-size":"SchriftgrÃ¶ÃŸe","default-font-family":"Standardschriftart","codeblock-ai-auto-comment":"Automatischer Kommentar","codeblock-ai-code-explain":"Code-ErklÃ¤rung","image-property":"Bildeigenschaft","image-size":"BildgrÃ¶ÃŸe","image-keep-current":"Aktuell behalten","image-original-size":"OriginalgrÃ¶ÃŸe des Bilds","placeholder-tell-ai-what-to-do-next":"Sagen Sie der KI, was als NÃ¤chstes zu tun ist, z.B. helfen Sie mir, ins Englische zu Ã¼bersetzen","tip-you-can-enter-text-above-or-select-the-operation-below":"Tipp: Sie kÃ¶nnen oben Text eingeben oder die untenstehende Operation auswÃ¤hlen","you-can-do-the-following":"Sie kÃ¶nnen Folgendes tun:","improve-writing":"Schreiben verbessern","check-spelling-and-grammar":"Rechtschreibung und Grammatik prÃ¼fen","make-shorter":"KÃ¼rzen","make-longer":"VerlÃ¤ngern",translate:"Ãœbersetzen",summarize:"Zusammenfassen","ai-append":"AnhÃ¤ngen","ai-replace":"Ersetzen","ai-cancel":"Abbrechen","ai-continuation":"VorschlÃ¤ge fÃ¼r Fortsetzung","ai-optimization":"Optimierung","ai-proofreading":"Korrekturlesen","ai-translation":"Ãœbersetzung"},rr={default:"PadrÃ£o",delete:"Excluir",confirm:"Confirmar",cancel:"Cancelar",resize:"Redimensionar",undo:"Desfazer",redo:"Refazer",brush:"Pincel",container:"Destacar seleÃ§Ã£o",eraser:"Apagar formataÃ§Ã£o",heading:"CabeÃ§alho","font-family":"Fonte","font-size":"Tamanho da fonte",bold:"Negrito",italic:"ItÃ¡lico",underline:"Sublinhado",strike:"Tachado",link:"Link","source-code":"CÃ³digo-fonte",code:"CÃ³digo em linha",subscript:"Subscrito",superscript:"Sobrescrito",hr:"Linha horizontal",todo:"Lista de tarefas",emoji:"Emoji",highlight:"Destacar","font-color":"Cor da fonte",align:"Alinhamento","line-height":"Altura da linha","bullet-list":"Lista com marcadores","ordered-list":"Lista numerada","indent-decrease":"Diminuir recuo","indent-increase":"Aumentar recuo",break:"Quebra de linha",image:"Imagem",video:"VÃ­deo",attachment:"Anexo",quote:"CitaÃ§Ã£o","code-block":"Bloco de cÃ³digo",table:"Tabela",printer:"Imprimir",fullscreen:"Tela cheia",ai:"IA","menu-group":"Grupo de menu",paragraph:"ParÃ¡grafo",h1:"CabeÃ§alho 1",h2:"CabeÃ§alho 2",h3:"CabeÃ§alho 3",h4:"CabeÃ§alho 4",h5:"CabeÃ§alho 5",h6:"CabeÃ§alho 6",standardColors:"Cores padrÃ£o",historyColors:"Cores recentes",insertTable:"Inserir tabela",row:"Linha",column:"Coluna","align-left":"Alinhar Ã  esquerda","align-right":"Alinhar Ã  direita","align-center":"Centralizar","align-justify":"Justificar","insert-column-left":"Inserir coluna Ã  esquerda","insert-column-right":"Inserir coluna Ã  direita","insert-row-top":"Inserir linha acima","insert-row-bottom":"Inserir linha abaixo","delete-column":"Excluir coluna","delete-row":"Excluir linha","merge-cells-horizontal":"Mesclar cÃ©lulas horizontalmente","merge-cells-vertical":"Mesclar cÃ©lulas verticalmente","split-cells-horizontal":"Dividir cÃ©lulas horizontalmente","split-cells-vertical":"Dividir cÃ©lulas verticalmente","delete-table":"Excluir tabela","edit-link":"Editar link",unlink:"Remover link","visit-link":"Visitar link","link-address":"EndereÃ§o do link","link-open-type":"Abrir link em...","link-open-blank":"Nova janela","default-font-size":"Tamanho padrÃ£o da fonte","default-font-family":"Fonte padrÃ£o","codeblock-ai-auto-comment":"ComentÃ¡rio automÃ¡tico","codeblock-ai-code-explain":"ExplicaÃ§Ã£o do cÃ³digo","placeholder-tell-ai-what-to-do-next":"Diga Ã  IA o que fazer a seguir, por exemplo, ajude-me a traduzir para o inglÃªs","tip-you-can-enter-text-above-or-select-the-operation-below":"Dica: VocÃª pode digitar o texto acima ou selecionar a operaÃ§Ã£o abaixo","you-can-do-the-following":"VocÃª pode fazer o seguinte:","improve-writing":"Melhorar escrita","check-spelling-and-grammar":"Verificar ortografia e gramÃ¡tica","make-shorter":"Encurtar","make-longer":"Alongar",translate:"Traduzir",summarize:"Resumir","ai-append":"Anexar","ai-replace":"Substituir","ai-cancel":"Cancelar","ai-continuation":"SugestÃµes de continuaÃ§Ã£o","ai-optimization":"OtimizaÃ§Ã£o","ai-proofreading":"RevisÃ£o","ai-translation":"TraduÃ§Ã£o"},sr={default:"Predeterminado",delete:"Eliminar",confirm:"Confirmar",cancel:"Cancelar",resize:"Redimensionar",undo:"Deshacer",redo:"Rehacer",brush:"Pincel de formato",container:"Bloque resaltado",eraser:"Borrar formato",heading:"Texto/TÃ­tulo","font-family":"Fuente","font-size":"TamaÃ±o de fuente",bold:"Negrita",italic:"Cursiva",underline:"Subrayado",strike:"Tachado",link:"Enlace","source-code":"CÃ³digo fuente",code:"CÃ³digo en lÃ­nea",subscript:"SubÃ­ndice",superscript:"SuperÃ­ndice",hr:"LÃ­nea divisoria",todo:"Lista de tareas",emoji:"Emoji",highlight:"Resaltar","font-color":"Color de fuente",align:"Alinear","line-height":"Altura de lÃ­nea","bullet-list":"Lista desordenada","ordered-list":"Lista ordenada","indent-decrease":"Disminuir sangrÃ­a","indent-increase":"Aumentar sangrÃ­a",break:"Salto de lÃ­nea",image:"Imagen",video:"Video",attachment:"Adjunto",quote:"Cita","code-block":"Bloque de cÃ³digo",table:"Tabla",printer:"Imprimir",fullscreen:"Pantalla completa",ai:"Inteligencia artificial","menu-group":"Grupo de menÃº",paragraph:"PÃ¡rrafo",h1:"Encabezado 1",h2:"Encabezado 2",h3:"Encabezado 3",h4:"Encabezado 4",h5:"Encabezado 5",h6:"Encabezado 6",standardColors:"Colores estÃ¡ndar",historyColors:"Usado recientemente",insertTable:"Insertar tabla",row:"Fila",column:"Columna","align-left":"Alinear a la izquierda","align-right":"Alinear a la derecha","align-center":"Alinear al centro","align-justify":"Justificar","insert-column-left":"Insertar columna a la izquierda","insert-column-right":"Insertar columna a la derecha","insert-row-top":"Insertar fila arriba","insert-row-bottom":"Insertar fila abajo","delete-column":"Eliminar columna","delete-row":"Eliminar fila","merge-cells-horizontal":"Combinar celdas horizontalmente","merge-cells-vertical":"Combinar celdas verticalmente","split-cells-horizontal":"Dividir celdas horizontalmente","split-cells-vertical":"Dividir celdas verticalmente","delete-table":"Eliminar tabla","edit-link":"Editar enlace",unlink:"Eliminar enlace","visit-link":"Visitar enlace","link-address":"DirecciÃ³n del enlace","link-open-type":"Tipo de apertura","link-open-blank":"Nueva ventana","default-font-size":"TamaÃ±o de fuente predeterminado","default-font-family":"Fuente predeterminada","codeblock-ai-auto-comment":"Comentario automÃ¡tico","codeblock-ai-code-explain":"ExplicaciÃ³n del cÃ³digo","placeholder-tell-ai-what-to-do-next":"Dile a la IA quÃ© hacer a continuaciÃ³n. Ejemplo: Traducir al inglÃ©s","tip-you-can-enter-text-above-or-select-the-operation-below":"Sugerencia: Puedes ingresar el texto arriba o seleccionar una operaciÃ³n abajo","you-can-do-the-following":"Puedes hacer lo siguiente:","improve-writing":"Mejorar escritura","check-spelling-and-grammar":"Revisar ortografÃ­a y gramÃ¡tica","make-shorter":"Hacer mÃ¡s corto","make-longer":"Hacer mÃ¡s largo",translate:"Traducir",summarize:"Resumir","ai-append":"AÃ±adir","ai-replace":"Reemplazar","ai-cancel":"Cancelar","ai-continuation":"ContinuaciÃ³n con IA","ai-optimization":"OptimizaciÃ³n con IA","ai-proofreading":"CorrecciÃ³n con IA","ai-translation":"TraducciÃ³n con IA"},ar={default:"à¤¡à¤¿à¤«à¤¼à¥‰à¤²à¥à¤Ÿ",delete:"à¤¹à¤Ÿà¤¾à¤à¤‚",confirm:"à¤ªà¥à¤·à¥à¤Ÿà¤¿ à¤•à¤°à¥‡à¤‚",cancel:"à¤°à¤¦à¥à¤¦ à¤•à¤°à¥‡à¤‚",resize:"à¤†à¤•à¤¾à¤° à¤¬à¤¦à¤²à¥‡à¤‚",undo:"à¤ªà¥‚à¤°à¥à¤µà¤µà¤¤ à¤•à¤°à¥‡à¤‚",redo:"à¤«à¤¿à¤° à¤¸à¥‡ à¤•à¤°à¥‡à¤‚",brush:"à¤«à¥‰à¤°à¥à¤®à¥‡à¤Ÿ à¤¬à¥à¤°à¤¶",container:"à¤¹à¤¾à¤‡à¤²à¤¾à¤‡à¤Ÿ à¤¬à¥à¤²à¥‰à¤•",eraser:"à¤«à¥‰à¤°à¥à¤®à¥‡à¤Ÿ à¤¸à¤¾à¤«à¤¼ à¤•à¤°à¥‡à¤‚",heading:"à¤ªà¤¾à¤ /à¤¶à¥€à¤°à¥à¤·à¤•","font-family":"à¤«à¤¼à¥‰à¤¨à¥à¤Ÿ","font-size":"à¤«à¤¼à¥‰à¤¨à¥à¤Ÿ à¤†à¤•à¤¾à¤°",bold:"à¤¬à¥‹à¤²à¥à¤¡",italic:"à¤‡à¤Ÿà¥ˆà¤²à¤¿à¤•",underline:"à¤°à¥‡à¤–à¤¾à¤‚à¤•à¤¨",strike:"à¤¸à¥à¤Ÿà¥à¤°à¤¾à¤‡à¤•à¤¥à¥à¤°à¥‚",link:"à¤²à¤¿à¤‚à¤•","source-code":"à¤¸à¥à¤°à¥‹à¤¤ à¤•à¥‹à¤¡",code:"à¤‡à¤¨à¤²à¤¾à¤‡à¤¨ à¤•à¥‹à¤¡",subscript:"à¤¸à¤¬à¤¸à¥à¤•à¥à¤°à¤¿à¤ªà¥à¤Ÿ",superscript:"à¤¸à¥à¤ªà¤°à¤¸à¥à¤•à¥à¤°à¤¿à¤ªà¥à¤Ÿ",hr:"à¤µà¤¿à¤­à¤¾à¤œà¤• à¤°à¥‡à¤–à¤¾",todo:"à¤•à¤¾à¤°à¥à¤¯ à¤¸à¥‚à¤šà¥€",emoji:"à¤‡à¤®à¥‹à¤œà¥€",highlight:"à¤¹à¤¾à¤‡à¤²à¤¾à¤‡à¤Ÿ","font-color":"à¤«à¤¼à¥‰à¤¨à¥à¤Ÿ à¤°à¤‚à¤—",align:"à¤¸à¤‚à¤°à¥‡à¤–à¤¿à¤¤ à¤•à¤°à¥‡à¤‚","line-height":"à¤²à¤¾à¤‡à¤¨ à¤¹à¤¾à¤‡à¤Ÿ","bullet-list":"à¤¬à¤¿à¤¨à¤¾ à¤•à¥à¤°à¤® à¤µà¤¾à¤²à¥€ à¤¸à¥‚à¤šà¥€","ordered-list":"à¤•à¥à¤°à¤®à¤¬à¤¦à¥à¤§ à¤¸à¥‚à¤šà¥€","indent-decrease":"à¤‡à¤‚à¤¡à¥‡à¤‚à¤Ÿ à¤˜à¤Ÿà¤¾à¤à¤‚","indent-increase":"à¤‡à¤‚à¤¡à¥‡à¤‚à¤Ÿ à¤¬à¤¢à¤¼à¤¾à¤à¤‚",break:"à¤²à¤¾à¤‡à¤¨ à¤¬à¥à¤°à¥‡à¤•",image:"à¤šà¤¿à¤¤à¥à¤°",video:"à¤µà¥€à¤¡à¤¿à¤¯à¥‹",attachment:"à¤…à¤¨à¥à¤²à¤—à¥à¤¨à¤•",quote:"à¤‰à¤¦à¥à¤§à¤°à¤£","code-block":"à¤•à¥‹à¤¡ à¤¬à¥à¤²à¥‰à¤•",table:"à¤¤à¤¾à¤²à¤¿à¤•à¤¾",printer:"à¤ªà¥à¤°à¤¿à¤‚à¤Ÿ à¤•à¤°à¥‡à¤‚",fullscreen:"à¤ªà¥‚à¤°à¥à¤£ à¤¸à¥à¤•à¥à¤°à¥€à¤¨",ai:"à¤•à¥ƒà¤¤à¥à¤°à¤¿à¤® à¤¬à¥à¤¦à¥à¤§à¤¿à¤®à¤¤à¥à¤¤à¤¾","menu-group":"à¤®à¥‡à¤¨à¥‚ à¤¸à¤®à¥‚à¤¹",paragraph:"à¤ªà¥ˆà¤°à¤¾à¤—à¥à¤°à¤¾à¤«",h1:"à¤¶à¥€à¤°à¥à¤·à¤• 1",h2:"à¤¶à¥€à¤°à¥à¤·à¤• 2",h3:"à¤¶à¥€à¤°à¥à¤·à¤• 3",h4:"à¤¶à¥€à¤°à¥à¤·à¤• 4",h5:"à¤¶à¥€à¤°à¥à¤·à¤• 5",h6:"à¤¶à¥€à¤°à¥à¤·à¤• 6",standardColors:"à¤®à¤¾à¤¨à¤• à¤°à¤‚à¤—",historyColors:"à¤¹à¤¾à¤²à¤¿à¤¯à¤¾ à¤°à¤‚à¤—",insertTable:"à¤¤à¤¾à¤²à¤¿à¤•à¤¾ à¤¸à¤®à¥à¤®à¤¿à¤²à¤¿à¤¤ à¤•à¤°à¥‡à¤‚",row:"à¤ªà¤‚à¤•à¥à¤¤à¤¿",column:"à¤¸à¥à¤¤à¤‚à¤­","align-left":"à¤¬à¤¾à¤à¤‚ à¤¸à¤‚à¤°à¥‡à¤–à¤¿à¤¤","align-right":"à¤¦à¤¾à¤à¤‚ à¤¸à¤‚à¤°à¥‡à¤–à¤¿à¤¤","align-center":"à¤•à¥‡à¤‚à¤¦à¥à¤° à¤¸à¤‚à¤°à¥‡à¤–à¤¿à¤¤","align-justify":"à¤¦à¥‹à¤¨à¥‹à¤‚ à¤¤à¤°à¤« à¤¸à¤‚à¤°à¥‡à¤–à¤¿à¤¤","insert-column-left":"à¤¬à¤¾à¤ˆà¤‚ à¤“à¤° à¤¸à¥à¤¤à¤‚à¤­ à¤œà¥‹à¤¡à¤¼à¥‡à¤‚","insert-column-right":"à¤¦à¤¾à¤ˆà¤‚ à¤“à¤° à¤¸à¥à¤¤à¤‚à¤­ à¤œà¥‹à¤¡à¤¼à¥‡à¤‚","insert-row-top":"à¤Šà¤ªà¤° à¤ªà¤‚à¤•à¥à¤¤à¤¿ à¤œà¥‹à¤¡à¤¼à¥‡à¤‚","insert-row-bottom":"à¤¨à¥€à¤šà¥‡ à¤ªà¤‚à¤•à¥à¤¤à¤¿ à¤œà¥‹à¤¡à¤¼à¥‡à¤‚","delete-column":"à¤¸à¥à¤¤à¤‚à¤­ à¤¹à¤Ÿà¤¾à¤à¤‚","delete-row":"à¤ªà¤‚à¤•à¥à¤¤à¤¿ à¤¹à¤Ÿà¤¾à¤à¤‚","merge-cells-horizontal":"à¤¸à¥‡à¤²à¥‹à¤‚ à¤•à¥‹ à¤•à¥à¤·à¥ˆà¤¤à¤¿à¤œ à¤®à¤¿à¤²à¤¾à¤à¤‚","merge-cells-vertical":"à¤¸à¥‡à¤²à¥‹à¤‚ à¤•à¥‹ à¤²à¤‚à¤¬à¤µà¤¤ à¤®à¤¿à¤²à¤¾à¤à¤‚","split-cells-horizontal":"à¤¸à¥‡à¤²à¥‹à¤‚ à¤•à¥‹ à¤•à¥à¤·à¥ˆà¤¤à¤¿à¤œ à¤µà¤¿à¤­à¤¾à¤œà¤¿à¤¤ à¤•à¤°à¥‡à¤‚","split-cells-vertical":"à¤¸à¥‡à¤²à¥‹à¤‚ à¤•à¥‹ à¤²à¤‚à¤¬à¤µà¤¤ à¤µà¤¿à¤­à¤¾à¤œà¤¿à¤¤ à¤•à¤°à¥‡à¤‚","delete-table":"à¤¤à¤¾à¤²à¤¿à¤•à¤¾ à¤¹à¤Ÿà¤¾à¤à¤‚","edit-link":"à¤²à¤¿à¤‚à¤• à¤¸à¤‚à¤ªà¤¾à¤¦à¤¿à¤¤ à¤•à¤°à¥‡à¤‚",unlink:"à¤²à¤¿à¤‚à¤• à¤¹à¤Ÿà¤¾à¤à¤‚","visit-link":"à¤²à¤¿à¤‚à¤• à¤ªà¤° à¤œà¤¾à¤à¤‚","link-address":"à¤²à¤¿à¤‚à¤• à¤ªà¤¤à¤¾","link-open-type":"à¤²à¤¿à¤‚à¤• à¤–à¥‹à¤²à¤¨à¥‡ à¤•à¤¾ à¤ªà¥à¤°à¤•à¤¾à¤°","link-open-blank":"à¤¨à¤ˆ à¤µà¤¿à¤‚à¤¡à¥‹","default-font-size":"à¤¡à¤¿à¤«à¤¼à¥‰à¤²à¥à¤Ÿ à¤«à¤¼à¥‰à¤¨à¥à¤Ÿ à¤†à¤•à¤¾à¤°","default-font-family":"à¤¡à¤¿à¤«à¤¼à¥‰à¤²à¥à¤Ÿ à¤«à¤¼à¥‰à¤¨à¥à¤Ÿ","codeblock-ai-auto-comment":"à¤¸à¥à¤µà¤šà¤¾à¤²à¤¿à¤¤ à¤Ÿà¤¿à¤ªà¥à¤ªà¤£à¥€","codeblock-ai-code-explain":"à¤•à¥‹à¤¡ à¤µà¥à¤¯à¤¾à¤–à¥à¤¯à¤¾","placeholder-tell-ai-what-to-do-next":"AI à¤•à¥‹ à¤¬à¤¤à¤¾à¤à¤‚ à¤•à¤¿ à¤…à¤—à¤²à¤¾ à¤•à¤¦à¤® à¤•à¥à¤¯à¤¾ à¤¹à¥‹à¤¨à¤¾ à¤šà¤¾à¤¹à¤¿à¤? à¤‰à¤¦à¤¾à¤¹à¤°à¤£: à¤•à¥ƒà¤ªà¤¯à¤¾ à¤‡à¤¸à¥‡ à¤…à¤‚à¤—à¥à¤°à¥‡à¤œà¥€ à¤®à¥‡à¤‚ à¤…à¤¨à¥à¤µà¤¾à¤¦ à¤•à¤°à¥‡à¤‚","tip-you-can-enter-text-above-or-select-the-operation-below":"à¤¸à¥à¤à¤¾à¤µ: à¤†à¤ª à¤Šà¤ªà¤° à¤Ÿà¥‡à¤•à¥à¤¸à¥à¤Ÿ à¤¦à¤°à¥à¤œ à¤•à¤° à¤¸à¤•à¤¤à¥‡ à¤¹à¥ˆà¤‚ à¤¯à¤¾ à¤¨à¥€à¤šà¥‡ à¤¦à¤¿à¤ à¤—à¤ à¤‘à¤ªà¤°à¥‡à¤¶à¤¨ à¤•à¤¾ à¤šà¤¯à¤¨ à¤•à¤° à¤¸à¤•à¤¤à¥‡ à¤¹à¥ˆà¤‚","you-can-do-the-following":"à¤†à¤ª à¤¨à¤¿à¤®à¥à¤¨à¤²à¤¿à¤–à¤¿à¤¤ à¤•à¤° à¤¸à¤•à¤¤à¥‡ à¤¹à¥ˆà¤‚:","improve-writing":"à¤²à¥‡à¤–à¤¨ à¤¸à¥à¤§à¤¾à¤°à¥‡à¤‚","check-spelling-and-grammar":"à¤µà¤°à¥à¤¤à¤¨à¥€ à¤”à¤° à¤µà¥à¤¯à¤¾à¤•à¤°à¤£ à¤œà¤¾à¤‚à¤šà¥‡à¤‚","make-shorter":"à¤›à¥‹à¤Ÿà¤¾ à¤•à¤°à¥‡à¤‚","make-longer":"à¤²à¤‚à¤¬à¤¾ à¤•à¤°à¥‡à¤‚",translate:"à¤…à¤¨à¥à¤µà¤¾à¤¦ à¤•à¤°à¥‡à¤‚",summarize:"à¤¸à¤¾à¤°à¤¾à¤‚à¤¶","ai-append":"à¤œà¥‹à¤¡à¤¼à¥‡à¤‚","ai-replace":"à¤¬à¤¦à¤²à¥‡à¤‚","ai-cancel":"à¤°à¤¦à¥à¤¦ à¤•à¤°à¥‡à¤‚","ai-continuation":"AI à¤œà¤¾à¤°à¥€ à¤°à¤–à¥‡à¤‚","ai-optimization":"AI à¤…à¤¨à¥à¤•à¥‚à¤²à¤¨","ai-proofreading":"AI à¤ªà¥à¤°à¥‚à¤«à¤°à¥€à¤¡à¤¿à¤‚à¤—","ai-translation":"AI à¤…à¤¨à¥à¤µà¤¾à¤¦"},lr={default:"Default",delete:"Hapus",confirm:"Konfirmasi",cancel:"Batal",resize:"Ubah ukuran",undo:"Batalkan",redo:"Ulangi",brush:"Kuas format",container:"Blok sorot",eraser:"Hapus format",heading:"Teks/Judul","font-family":"Font","font-size":"Ukuran font",bold:"Tebal",italic:"Miring",underline:"Garis bawah",strike:"Garis coret",link:"Tautan","source-code":"Kode sumber",code:"Kode dalam baris",subscript:"Subskrip",superscript:"Superskrip",hr:"Garis pemisah",todo:"Daftar tugas",emoji:"Emoji",highlight:"Sorot","font-color":"Warna font",align:"Rata","line-height":"Tinggi baris","bullet-list":"Daftar tak berurut","ordered-list":"Daftar berurut","indent-decrease":"Kurangi inden","indent-increase":"Tambah inden",break:"Pecah baris",image:"Gambar",video:"Video",attachment:"Lampiran",quote:"Kutipan","code-block":"Blok kode",table:"Tabel",printer:"Cetak",fullscreen:"Layar penuh",ai:"Kecerdasan buatan","menu-group":"Grup menu",paragraph:"Teks",h1:"Judul 1",h2:"Judul 2",h3:"Judul 3",h4:"Judul 4",h5:"Judul 5",h6:"Judul 6",standardColors:"Warna standar",historyColors:"Warna terbaru",insertTable:"Sisipkan tabel",row:"Baris",column:"Kolom","align-left":"Rata kiri","align-right":"Rata kanan","align-center":"Rata tengah","align-justify":"Rata kedua sisi","insert-column-left":"Sisipkan kolom di kiri","insert-column-right":"Sisipkan kolom di kanan","insert-row-top":"Sisipkan baris di atas","insert-row-bottom":"Sisipkan baris di bawah","delete-column":"Hapus kolom","delete-row":"Hapus baris","merge-cells-horizontal":"Gabungkan sel horizontal","merge-cells-vertical":"Gabungkan sel vertikal","split-cells-horizontal":"Pisahkan sel horizontal","split-cells-vertical":"Pisahkan sel vertikal","delete-table":"Hapus tabel","edit-link":"Edit tautan",unlink:"Hapus tautan","visit-link":"Kunjungi tautan","link-address":"Alamat tautan","link-open-type":"Jenis pembukaan tautan","link-open-blank":"Jendela baru","default-font-size":"Ukuran font","default-font-family":"Font default","codeblock-ai-auto-comment":"Komentar otomatis","codeblock-ai-code-explain":"Penjelasan kode","placeholder-tell-ai-what-to-do-next":"Beritahu AI langkah berikutnya? Contoh: Bantu saya terjemahkan ke bahasa Inggris","tip-you-can-enter-text-above-or-select-the-operation-below":"Tip: Anda bisa memasukkan teks di atas atau memilih operasi di bawah","you-can-do-the-following":"Anda dapat melakukan hal-hal berikut:","improve-writing":"Tingkatkan tulisan","check-spelling-and-grammar":"Periksa ejaan dan tata bahasa","make-shorter":"Buat lebih singkat","make-longer":"Buat lebih panjang",translate:"Terjemahkan",summarize:"Ringkas","ai-append":"Tambahkan","ai-replace":"Ganti","ai-cancel":"Batalkan","ai-continuation":"AI Lanjutkan","ai-optimization":"AI Optimasi","ai-proofreading":"AI Koreksi","ai-translation":"AI Terjemahan"},cr={default:"ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ",delete:"å‰Šé™¤",confirm:"ç¢ºèª",cancel:"ã‚­ãƒ£ãƒ³ã‚»ãƒ«",resize:"ã‚µã‚¤ã‚ºèª¿æ•´",undo:"å…ƒã«æˆ»ã™",redo:"ã‚„ã‚Šç›´ã™",brush:"ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆãƒ–ãƒ©ã‚·",container:"ãƒã‚¤ãƒ©ã‚¤ãƒˆãƒ–ãƒ­ãƒƒã‚¯",eraser:"ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã‚¯ãƒªã‚¢",heading:"ãƒ†ã‚­ã‚¹ãƒˆ/è¦‹å‡ºã—","font-family":"ãƒ•ã‚©ãƒ³ãƒˆ","font-size":"ãƒ•ã‚©ãƒ³ãƒˆã‚µã‚¤ã‚º",bold:"å¤ªå­—",italic:"æ–œä½“",underline:"ä¸‹ç·š",strike:"å–ã‚Šæ¶ˆã—ç·š",link:"ãƒªãƒ³ã‚¯","source-code":"ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰",code:"ã‚¤ãƒ³ãƒ©ã‚¤ãƒ³ã‚³ãƒ¼ãƒ‰",subscript:"ä¸‹ä»˜ãæ–‡å­—",superscript:"ä¸Šä»˜ãæ–‡å­—",hr:"åŒºåˆ‡ã‚Šç·š",todo:"ã‚¿ã‚¹ã‚¯ãƒªã‚¹ãƒˆ",emoji:"çµµæ–‡å­—",highlight:"ãƒã‚¤ãƒ©ã‚¤ãƒˆ","font-color":"ãƒ•ã‚©ãƒ³ãƒˆã‚«ãƒ©ãƒ¼",align:"é…ç½®","line-height":"è¡Œã®é«˜ã•","bullet-list":"ç®‡æ¡æ›¸ããƒªã‚¹ãƒˆ","ordered-list":"ç•ªå·ä»˜ããƒªã‚¹ãƒˆ","indent-decrease":"ã‚¤ãƒ³ãƒ‡ãƒ³ãƒˆã‚’æ¸›ã‚‰ã™","indent-increase":"ã‚¤ãƒ³ãƒ‡ãƒ³ãƒˆã‚’å¢—ã‚„ã™",break:"æ”¹è¡Œ",image:"ç”»åƒ",video:"ãƒ“ãƒ‡ã‚ª",attachment:"æ·»ä»˜ãƒ•ã‚¡ã‚¤ãƒ«",quote:"å¼•ç”¨","code-block":"ã‚³ãƒ¼ãƒ‰ãƒ–ãƒ­ãƒƒã‚¯",table:"ãƒ†ãƒ¼ãƒ–ãƒ«",printer:"å°åˆ·",fullscreen:"å…¨ç”»é¢",ai:"AI","menu-group":"ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã‚°ãƒ«ãƒ¼ãƒ—",paragraph:"æ®µè½",h1:"è¦‹å‡ºã— 1",h2:"è¦‹å‡ºã— 2",h3:"è¦‹å‡ºã— 3",h4:"è¦‹å‡ºã— 4",h5:"è¦‹å‡ºã— 5",h6:"è¦‹å‡ºã— 6",standardColors:"æ¨™æº–è‰²",historyColors:"æœ€è¿‘ä½¿ç”¨ã—ãŸè‰²",insertTable:"ãƒ†ãƒ¼ãƒ–ãƒ«æŒ¿å…¥",row:"è¡Œ",column:"åˆ—","align-left":"å·¦æƒãˆ","align-right":"å³æƒãˆ","align-center":"ä¸­å¤®æƒãˆ","align-justify":"ä¸¡ç«¯æƒãˆ","insert-column-left":"å·¦ã«åˆ—ã‚’æŒ¿å…¥","insert-column-right":"å³ã«åˆ—ã‚’æŒ¿å…¥","insert-row-top":"ä¸Šã«è¡Œã‚’æŒ¿å…¥","insert-row-bottom":"ä¸‹ã«è¡Œã‚’æŒ¿å…¥","delete-column":"åˆ—ã‚’å‰Šé™¤","delete-row":"è¡Œã‚’å‰Šé™¤","merge-cells-horizontal":"ã‚»ãƒ«ã‚’æ¨ªã«çµåˆ","merge-cells-vertical":"ã‚»ãƒ«ã‚’ç¸¦ã«çµåˆ","split-cells-horizontal":"ã‚»ãƒ«ã‚’æ¨ªã«åˆ†å‰²","split-cells-vertical":"ã‚»ãƒ«ã‚’ç¸¦ã«åˆ†å‰²","delete-table":"ãƒ†ãƒ¼ãƒ–ãƒ«ã‚’å‰Šé™¤","edit-link":"ãƒªãƒ³ã‚¯ç·¨é›†",unlink:"ãƒªãƒ³ã‚¯è§£é™¤","visit-link":"ãƒªãƒ³ã‚¯ã‚’è¨ªå•","link-address":"ãƒªãƒ³ã‚¯ã‚¢ãƒ‰ãƒ¬ã‚¹","link-open-type":"é–‹ãæ–¹","link-open-blank":"æ–°ã—ã„ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦ã§é–‹ã","default-font-size":"ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆãƒ•ã‚©ãƒ³ãƒˆã‚µã‚¤ã‚º","default-font-family":"ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆãƒ•ã‚©ãƒ³ãƒˆ","codeblock-ai-auto-comment":"è‡ªå‹•ã‚³ãƒ¡ãƒ³ãƒˆ","codeblock-ai-code-explain":"ã‚³ãƒ¼ãƒ‰ã®èª¬æ˜","placeholder-tell-ai-what-to-do-next":"æ¬¡ã«AIã«ä½•ã‚’ã•ã›ã‚‹ã‹æ•™ãˆã¦ãã ã•ã„ã€‚ä¾‹ï¼šè‹±èªã«ç¿»è¨³ã—ã¦","tip-you-can-enter-text-above-or-select-the-operation-below":"ãƒ’ãƒ³ãƒˆï¼šä¸Šã«ãƒ†ã‚­ã‚¹ãƒˆã‚’å…¥åŠ›ã™ã‚‹ã‹ã€ä¸‹ã®æ“ä½œã‚’é¸æŠã§ãã¾ã™","you-can-do-the-following":"æ¬¡ã®æ“ä½œãŒã§ãã¾ã™:","improve-writing":"æ–‡ç« ã‚’æ”¹å–„","check-spelling-and-grammar":"ã‚¹ãƒšãƒ«ã¨æ–‡æ³•ã®ãƒã‚§ãƒƒã‚¯","make-shorter":"çŸ­ãã™ã‚‹","make-longer":"é•·ãã™ã‚‹",translate:"ç¿»è¨³",summarize:"è¦ç´„","ai-append":"è¿½åŠ ","ai-replace":"ç½®æ›","ai-cancel":"ã‚­ãƒ£ãƒ³ã‚»ãƒ«","ai-continuation":"AIç¶™ç¶š","ai-optimization":"AIæœ€é©åŒ–","ai-proofreading":"AIæ ¡æ­£","ai-translation":"AIç¿»è¨³"},dr={default:"ê¸°ë³¸ê°’",delete:"ì‚­ì œ",confirm:"í™•ì¸",cancel:"ì·¨ì†Œ",resize:"í¬ê¸° ì¡°ì •",undo:"ì‹¤í–‰ ì·¨ì†Œ",redo:"ë‹¤ì‹œ ì‹¤í–‰",brush:"í˜•ì‹ ë¸ŒëŸ¬ì‹œ",container:"ê°•ì¡° ë¸”ë¡",eraser:"ì„œì‹ ì§€ìš°ê¸°",heading:"ë³¸ë¬¸/ì œëª©","font-family":"ê¸€ê¼´","font-size":"ê¸€ê¼´ í¬ê¸°",bold:"êµµê²Œ",italic:"ê¸°ìš¸ì„ê¼´",underline:"ë°‘ì¤„",strike:"ì·¨ì†Œì„ ",link:"ë§í¬","source-code":"ì†ŒìŠ¤ ì½”ë“œ",code:"ì¸ë¼ì¸ ì½”ë“œ",subscript:"ì•„ë˜ ì²¨ì",superscript:"ìœ„ ì²¨ì",hr:"êµ¬ë¶„ì„ ",todo:"í•  ì¼ ëª©ë¡",emoji:"ì´ëª¨ì§€",highlight:"ê°•ì¡°","font-color":"ê¸€ê¼´ ìƒ‰ìƒ",align:"ì •ë ¬","line-height":"ì¤„ ê°„ê²©","bullet-list":"ê¸€ë¨¸ë¦¬ ê¸°í˜¸ ëª©ë¡","ordered-list":"ë²ˆí˜¸ ëª©ë¡","indent-decrease":"ë“¤ì—¬ì“°ê¸° ì¤„ì´ê¸°","indent-increase":"ë“¤ì—¬ì“°ê¸° ëŠ˜ë¦¬ê¸°",break:"ì¤„ë°”ê¿ˆ",image:"ì´ë¯¸ì§€",video:"ë¹„ë””ì˜¤",attachment:"ì²¨ë¶€ íŒŒì¼",quote:"ì¸ìš©","code-block":"ì½”ë“œ ë¸”ë¡",table:"í…Œì´ë¸”",printer:"ì¸ì‡„",fullscreen:"ì „ì²´ í™”ë©´",ai:"AI","menu-group":"ë©”ë‰´ ê·¸ë£¹",paragraph:"ë³¸ë¬¸",h1:"ì œëª© 1",h2:"ì œëª© 2",h3:"ì œëª© 3",h4:"ì œëª© 4",h5:"ì œëª© 5",h6:"ì œëª© 6",standardColors:"í‘œì¤€ ìƒ‰ìƒ",historyColors:"ìµœê·¼ ì‚¬ìš© ìƒ‰ìƒ",insertTable:"í…Œì´ë¸” ì‚½ì…",row:"í–‰",column:"ì—´","align-left":"ì™¼ìª½ ì •ë ¬","align-right":"ì˜¤ë¥¸ìª½ ì •ë ¬","align-center":"ê°€ìš´ë° ì •ë ¬","align-justify":"ì–‘ìª½ ë§ì¶¤","insert-column-left":"ì™¼ìª½ì— ì—´ ì‚½ì…","insert-column-right":"ì˜¤ë¥¸ìª½ì— ì—´ ì‚½ì…","insert-row-top":"ìœ„ìª½ì— í–‰ ì‚½ì…","insert-row-bottom":"ì•„ë˜ìª½ì— í–‰ ì‚½ì…","delete-column":"ì—´ ì‚­ì œ","delete-row":"í–‰ ì‚­ì œ","merge-cells-horizontal":"ì…€ ë³‘í•©","merge-cells-vertical":"ì…€ ì„¸ë¡œ ë³‘í•©","split-cells-horizontal":"ì…€ ê°€ë¡œ ë¶„í• ","split-cells-vertical":"ì…€ ì„¸ë¡œ ë¶„í• ","delete-table":"í…Œì´ë¸” ì‚­ì œ","edit-link":"ë§í¬ í¸ì§‘",unlink:"ë§í¬ í•´ì œ","visit-link":"ë§í¬ ë°©ë¬¸","link-address":"ë§í¬ ì£¼ì†Œ","link-open-type":"ì—´ê¸° ìœ í˜•","link-open-blank":"ìƒˆ ì°½","default-font-size":"ê¸°ë³¸ ê¸€ê¼´ í¬ê¸°","default-font-family":"ê¸°ë³¸ ê¸€ê¼´","codeblock-ai-auto-comment":"ìë™ ì£¼ì„","codeblock-ai-code-explain":"ì½”ë“œ ì„¤ëª…","placeholder-tell-ai-what-to-do-next":"AIì—ê²Œ ë‹¤ìŒ ì‘ì—…ì„ ì§€ì‹œí•˜ì„¸ìš”. ì˜ˆ: ì˜ì–´ë¡œ ë²ˆì—­í•´ ì£¼ì„¸ìš”","tip-you-can-enter-text-above-or-select-the-operation-below":"íŒ: ìœ„ì— í…ìŠ¤íŠ¸ë¥¼ ì…ë ¥í•˜ê±°ë‚˜ ì•„ë˜ ì‘ì—…ì„ ì„ íƒí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤","you-can-do-the-following":"ë‹¤ìŒ ì‘ì—…ì„ ìˆ˜í–‰í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤:","improve-writing":"ê¸€ì“°ê¸° ê°œì„ ","check-spelling-and-grammar":"ì² ì ë° ë¬¸ë²• ê²€ì‚¬","make-shorter":"ì§§ê²Œ ë§Œë“¤ê¸°","make-longer":"ê¸¸ê²Œ ë§Œë“¤ê¸°",translate:"ë²ˆì—­",summarize:"ìš”ì•½","ai-append":"ì¶”ê°€","ai-replace":"ëŒ€ì²´","ai-cancel":"ì·¨ì†Œ","ai-continuation":"AI ê³„ì†","ai-optimization":"AI ìµœì í™”","ai-proofreading":"AI êµì •","ai-translation":"AI ë²ˆì—­"},ur={default:"à¸„à¹ˆà¸²à¹€à¸£à¸´à¹ˆà¸¡à¸•à¹‰à¸™",delete:"à¸¥à¸š",confirm:"à¸¢à¸·à¸™à¸¢à¸±à¸™",cancel:"à¸¢à¸à¹€à¸¥à¸´à¸",resize:"à¸›à¸£à¸±à¸šà¸‚à¸™à¸²à¸”",undo:"à¹€à¸¥à¸´à¸à¸—à¸³",redo:"à¸—à¸³à¸‹à¹‰à¸³",brush:"à¹à¸›à¸£à¸‡à¸£à¸¹à¸›à¹à¸šà¸š",container:"à¸šà¸¥à¹‡à¸­à¸à¹„à¸®à¹„à¸¥à¸—à¹Œ",eraser:"à¸¥à¹‰à¸²à¸‡à¸£à¸¹à¸›à¹à¸šà¸š",heading:"à¸‚à¹‰à¸­à¸„à¸§à¸²à¸¡/à¸«à¸±à¸§à¸‚à¹‰à¸­","font-family":"à¹à¸šà¸šà¸­à¸±à¸à¸©à¸£","font-size":"à¸‚à¸™à¸²à¸”à¸•à¸±à¸§à¸­à¸±à¸à¸©à¸£",bold:"à¸•à¸±à¸§à¸«à¸™à¸²",italic:"à¸•à¸±à¸§à¹€à¸­à¸µà¸¢à¸‡",underline:"à¸‚à¸µà¸”à¹€à¸ªà¹‰à¸™à¹ƒà¸•à¹‰",strike:"à¸‚à¸µà¸”à¸†à¹ˆà¸²",link:"à¸¥à¸´à¸‡à¸à¹Œ","source-code":"à¹‚à¸„à¹‰à¸”à¸•à¹‰à¸™à¸‰à¸šà¸±à¸š",code:"à¹‚à¸„à¹‰à¸”à¹ƒà¸™à¸šà¸£à¸£à¸—à¸±à¸”",subscript:"à¸•à¸±à¸§à¸«à¹‰à¸­à¸¢",superscript:"à¸•à¸±à¸§à¸¢à¸",hr:"à¹€à¸ªà¹‰à¸™à¹à¸šà¹ˆà¸‡",todo:"à¸£à¸²à¸¢à¸à¸²à¸£à¸ªà¸´à¹ˆà¸‡à¸—à¸µà¹ˆà¸•à¹‰à¸­à¸‡à¸—à¸³",emoji:"à¸­à¸µà¹‚à¸¡à¸ˆà¸´",highlight:"à¹„à¸®à¹„à¸¥à¸—à¹Œ","font-color":"à¸ªà¸µà¸•à¸±à¸§à¸­à¸±à¸à¸©à¸£",align:"à¸ˆà¸±à¸”à¹à¸™à¸§","line-height":"à¸„à¸§à¸²à¸¡à¸ªà¸¹à¸‡à¸šà¸£à¸£à¸—à¸±à¸”","bullet-list":"à¸£à¸²à¸¢à¸à¸²à¸£à¸ˆà¸¸à¸”","ordered-list":"à¸£à¸²à¸¢à¸à¸²à¸£à¸¥à¸³à¸”à¸±à¸š","indent-decrease":"à¸¥à¸”à¸à¸²à¸£à¹€à¸¢à¸·à¹‰à¸­à¸‡","indent-increase":"à¹€à¸à¸´à¹ˆà¸¡à¸à¸²à¸£à¹€à¸¢à¸·à¹‰à¸­à¸‡",break:"à¸‚à¸¶à¹‰à¸™à¸šà¸£à¸£à¸—à¸±à¸”à¹ƒà¸«à¸¡à¹ˆ",image:"à¸£à¸¹à¸›à¸ à¸²à¸",video:"à¸§à¸´à¸”à¸µà¹‚à¸­",attachment:"à¹„à¸Ÿà¸¥à¹Œà¹à¸™à¸š",quote:"à¸­à¹‰à¸²à¸‡à¸­à¸´à¸‡","code-block":"à¸šà¸¥à¹‡à¸­à¸à¹‚à¸„à¹‰à¸”",table:"à¸•à¸²à¸£à¸²à¸‡",printer:"à¸à¸´à¸¡à¸à¹Œ",fullscreen:"à¹€à¸•à¹‡à¸¡à¸ˆà¸­",ai:"à¸›à¸±à¸à¸à¸²à¸›à¸£à¸°à¸”à¸´à¸©à¸à¹Œ","menu-group":"à¸à¸¥à¸¸à¹ˆà¸¡à¹€à¸¡à¸™à¸¹",paragraph:"à¸‚à¹‰à¸­à¸„à¸§à¸²à¸¡",h1:"à¸«à¸±à¸§à¸‚à¹‰à¸­ 1",h2:"à¸«à¸±à¸§à¸‚à¹‰à¸­ 2",h3:"à¸«à¸±à¸§à¸‚à¹‰à¸­ 3",h4:"à¸«à¸±à¸§à¸‚à¹‰à¸­ 4",h5:"à¸«à¸±à¸§à¸‚à¹‰à¸­ 5",h6:"à¸«à¸±à¸§à¸‚à¹‰à¸­ 6",standardColors:"à¸ªà¸µà¸¡à¸²à¸•à¸£à¸à¸²à¸™",historyColors:"à¹ƒà¸Šà¹‰à¸¥à¹ˆà¸²à¸ªà¸¸à¸”",insertTable:"à¹à¸—à¸£à¸à¸•à¸²à¸£à¸²à¸‡",row:"à¹à¸–à¸§",column:"à¸„à¸­à¸¥à¸±à¸¡à¸™à¹Œ","align-left":"à¸ˆà¸±à¸”à¸Šà¸´à¸”à¸‹à¹‰à¸²à¸¢","align-right":"à¸ˆà¸±à¸”à¸Šà¸´à¸”à¸‚à¸§à¸²","align-center":"à¸ˆà¸±à¸”à¸à¸¶à¹ˆà¸‡à¸à¸¥à¸²à¸‡","align-justify":"à¸ˆà¸±à¸”à¹€à¸•à¹‡à¸¡à¸«à¸™à¹‰à¸²","insert-column-left":"à¹à¸—à¸£à¸à¸„à¸­à¸¥à¸±à¸¡à¸™à¹Œà¸”à¹‰à¸²à¸™à¸‹à¹‰à¸²à¸¢","insert-column-right":"à¹à¸—à¸£à¸à¸„à¸­à¸¥à¸±à¸¡à¸™à¹Œà¸”à¹‰à¸²à¸™à¸‚à¸§à¸²","insert-row-top":"à¹à¸—à¸£à¸à¹à¸–à¸§à¸”à¹‰à¸²à¸™à¸šà¸™","insert-row-bottom":"à¹à¸—à¸£à¸à¹à¸–à¸§à¸”à¹‰à¸²à¸™à¸¥à¹ˆà¸²à¸‡","delete-column":"à¸¥à¸šà¸„à¸­à¸¥à¸±à¸¡à¸™à¹Œ","delete-row":"à¸¥à¸šà¹à¸–à¸§","merge-cells-horizontal":"à¸œà¸ªà¸²à¸™à¹€à¸‹à¸¥à¸¥à¹Œà¸•à¸²à¸¡à¹à¸™à¸§à¸™à¸­à¸™","merge-cells-vertical":"à¸œà¸ªà¸²à¸™à¹€à¸‹à¸¥à¸¥à¹Œà¸•à¸²à¸¡à¹à¸™à¸§à¸•à¸±à¹‰à¸‡","split-cells-horizontal":"à¹à¸¢à¸à¹€à¸‹à¸¥à¸¥à¹Œà¹à¸™à¸§à¸™à¸­à¸™","split-cells-vertical":"à¹à¸¢à¸à¹€à¸‹à¸¥à¸¥à¹Œà¹à¸™à¸§à¸•à¸±à¹‰à¸‡","delete-table":"à¸¥à¸šà¸•à¸²à¸£à¸²à¸‡","edit-link":"à¹à¸à¹‰à¹„à¸‚à¸¥à¸´à¸‡à¸à¹Œ",unlink:"à¸¢à¸à¹€à¸¥à¸´à¸à¸à¸²à¸£à¹€à¸Šà¸·à¹ˆà¸­à¸¡à¹‚à¸¢à¸‡","visit-link":"à¹€à¸¢à¸µà¹ˆà¸¢à¸¡à¸Šà¸¡à¸¥à¸´à¸‡à¸à¹Œ","link-address":"à¸—à¸µà¹ˆà¸­à¸¢à¸¹à¹ˆà¸¥à¸´à¸‡à¸à¹Œ","link-open-type":"à¸§à¸´à¸˜à¸µà¸à¸²à¸£à¹€à¸›à¸´à¸”","link-open-blank":"à¸«à¸™à¹‰à¸²à¸•à¹ˆà¸²à¸‡à¹ƒà¸«à¸¡à¹ˆ","default-font-size":"à¸‚à¸™à¸²à¸”à¸•à¸±à¸§à¸­à¸±à¸à¸©à¸£","default-font-family":"à¹à¸šà¸šà¸­à¸±à¸à¸©à¸£à¹€à¸£à¸´à¹ˆà¸¡à¸•à¹‰à¸™","codeblock-ai-auto-comment":"à¸„à¸­à¸¡à¹€à¸¡à¸™à¸•à¹Œà¸­à¸±à¸•à¹‚à¸™à¸¡à¸±à¸•à¸´","codeblock-ai-code-explain":"à¸­à¸˜à¸´à¸šà¸²à¸¢à¹‚à¸„à¹‰à¸”","placeholder-tell-ai-what-to-do-next":"à¸šà¸­à¸ AI à¸§à¹ˆà¸²à¸•à¹‰à¸­à¸‡à¸—à¸³à¸­à¸°à¹„à¸£à¸•à¹ˆà¸­à¹„à¸› à¹€à¸Šà¹ˆà¸™ à¸Šà¹ˆà¸§à¸¢à¹à¸›à¸¥à¹€à¸›à¹‡à¸™à¸ à¸²à¸©à¸²à¸­à¸±à¸‡à¸à¸¤à¸©","tip-you-can-enter-text-above-or-select-the-operation-below":"à¹€à¸„à¸¥à¹‡à¸”à¸¥à¸±à¸š: à¸„à¸¸à¸“à¸ªà¸²à¸¡à¸²à¸£à¸–à¸›à¹‰à¸­à¸™à¸‚à¹‰à¸­à¸„à¸§à¸²à¸¡à¸‚à¹‰à¸²à¸‡à¸šà¸™à¸«à¸£à¸·à¸­à¹€à¸¥à¸·à¸­à¸à¸à¸²à¸£à¸”à¸³à¹€à¸™à¸´à¸™à¸à¸²à¸£à¸”à¹‰à¸²à¸™à¸¥à¹ˆà¸²à¸‡","you-can-do-the-following":"à¸„à¸¸à¸“à¸ªà¸²à¸¡à¸²à¸£à¸–à¸—à¸³à¸ªà¸´à¹ˆà¸‡à¸•à¹ˆà¸­à¹„à¸›à¸™à¸µà¹‰:","improve-writing":"à¸›à¸£à¸±à¸šà¸›à¸£à¸¸à¸‡à¸à¸²à¸£à¹€à¸‚à¸µà¸¢à¸™","check-spelling-and-grammar":"à¸•à¸£à¸§à¸ˆà¸ªà¸­à¸šà¸à¸²à¸£à¸ªà¸°à¸à¸”à¹à¸¥à¸°à¹„à¸§à¸¢à¸²à¸à¸£à¸“à¹Œ","make-shorter":"à¸—à¸³à¹ƒà¸«à¹‰à¸ªà¸±à¹‰à¸™à¸¥à¸‡","make-longer":"à¸—à¸³à¹ƒà¸«à¹‰à¸¢à¸²à¸§à¸‚à¸¶à¹‰à¸™",translate:"à¹à¸›à¸¥",summarize:"à¸ªà¸£à¸¸à¸›","ai-append":"à¹€à¸à¸´à¹ˆà¸¡","ai-replace":"à¹à¸—à¸™à¸—à¸µà¹ˆ","ai-cancel":"à¸¢à¸à¹€à¸¥à¸´à¸","ai-continuation":"AI à¹€à¸‚à¸µà¸¢à¸™à¸•à¹ˆà¸­","ai-optimization":"AI à¸›à¸£à¸±à¸šà¹à¸•à¹ˆà¸‡","ai-proofreading":"AI à¸à¸´à¸ªà¸¹à¸ˆà¸™à¹Œà¸­à¸±à¸à¸©à¸£","ai-translation":"AI à¹à¸›à¸¥"},hr={default:"Máº·c Ä‘á»‹nh",delete:"XÃ³a",confirm:"XÃ¡c nháº­n",cancel:"Há»§y",resize:"Äiá»u chá»‰nh kÃ­ch thÆ°á»›c",undo:"HoÃ n tÃ¡c",redo:"LÃ m láº¡i",brush:"Chá»•i Ä‘á»‹nh dáº¡ng",container:"Khá»‘i ná»•i báº­t",eraser:"XÃ³a Ä‘á»‹nh dáº¡ng",heading:"Ná»™i dung/Äáº§u Ä‘á»","font-family":"PhÃ´ng chá»¯","font-size":"Cá»¡ chá»¯",bold:"In Ä‘áº­m",italic:"In nghiÃªng",underline:"Gáº¡ch chÃ¢n",strike:"Gáº¡ch ngang",link:"LiÃªn káº¿t","source-code":"MÃ£ nguá»“n",code:"MÃ£ trong dÃ²ng",subscript:"Chá»‰ sá»‘ dÆ°á»›i",superscript:"Chá»‰ sá»‘ trÃªn",hr:"ÄÆ°á»ng phÃ¢n cÃ¡ch",todo:"Danh sÃ¡ch cÃ´ng viá»‡c",emoji:"Biá»ƒu tÆ°á»£ng cáº£m xÃºc",highlight:"ÄÃ¡nh dáº¥u","font-color":"MÃ u chá»¯",align:"CÄƒn chá»‰nh","line-height":"Chiá»u cao dÃ²ng","bullet-list":"Danh sÃ¡ch dáº¥u cháº¥m","ordered-list":"Danh sÃ¡ch cÃ³ thá»© tá»±","indent-decrease":"Giáº£m thá»¥t lá»","indent-increase":"TÄƒng thá»¥t lá»",break:"Xuá»‘ng dÃ²ng",image:"HÃ¬nh áº£nh",video:"Video",attachment:"Tá»‡p Ä‘Ã­nh kÃ¨m",quote:"TrÃ­ch dáº«n","code-block":"Khá»‘i mÃ£",table:"Báº£ng",printer:"In",fullscreen:"ToÃ n mÃ n hÃ¬nh",ai:"TrÃ­ tuá»‡ nhÃ¢n táº¡o","menu-group":"NhÃ³m menu",paragraph:"Ná»™i dung",h1:"TiÃªu Ä‘á» 1",h2:"TiÃªu Ä‘á» 2",h3:"TiÃªu Ä‘á» 3",h4:"TiÃªu Ä‘á» 4",h5:"TiÃªu Ä‘á» 5",h6:"TiÃªu Ä‘á» 6",standardColors:"MÃ u tiÃªu chuáº©n",historyColors:"MÃ u Ä‘Ã£ dÃ¹ng gáº§n Ä‘Ã¢y",insertTable:"ChÃ¨n báº£ng",row:"HÃ ng",column:"Cá»™t","align-left":"CÄƒn trÃ¡i","align-right":"CÄƒn pháº£i","align-center":"CÄƒn giá»¯a","align-justify":"CÄƒn Ä‘á»u","insert-column-left":"ChÃ¨n cá»™t bÃªn trÃ¡i","insert-column-right":"ChÃ¨n cá»™t bÃªn pháº£i","insert-row-top":"ChÃ¨n hÃ ng phÃ­a trÃªn","insert-row-bottom":"ChÃ¨n hÃ ng phÃ­a dÆ°á»›i","delete-column":"XÃ³a cá»™t hiá»‡n táº¡i","delete-row":"XÃ³a hÃ ng hiá»‡n táº¡i","merge-cells-horizontal":"Gá»™p Ã´ ngang","merge-cells-vertical":"Gá»™p Ã´ dá»c","split-cells-horizontal":"TÃ¡ch Ã´ ngang","split-cells-vertical":"TÃ¡ch Ã´ dá»c","delete-table":"XÃ³a báº£ng","edit-link":"Chá»‰nh sá»­a liÃªn káº¿t",unlink:"Há»§y liÃªn káº¿t","visit-link":"Truy cáº­p liÃªn káº¿t","link-address":"Äá»‹a chá»‰ liÃªn káº¿t","link-open-type":"CÃ¡ch má»Ÿ liÃªn káº¿t","link-open-blank":"Cá»­a sá»• má»›i","default-font-size":"Cá»¡ chá»¯","default-font-family":"PhÃ´ng chá»¯ máº·c Ä‘á»‹nh","codeblock-ai-auto-comment":"Nháº­n xÃ©t tá»± Ä‘á»™ng","codeblock-ai-code-explain":"Giáº£i thÃ­ch mÃ£","placeholder-tell-ai-what-to-do-next":"NÃ³i vá»›i AI bÆ°á»›c tiáº¿p theo lÃ  gÃ¬? VÃ­ dá»¥: GiÃºp tÃ´i dá»‹ch sang tiáº¿ng Anh","tip-you-can-enter-text-above-or-select-the-operation-below":"Máº¹o: Báº¡n cÃ³ thá»ƒ nháº­p vÄƒn báº£n phÃ­a trÃªn hoáº·c chá»n thao tÃ¡c bÃªn dÆ°á»›i","you-can-do-the-following":"Báº¡n cÃ³ thá»ƒ thá»±c hiá»‡n cÃ¡c thao tÃ¡c sau:","improve-writing":"Cáº£i thiá»‡n bÃ i viáº¿t","check-spelling-and-grammar":"Kiá»ƒm tra chÃ­nh táº£ vÃ  ngá»¯ phÃ¡p","make-shorter":"RÃºt gá»n","make-longer":"Má»Ÿ rá»™ng ná»™i dung",translate:"Dá»‹ch",summarize:"TÃ³m táº¯t","ai-append":"ThÃªm vÃ o","ai-replace":"Thay tháº¿","ai-cancel":"Há»§y","ai-continuation":"AI Viáº¿t tiáº¿p","ai-optimization":"AI Tá»‘i Æ°u hÃ³a","ai-proofreading":"AI Hiá»‡u Ä‘Ã­nh","ai-translation":"AI Dá»‹ch"},be=ni({html:!0,linkify:!0,typographer:!0});be.use(oi,"container-wrapper",{validate:function(n){return!0},render:function(n,e){return n[e].nesting===1?`<div class="container-wrapper ${n[e].info.trim().split(" ")[0]}">`:"</div>"}});be.use(ri,{enabled:!0,label:!0});const q=new si({headingStyle:"atx",hr:"---",bulletListMarker:"-",codeBlockStyle:"fenced",fence:"```",emDelimiter:"_",strongDelimiter:"**",linkStyle:"inlined",linkReferenceStyle:"full",preformattedCode:!1});q.use(ai);q.use(li);q.addRule("strikethrough",{filter:["del","s","strike"],replacement:function(n){return"~~"+n+"~~"}});q.keep(n=>!(n&&n.nodeName==="DIV"));q.addRule("checkbox",{filter:n=>{if(n.tagName==="INPUT"&&n.getAttribute("type")==="checkbox")return!0;if(n.tagName==="LABEL"&&n.firstElementChild?.tagName==="INPUT"&&n.firstElementChild?.getAttribute("type")==="checkbox")return!0},replacement:function(n,e){return e.type==="checkbox"?e.checked?"[x]":"[ ]":e.tagName==="LABEL"&&e.firstElementChild?.type==="checkbox"?e.firstElementChild.checked?"[x]":"[ ]":null}});q.addRule("container",{filter:n=>n.tagName==="DIV"&&n.classList.contains("container-wrapper"),replacement:function(n,e){let t="";for(let i of e.classList)if(i!="container-wrapper"){t=i;break}return`:::${t}
`+n.trim()+`
:::
`}});const ne=n=>{if(!n)return n;const e=be.render(n).trim();return e?G(e.includes("<pre")?e:e.replace(/\n/g,"")):n},pr=n=>{if(!n)return n;const t=new DOMParser().parseFromString(n,"text/html");t.querySelectorAll("colgroup").forEach(s=>s.remove()),t.querySelectorAll("li").forEach(s=>{const a=s.querySelector("div");if(a&&!a.querySelector("img")){if(a.firstElementChild){const c=document.createDocumentFragment();c.append(" "),a.firstElementChild.childNodes.forEach(d=>{c.append(d.cloneNode(!0))}),a.replaceWith(c)}}});const r=t.body.innerHTML;return q.turndown(r)};b("aie-header",tt);b("aie-footer",it);const mr={theme:"light",lang:"zh",contentRetentionKey:"ai-editor-content",editable:!0,draggable:!0,placeholder:"",toolbarSize:"small"};class gr extends Kt{constructor(t,i={}){super(i);u(this,"aiEditor");this.aiEditor=t}parseHtml(t){function i(r){return new window.DOMParser().parseFromString(`<body>${r}</body>`,"text/html").body}return ii.fromSchema(this.schema).parse(i(t),{}).content}parseMarkdown(t){const i=ne(t);return this.parseHtml(i)}insertMarkdown(t){this.commands.insertContent(ne(t))}}class fr{constructor(e){u(this,"customLayout",!1);u(this,"innerEditor");u(this,"container");u(this,"header");u(this,"mainEl");u(this,"footer");u(this,"options");u(this,"eventComponents",[]);this.options={...mr,...e},this.initI18nAndInnerEditor()}initI18nAndInnerEditor(){const e=this.options.i18n||{},t={de:{translation:{...or,...e.de}},en:{translation:{...nr,...e.en}},pt:{translation:{...rr,...e.pt}},zh:{translation:{...ir,...e.zh}},es:{translation:{...sr,...e.es}},hi:{translation:{...ar,...e.hi}},id:{translation:{...lr,...e.id}},ja:{translation:{...cr,...e.ja}},ko:{translation:{...dr,...e.ko}},th:{translation:{...ur,...e.th}},vi:{translation:{...hr,...e.vi}}};for(let i of Object.keys(e))i!="de"&&i!="en"&&i!="pt"&&i!="zh"&&(t[i]={translation:{...e[i]}});Ee.init({lng:this.options.lang,resources:t},(i,o)=>{this.initInnerEditor()})}initInnerEditor(){const e=typeof this.options.element=="string"?document.querySelector(this.options.element):this.options.element;e.classList.add(`aie-theme-${this.options.theme}`),this.container=e.querySelector(".aie-container"),this.container?this.customLayout=!0:(this.container=document.createElement("div"),this.container.classList.add("aie-container")),e.appendChild(this.container),this.mainEl=document.createElement("div"),this.mainEl.style.flexGrow="1",this.mainEl.style.overflow="auto",this.header=new tt,this.eventComponents.push(this.header),this.footer=new it,this.footer.initDraggable(this.options.draggable),this.eventComponents.push(this.footer);let t=this.options.content;if(typeof t=="string"&&(this.options.contentIsMarkdown?t=ne(t):t=G(t)),this.options.contentRetention&&this.options.contentRetentionKey){const i=localStorage.getItem(this.options.contentRetentionKey);if(i)try{t=JSON.parse(i)}catch{}}this.innerEditor=new gr(this,{...this.options,element:this.mainEl,content:t,editable:this.options.editable,extensions:this.getExtensions(),onCreate:i=>this.onCreate(i),onTransaction:i=>this.onTransaction(i),onFocus:()=>this.options?.onFocus?.(this),onBlur:()=>this.options?.onBlur?.(this),onDestroy:()=>this.options?.onDestroy?.(this),editorProps:{attributes:{class:"aie-content"}}})}getExtensions(){let e=tr(this,this.options);if(this.options.onCreateBefore){const t=this.options.onCreateBefore(this,e);t&&(e=t)}return e}onCreate(e){this.innerEditor.view.dom.style.height="calc(100% - 20px)",this.eventComponents.forEach(r=>{r.onCreate&&r.onCreate(e,this.options)}),(this.container.querySelector(".aie-container-header")||this.container).appendChild(this.header),(this.container.querySelector(".aie-container-main")||this.container).appendChild(this.mainEl),(this.container.querySelector(".aie-container-footer")||this.container).appendChild(this.footer),this.options.ai&&z.init(this.innerEditor,this.options.ai),this.options.onCreated&&this.options.onCreated(this)}onTransaction(e){if(this.eventComponents.forEach(t=>{t.onTransaction&&t.onTransaction(e)}),!e.transaction.getMeta("ignoreChanged")&&(this.options.onTransaction?.(this,e.transaction),e.transaction.docChanged&&this.options.onChange&&this.options.onChange(this),e.transaction.docChanged&&this.options.contentRetention&&this.options.contentRetentionKey)){const t=e.editor.getHTML();if(t==="<p></p>"||t==="")localStorage.removeItem(this.options.contentRetentionKey);else{const i=e.editor.getJSON();localStorage.setItem(this.options.contentRetentionKey,JSON.stringify(i))}}}getHtml(){return this.innerEditor.getHTML()}getJson(){return this.innerEditor.getJSON()}getText(){return this.innerEditor.getText()}getSelectedText(){const e=this.innerEditor.state.selection;return e.empty?"":Ue(this.innerEditor.state.doc,{from:e.from,to:e.to})}getMarkdown(){return pr(this.getHtml())}getOptions(){return this.options}getAttributes(e){return this.innerEditor.getAttributes(e)}setAttributes(e,t){this.innerEditor.commands.updateAttributes(e,t)}isActive(e,t){return typeof e=="object"||!t?this.innerEditor.isActive(e):this.innerEditor.isActive(e,t)}commands(){return this.innerEditor.commands}commandsChain(){return this.innerEditor.chain()}getOutline(){const e=this.innerEditor.state.doc,t=[];return e.descendants((i,o)=>{if(i.type.name==="heading"){const r=`aie-heading-${t.length+1}`;if(i.attrs.id!==r){const{state:{tr:a},view:{dispatch:l}}=this.innerEditor;l(a.setNodeMarkup(o,void 0,{...i.attrs,id:r}).setMeta("ignoreChanged",!0))}let s="";i.descendants(a=>{a.text&&(s+=a.text)}),t.push({id:r,text:s,level:i.attrs.level,pos:o,size:i.nodeSize})}}),t}focus(){return this.innerEditor.commands.focus(),this}focusPos(e){return this.innerEditor.commands.focus(e),this}focusStart(){return this.innerEditor.commands.focus("start"),this}focusEnd(){return this.innerEditor.commands.focus("end"),this}isFocused(){return this.innerEditor.isFocused}blur(){return this.innerEditor.commands.blur(),this}insert(e){return typeof e=="string"&&(e=G(e)),this.innerEditor.commands.insertContent(e),this}insertMarkdown(e){return this.innerEditor.insertMarkdown(e),this}setEditable(e){return this.options.editable=e,this.innerEditor.setEditable(e,!0),this.eventComponents.forEach(t=>{t.onEditableChange(e)}),this}setContent(e,t){return typeof e=="string"&&(e=G(e)),t===!1?this.clear().insert(e):this.focus().clear().insert(e),this}setMarkdownContent(e){const t=ne(e);return this.setContent(t)}clear(){return this.innerEditor.commands.clearContent(!0),this}isEmpty(){return this.innerEditor.isEmpty}changeLang(e){return this.destroy(),this.options.lang=e,Ee.changeLanguage(e),this.initInnerEditor(),this}changeTheme(e){const t=typeof this.options.element=="string"?document.querySelector(this.options.element):this.options.element;e||(e=this.options.theme==="dark"?"light":"dark"),t.classList.remove(`aie-theme-${this.options.theme}`),t.classList.add(`aie-theme-${e}`),this.options.theme=e}removeRetention(){return this.options.contentRetentionKey&&localStorage.removeItem(this.options.contentRetentionKey),this}destroy(){this.options.onDestroy?.(this),this.innerEditor.destroy(),this.eventComponents=[],this.customLayout?(this.header?.remove(),this.mainEl.remove(),this.footer?.remove()):this.container.remove()}isDestroyed(){return this.innerEditor.isDestroyed}}let J=0;window.aiEditor=new fr({element:"#aiEditor",placeholder:"Start typing or use AI features...",lang:"en",contentRetention:!0,content:"Welcome to AiEditor - your AI-powered writing assistant. Select text and use the AI bubble menu, or type `/` for AI commands.",container:{defaultType:"default",typeItems:["default","info","warning","danger"]},image:{allowBase64:!0,defaultSize:600},attachment:{uploadUrl:"/v1/upload/file"},link:{autolink:!0,bubbleMenuItems:["Edit","UnLink","visit"]},textSelectionBubbleMenu:{enable:!0,items:["ai","Bold","Italic","Underline","Strike","Code","comment"]},codeBlock:{languages:[{name:"Auto",value:"auto"},{name:"Plain Text",value:"plaintext",alias:["text","txt"]},{name:"JavaScript",value:"javascript",alias:["js"]},{name:"TypeScript",value:"typescript",alias:["ts"]},{name:"Python",value:"python",alias:["py"]},{name:"Java",value:"java"},{name:"C++",value:"cpp",alias:["c++"]},{name:"C",value:"c",alias:["h"]},{name:"C#",value:"csharp",alias:["cs"]},{name:"Go",value:"go",alias:["golang"]},{name:"Rust",value:"rust",alias:["rs"]},{name:"Ruby",value:"ruby",alias:["rb"]},{name:"PHP",value:"php"},{name:"Swift",value:"swift"},{name:"Kotlin",value:"kotlin",alias:["kt"]},{name:"SQL",value:"sql"},{name:"HTML",value:"html"},{name:"CSS",value:"css"},{name:"SCSS",value:"scss"},{name:"JSON",value:"json"},{name:"YAML",value:"yaml",alias:["yml"]},{name:"Markdown",value:"markdown",alias:["md"]},{name:"Bash",value:"bash",alias:["sh","shell"]},{name:"PowerShell",value:"powershell",alias:["ps1"]},{name:"Docker",value:"dockerfile",alias:["docker"]}]},emoji:{},ai:{models:{openrouter:{apiKey:"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",model:localStorage.getItem("aiModel")||"anthropic/claude-3.5-sonnet",maxTokens:4096,temperature:.7}},bubblePanelEnable:!0,bubblePanelModel:"openrouter",commandsEnable:!0,bubblePanelMenus:["ai-continuation","ai-optimization","ai-proofreading","translate"],commands:[{name:"AI Continue",icon:"âœ¨",prompt:"Continue writing from where the text ends. Maintain the same tone, style, and context.",text:"focusBefore"},{name:"Summarize",icon:"ğŸ“",prompt:`Summarize the following text concisely while keeping the key points:

{content}`,text:"selected"},{name:"Expand",icon:"ğŸ“–",prompt:`Expand on the following text with more details, examples, and explanations:

{content}`,text:"selected"},{name:"Simplify",icon:"ğŸ¯",prompt:`Simplify the following text to make it easier to understand:

{content}`,text:"selected"},{name:"Professional",icon:"ğŸ’¼",prompt:`Rewrite the following text in a more professional and formal tone:

{content}`,text:"selected"},{name:"Casual",icon:"ğŸ˜Š",prompt:`Rewrite the following text in a more casual and friendly tone:

{content}`,text:"selected"},{name:"Fix Grammar",icon:"âœ“",prompt:`Fix any grammar, spelling, and punctuation errors in the following text. Return only the corrected text:

{content}`,text:"selected"},{name:"Make Shorter",icon:"ğŸ“‰",prompt:`Make the following text more concise without losing important information:

{content}`,text:"selected"},{name:"Make Longer",icon:"ğŸ“ˆ",prompt:`Expand the following text with more details while maintaining the original meaning:

{content}`,text:"selected"}],translate:{translateMenuItems:[{title:"English",language:"English"},{title:"FranÃ§ais",language:"French"},{title:"EspaÃ±ol",language:"Spanish"},{title:"Deutsch",language:"German"},{title:"Italiano",language:"Italian"},{title:"PortuguÃªs",language:"Portuguese"},{title:"ä¸­æ–‡",language:"Chinese"},{title:"æ—¥æœ¬èª",language:"Japanese"},{title:"í•œêµ­ì–´",language:"Korean"},{title:"Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©",language:"Arabic"},{title:"Ğ ÑƒÑÑĞºĞ¸Ğ¹",language:"Russian"}],prompt:(n,e)=>`Translate the following text to ${n}. Return only the translated text without any explanations:

${e}`},codeBlock:{codeComments:{model:"openrouter",prompt:"Add helpful comments to explain the following code. Return the code with comments added:\n\n```\n{content}\n```"},codeExplain:{model:"openrouter",prompt:"Explain what the following code does in simple terms:\n\n```\n{content}\n```"}},onTokenConsume:(n,e,t)=>{J+=t;const i=document.getElementById("tokenCount");i&&(i.textContent=J.toLocaleString()),localStorage.setItem("totalTokensUsed",J.toString())}},i18n:{en:{ai:"AI","ai-continuation":"Continue Writing","ai-optimization":"Improve Writing","ai-proofreading":"Fix Grammar",translate:"Translate"}},onMentionQuery:n=>new Promise(e=>{setTimeout(()=>{const t=[{id:1,label:"Michael Yang"},{id:2,label:"Jean Zhou"},{id:3,label:"Tom Cruise"},{id:4,label:"Madonna"},{id:5,label:"Jerry Hall"},{id:6,label:"AI Assistant"}].filter(i=>i.label.toLowerCase().includes(n.toLowerCase())).slice(0,5);e(t)},50)}),onCreated:n=>{const e=localStorage.getItem("totalTokensUsed");if(e){J=parseInt(e,10)||0;const t=document.getElementById("tokenCount");t&&(t.textContent=J.toLocaleString())}},onChange:n=>{}});function _e(n){localStorage.setItem("aiModel",n),window.aiEditor?.options?.ai?.models?.openrouter&&(window.aiEditor.options.ai.models.openrouter.model=n);try{const e=z.get("openrouter");e?.aiModelConfig&&(e.aiModelConfig.model=n)}catch{}}function vr(){const n=document.getElementById("aiModelSelect");if(!n)return;const e=localStorage.getItem("aiModel")||"anthropic/claude-3.5-sonnet";n.value=e;let t=0;const i=10,o=()=>{window.aiEditor?.options?.ai?.models?.openrouter?_e(e):t<i&&(t++,requestAnimationFrame(()=>setTimeout(o,100)))};o(),n.addEventListener("change",r=>{const s=r.target.value;_e(s)})}function Fe(){vr()}document.readyState==="loading"?document.addEventListener("DOMContentLoaded",Fe,{once:!0}):requestAnimationFrame(Fe);
